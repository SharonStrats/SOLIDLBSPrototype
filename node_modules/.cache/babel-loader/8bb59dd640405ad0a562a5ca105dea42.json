{"ast":null,"code":"/**\n * An implementation of the RDF Dataset Normalization specification.\n * This library works in the browser and node.js.\n *\n * BSD 3-Clause License\n * Copyright (c) 2016-2017 Digital Bazaar, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * Redistributions in binary form must reproduce the above copyright\n * notice, this list of conditions and the following disclaimer in the\n * documentation and/or other materials provided with the distribution.\n *\n * Neither the name of the Digital Bazaar, Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS\n * IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED\n * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A\n * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\n * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n'use strict';\n\nvar _regeneratorRuntime = require(\"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\n\nvar util = require('./util');\n\nvar URDNA2015 = require('./URDNA2015');\n\nvar URGNA2012 = require('./URGNA2012');\n\nvar URDNA2015Sync = require('./URDNA2015Sync');\n\nvar URGNA2012Sync = require('./URGNA2012Sync'); // optional native support\n\n\nvar rdfCanonizeNative;\n\ntry {\n  rdfCanonizeNative = require('rdf-canonize-native');\n} catch (e) {}\n\nvar api = {};\nmodule.exports = api; // expose helpers\n\napi.NQuads = require('./NQuads');\napi.IdentifierIssuer = require('./IdentifierIssuer');\n/**\n * Get or set native API.\n *\n * @param api the native API.\n *\n * @return the currently set native API.\n */\n\napi._rdfCanonizeNative = function (api) {\n  if (api) {\n    rdfCanonizeNative = api;\n  }\n\n  return rdfCanonizeNative;\n};\n/**\n * Asynchronously canonizes an RDF dataset.\n *\n * @param dataset the dataset to canonize.\n * @param options the options to use:\n *          algorithm the canonicalization algorithm to use, `URDNA2015` or\n *            `URGNA2012`.\n *          [useNative] use native implementation (default: false).\n * @param [callback(err, canonical)] called once the operation completes.\n *\n * @return a Promise that resolves to the canonicalized RDF Dataset.\n */\n\n\napi.canonize = util.callbackify(\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(dataset, options) {\n    var callback, promise;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            promise = new Promise(function (resolve, reject) {\n              callback = function callback(err, canonical) {\n                if (err) {\n                  return reject(err);\n                }\n                /*if(options.format === 'application/n-quads') {\n                  canonical = canonical.join('');\n                }\n                canonical = _parseNQuads(canonical.join(''));*/\n\n\n                resolve(canonical);\n              };\n            }); // back-compat with legacy dataset\n\n            if (!Array.isArray(dataset)) {\n              dataset = api.NQuads.legacyDatasetToQuads(dataset);\n            } // TODO: convert algorithms to Promise-based async\n\n\n            if (!options.useNative) {\n              _context.next = 10;\n              break;\n            }\n\n            if (!rdfCanonizeNative) {\n              _context.next = 7;\n              break;\n            }\n\n            rdfCanonizeNative.canonize(dataset, options, callback);\n            _context.next = 8;\n            break;\n\n          case 7:\n            throw new Error('rdf-canonize-native not available');\n\n          case 8:\n            _context.next = 23;\n            break;\n\n          case 10:\n            if (!(options.algorithm === 'URDNA2015')) {\n              _context.next = 14;\n              break;\n            }\n\n            new URDNA2015(options).main(dataset, callback);\n            _context.next = 23;\n            break;\n\n          case 14:\n            if (!(options.algorithm === 'URGNA2012')) {\n              _context.next = 18;\n              break;\n            }\n\n            new URGNA2012(options).main(dataset, callback);\n            _context.next = 23;\n            break;\n\n          case 18:\n            if ('algorithm' in options) {\n              _context.next = 22;\n              break;\n            }\n\n            throw new Error('No RDF Dataset Canonicalization algorithm specified.');\n\n          case 22:\n            throw new Error('Invalid RDF Dataset Canonicalization algorithm: ' + options.algorithm);\n\n          case 23:\n            return _context.abrupt(\"return\", promise);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n/**\n * Synchronously canonizes an RDF dataset.\n *\n * @param dataset the dataset to canonize.\n * @param options the options to use:\n *          algorithm the canonicalization algorithm to use, `URDNA2015` or\n *            `URGNA2012`.\n *          [useNative] use native implementation (default: false).\n *\n * @return the RDF dataset in canonical form.\n */\n\napi.canonizeSync = function (dataset, options) {\n  // back-compat with legacy dataset\n  if (!Array.isArray(dataset)) {\n    dataset = api.NQuads.legacyDatasetToQuads(dataset);\n  }\n\n  if (options.useNative) {\n    if (rdfCanonizeNative) {\n      return rdfCanonizeNative.canonizeSync(dataset, options);\n    }\n\n    throw new Error('rdf-canonize-native not available');\n  }\n\n  if (options.algorithm === 'URDNA2015') {\n    return new URDNA2015Sync(options).main(dataset);\n  } else if (options.algorithm === 'URGNA2012') {\n    return new URGNA2012Sync(options).main(dataset);\n  }\n\n  if (!('algorithm' in options)) {\n    throw new Error('No RDF Dataset Canonicalization algorithm specified.');\n  }\n\n  throw new Error('Invalid RDF Dataset Canonicalization algorithm: ' + options.algorithm);\n};","map":null,"metadata":{},"sourceType":"script"}
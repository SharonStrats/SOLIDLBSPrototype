{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\SoDiAl\\\\Documents\\\\WebDev2019\\\\SolidReactTest\\\\src\\\\components\\\\AuthNavBar\\\\children\\\\NavbarProfile\\\\nav-bar-profile.component.js\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  margin-left: 10px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    background: #cccccc;\\n    display: block;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    box-sizing: border-box;\\n    width: 100%;\\n    height: 100%;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 42px;\\n    height: 42px;\\n    border-radius: 50%;\\n    background-size: cover;\\n    overflow: hidden;\\n    visibility: \", \";\\n    display: \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Dropdown } from \"../../../Utils\";\nimport auth from 'solid-auth-client';\nexport var ImageContainer = styled.div(_templateObject(), function (_ref) {\n  var show = _ref.show;\n  return show ? 'visible' : 'hidden';\n}, function (_ref2) {\n  var show = _ref2.show;\n  return show ? 'block' : 'none';\n});\nexport var Img = styled.img(_templateObject2());\nexport var LoadingImage = styled(ImageContainer)(_templateObject3());\nexport var UserName = styled.span(_templateObject4());\n\nvar NavBarProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NavBarProfile, _Component);\n\n  function NavBarProfile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NavBarProfile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NavBarProfile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      imageLoaded: false\n    };\n\n    _this.profileRedirect = function () {\n      return _this.props.history.push('/profile');\n    };\n\n    _this.onImageLoaded =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", _this.setState({\n                imageLoaded: true\n              }));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.logOut =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return auth.logout();\n\n            case 3:\n              // Remove localStorage\n              localStorage.removeItem('solid-auth-client'); // Redirect to login page\n\n              _this.props.history.push('/login');\n\n              _context2.next = 9;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n    return _this;\n  }\n\n  _createClass(NavBarProfile, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          t = _this$props.t,\n          img = _this$props.img,\n          open = _this$props.open,\n          customClass = _this$props.customClass;\n      var imageLoaded = this.state.imageLoaded;\n      var profileOpts = [{\n        label: t('navBar.profile'),\n        onClick: this.profileRedirect,\n        icon: 'cog'\n      }, {\n        label: t('navBar.logOut'),\n        onClick: this.logOut,\n        icon: 'lock'\n      }];\n      return img ? React.createElement(Dropdown, {\n        actions: profileOpts,\n        className: \"nav-bar--profile \".concat(customClass),\n        hover: true,\n        open: open,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(ImageContainer, {\n        show: imageLoaded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Img, {\n        show: imageLoaded,\n        src: img,\n        alt: \"profile\",\n        onLoad: this.onImageLoaded,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })), !imageLoaded && React.createElement(LoadingImage, {\n        show: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return NavBarProfile;\n}(Component);\n\nexport default NavBarProfile;","map":{"version":3,"sources":["C:\\Users\\SoDiAl\\Documents\\WebDev2019\\SolidReactTest\\src\\components\\AuthNavBar\\children\\NavbarProfile\\nav-bar-profile.component.js"],"names":["React","Component","styled","Dropdown","auth","ImageContainer","div","show","Img","img","LoadingImage","UserName","span","NavBarProfile","state","imageLoaded","profileRedirect","props","history","push","onImageLoaded","setState","logOut","logout","localStorage","removeItem","t","open","customClass","profileOpts","label","onClick","icon"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Dropdown } from '@util-components';\n\nimport auth from 'solid-auth-client';\n\nexport const ImageContainer = styled.div`\n    width: 42px;\n    height: 42px;\n    border-radius: 50%;\n    background-size: cover;\n    overflow: hidden;\n    visibility: ${({ show }) => (show ? 'visible' : 'hidden')};\n    display: ${({ show }) => (show ? 'block' : 'none')};\n`;\n\nexport const Img = styled.img`\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n`;\n\nexport const LoadingImage = styled(ImageContainer)`\n    background: #cccccc;\n    display: block;\n`;\n\nexport const UserName = styled.span`\n  display: inline-block;\n  margin-left: 10px;\n`;\n\nclass NavBarProfile extends Component {\n    state = {\n        imageLoaded: false,\n    };\n\n    profileRedirect = () => this.props.history.push('/profile');\n\n    onImageLoaded = async () => this.setState({ imageLoaded: true });\n    logOut = async () => {\n        try {\n            await auth.logout();\n            // Remove localStorage\n            localStorage.removeItem('solid-auth-client');\n            // Redirect to login page\n            this.props.history.push('/login');\n        } catch (error) {\n            // console.log(`Error: ${error}`);\n        }\n    };\n    render() {\n        const { t, img, open, customClass } = this.props;\n        const { imageLoaded } = this.state;\n\n        const profileOpts = [\n            {\n                label: t('navBar.profile'),\n                onClick: this.profileRedirect,\n                icon: 'cog'\n            },\n            {\n                label: t('navBar.logOut'),\n                onClick: this.logOut,\n                icon: 'lock'\n            },\n        ];\n\n        return img ? (\n            <Dropdown\n                actions={profileOpts}\n                className={`nav-bar--profile ${customClass}`}\n                hover={true}\n                open={open}\n            >\n                <ImageContainer show={imageLoaded}>\n                    <Img\n                        show={imageLoaded}\n                        src={img}\n                        alt=\"profile\"\n                        onLoad={this.onImageLoaded}\n                    />\n                </ImageContainer>\n                {!imageLoaded && <LoadingImage show={true} />}\n            </Dropdown>\n        ) : (\n            <div />\n        );\n    }\n}\n\nexport default NavBarProfile;\n"]},"metadata":{},"sourceType":"module"}
{"version":3,"sources":["webpack://solid.react/webpack/bootstrap","webpack://solid.react/external \"React\"","webpack://solid.react/external \"PropTypes\"","webpack://solid.react/./node_modules/@babel/runtime/helpers/extends.js","webpack://solid.react/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://solid.react/external [\"solid\",\"auth\"]","webpack://solid.react/external [\"solid\",\"data\"]","webpack://solid.react/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://solid.react/./node_modules/@babel/runtime/helpers/asyncIterator.js","webpack://solid.react/./src/hooks/useWebId.js","webpack://solid.react/./src/hooks/useLoggedIn.js","webpack://solid.react/./src/hooks/useLoggedOut.js","webpack://solid.react/./src/UpdateContext.js","webpack://solid.react/./src/hooks/useLiveUpdate.js","webpack://solid.react/./src/util.js","webpack://solid.react/./src/ExpressionEvaluator.js","webpack://solid.react/./src/hooks/useLDflex.js","webpack://solid.react/./src/hooks/useLDflexValue.js","webpack://solid.react/./src/hooks/useLDflexList.js","webpack://solid.react/./src/components/withWebId.jsx","webpack://solid.react/./src/components/evaluateExpressions.jsx","webpack://solid.react/./src/components/evaluateList.jsx","webpack://solid.react/./src/components/LoggedIn.jsx","webpack://solid.react/./src/components/LoggedOut.jsx","webpack://solid.react/./src/components/LoginButton.jsx","webpack://solid.react/./src/components/LogoutButton.jsx","webpack://solid.react/./src/components/AuthButton.jsx","webpack://solid.react/./src/components/Value.jsx","webpack://solid.react/./src/components/Image.jsx","webpack://solid.react/./src/components/Label.jsx","webpack://solid.react/./src/components/Link.jsx","webpack://solid.react/./src/components/Name.jsx","webpack://solid.react/./src/components/List.jsx","webpack://solid.react/./src/UpdateTracker.js","webpack://solid.react/./src/components/LiveUpdate.jsx","webpack://solid.react/./src/hooks/useLatestUpdate.js","webpack://solid.react/./src/components/ActivityButton.jsx","webpack://solid.react/./src/components/LikeButton.jsx","webpack://solid.react/./src/components/DislikeButton.jsx","webpack://solid.react/./src/components/FollowButton.jsx","webpack://solid.react/./src/prop-types.js","webpack://solid.react/./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","PropTypes","_extends","assign","target","arguments","length","source","apply","this","excluded","sourceKeys","keys","indexOf","solid","obj","configurable","writable","iterable","method","asyncIterator","iterator","TypeError","webId","undefined","subscribers","Set","getWebId","_","id","useWebId","reducer","_useReducer","useReducer","result","updateWebId","useDebugValue","useEffect","add","delete","auth","trackSession","session","subscriber","isNotNull","useLoggedIn","loggedIn","isNull","useLoggedOut","loggedOut","createContext","useLiveUpdate","latestUpdate","useContext","UpdateContext","timestamp","srcToLDflex","src","test","pick","destination","getDisplayName","Component","displayName","createTaskQueue","drop","timeBetween","concurrent","queue","scheduler","runQueuedTasks","setTimeout","splice","forEach","async","run","resolve","reject","error","schedule","functions","group","Array","isArray","tasks","results","map","Promise","push","clear","hadPendingTasks","filter","task","evaluatorQueue","ExpressionEvaluator","[object Object]","defineProperty_default","destroy","pending","cancel","values","lists","updateCallback","evaluators","entries","expr","evaluateAsValue","evaluateAsList","all","statuses","e","catch","console","warn","some","done","promise","resolveExpression","items","update","itemQueue","_iteratorError","_iteratorNormalCompletion","_didIteratorError","_step","_value","_iterator","asyncIterator_default","next","item","err","return","needsUpdate","expectedProperty","resolved","data","Error","list","none","useLDflex","expression","listMode","_useState","useState","_useState$","toString","evaluator","query","evaluate","changed","current","extends_default","useLDflexValue","useLDflexList","higherOrderComponent","createWrapper","Wrapper","props","external_React_default","a","createElement","evaluateExpressions","valueProps","listProps","_ref","initialState","EvaluateExpressions","args","super","componentDidMount","state","setState","componentDidUpdate","prevProps","newUser","componentWillUnmount","render","withWebId","EvaluateList","propName","WrappedComponent","LoggedIn","children","LoggedOut","LoginButton","popup","className","onClick","popupLogin","popupUri","LogoutButton","logout","AuthButton","login","objectWithoutPropertiesLoose_default","Value","_useLDflex","data-error","message","Image","defaultSrc","_ref$children","alt","Label","Link","href","Name","List","offset","limit","Infinity","container","index","slice","ALL","webSockets","fetchedUrls","UpdateTracker","constructor","subscribe","urls","url","replace","trackResource","unsubscribe","URL","protocol","host","webSocket","socketUrl","WebSocket","enqueue","onmessage","ready","onopen","send","match","exec","ldflex","clearCache","Date","on","has","Provider","LiveUpdate","setLatestUpdate","tracker","useLatestUpdate","trim","split","as","context","ActivityButton","_ref$activityType","activityType","_ref$object","window","location","_ref$shortName","shortName","_ref$className","toLowerCase","_ref$activateText","activateText","_ref$deactivateText","deactivateText","_ref$activateLabel","activateLabel","_ref$deactivateLabel","deactivateLabel","exists","setExists","activity","action","customActivityButton","type","activate","deactivate","deactivateNoChildren","_ref2","_ref2$children","_ref2$activateText","_ref2$deactivateText","ldflexExpression","oneOfType","string","numberString","number","array","element","needsChildren","isRequired","srcAndChildren","setPropTypes","propTypes","func","__webpack_exports__","LikeButton","DislikeButton","FollowButton"],"mappings":"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","file":"solid-react.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","module.exports = React;","module.exports = PropTypes;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","module.exports = solid[\"auth\"];","module.exports = solid[\"data\"];","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      method = iterable[Symbol.iterator];\n      if (method != null) return method.call(iterable);\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n\nmodule.exports = _asyncIterator;","import { useReducer, useEffect, useDebugValue } from 'react';\nimport auth from 'solid-auth-client';\n\n// Keep track of the WebID and the state setters tracking it\nlet webId = undefined;\nconst subscribers = new Set();\nconst getWebId = (_, id) => id;\n\n/**\n * Returns the WebID (string) of the active user,\n * `null` if there is no user,\n * or `undefined` if the user state is pending.\n */\nexport default function useWebId(reducer = getWebId) {\n  const [result, updateWebId] = useReducer(reducer, webId, reducer);\n  useDebugValue(webId);\n\n  useEffect(() => {\n    updateWebId(webId);\n    subscribers.add(updateWebId);\n    return () => subscribers.delete(updateWebId);\n  }, []);\n\n  return result;\n}\n\n// Inform subscribers when the WebID changes\nauth.trackSession(session => {\n  webId = session ? session.webId : null;\n  for (const subscriber of subscribers)\n    subscriber(webId);\n});\n","import { useDebugValue } from 'react';\nimport useWebId from './useWebId';\n\nconst isNotNull = (_, id) => id === undefined ? undefined : id !== null;\n\n/**\n * Returns whether the user is logged in,\n * or `undefined` if the user state is pending.\n */\nexport default function useLoggedIn() {\n  const loggedIn = useWebId(isNotNull);\n  useDebugValue(loggedIn);\n  return loggedIn;\n}\n","import { useDebugValue } from 'react';\nimport useWebId from './useWebId';\n\nconst isNull = (_, id) => id === undefined ? undefined : id === null;\n\n/**\n * Returns whether the user is logged out,\n * or `undefined` if the user state is pending.\n */\nexport default function useLoggedOut() {\n  const loggedOut = useWebId(isNull);\n  useDebugValue(loggedOut);\n  return loggedOut;\n}\n","import React from 'react';\n\n/**\n * Context that tracks the latest updates to resources\n * and has its value set to `{ timestamp, url }`.\n */\nexport default React.createContext({});\n","import { useContext, useDebugValue } from 'react';\nimport UpdateContext from '../UpdateContext';\n\n/**\n * Hook that rerenders components inside of a <LiveUpdate> container\n * whenever an update happens to one of the subscribed resources.\n *\n * This is a shortcut for using UpdateContext as a context,\n * and returns the latest update as `{ timestamp, url }`.\n */\nexport default function useLiveUpdate() {\n  const latestUpdate = useContext(UpdateContext);\n  useDebugValue(latestUpdate.timestamp || null);\n  return latestUpdate;\n}\n","/**\n * A src property should be a valid LDflex expression,\n * but it can also be specified as a URL.\n * This function turns URLs into valid LDflex expressions,\n * which is useful if you want to manipulate expressions directly.\n */\nexport function srcToLDflex(src) {\n  if (/^https?:[^\"]+$/.test(src))\n    src = `[\"${src}\"]`;\n  return src;\n}\n\n/**\n * Returns an object with only the given keys from the source.\n */\nexport function pick(source, keys) {\n  const destination = {};\n  for (const key of keys)\n    destination[key] = source[key];\n  return destination;\n}\n\n/**\n * Determines the display name of a component\n * https://reactjs.org/docs/higher-order-components.html\n */\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'Component';\n}\n\n/**\n * Creates a higher-order component with the given name.\n */\nexport function higherOrderComponent(name, createWrapper) {\n  return Component => {\n    const Wrapper = createWrapper(Component);\n    Wrapper.displayName = `${name}(${getDisplayName(Component)})`;\n    return Wrapper;\n  };\n}\n\n/**\n * Creates a task queue that enforces a minimum time between tasks.\n * Optionally, new tasks can cause any old ones to be dropped.\n */\nexport function createTaskQueue({\n  drop = false,\n  timeBetween = 10,\n  concurrent = drop ? 1 : 4,\n} = {}) {\n  let queue = [], scheduler = 0;\n\n  // Runs all queued tasks, with the required minimum time in between\n  function runQueuedTasks() {\n    scheduler = queue.length && setTimeout(runQueuedTasks, timeBetween);\n    queue.splice(0, concurrent).forEach(async ({ run, resolve, reject }) => {\n      try {\n        resolve(await run());\n      }\n      catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  return {\n    /** Schedules the given task(s) */\n    schedule: function schedule(functions, group = null) {\n      // Schedule a single task\n      if (!Array.isArray(functions))\n        return schedule([functions])[0];\n\n      // Create the tasks and their result promises\n      const tasks = [];\n      const results = functions.map(run =>\n        new Promise((resolve, reject) =>\n          tasks.push({ run, resolve, reject, group })));\n\n      // Schedule the tasks\n      if (drop)\n        queue = tasks;\n      else\n        queue.push(...tasks);\n      if (!scheduler)\n        runQueuedTasks();\n      return results;\n    },\n\n    /** Forgets pending tasks (optionally only those in a given group).\n        Returns a boolean indicating whether there were any. */\n    clear: function (group) {\n      const hadPendingTasks = queue.length > 0;\n      queue = queue.filter(task => group !== undefined && task.group !== group);\n      return hadPendingTasks;\n    },\n  };\n}\n","import { createTaskQueue } from './util';\nimport data from '@solid/query-ldflex';\n\nconst evaluatorQueue = createTaskQueue();\n\n/**\n * Evaluates a map of LDflex expressions into a singular value or a list.\n * Expressions can be changed and/or re-evaluated.\n */\nexport default class ExpressionEvaluator {\n  pending = {};\n  cancel = false;\n\n  /** Stops all pending and future evaluations */\n  destroy() {\n    this.pending = {};\n    this.cancel = true;\n    evaluatorQueue.clear(this);\n  }\n\n  /** Evaluates the given singular value and list expressions. */\n  async evaluate(values, lists, updateCallback) {\n    // Reset the pending status and clear any errors\n    updateCallback({ pending: true, error: undefined });\n\n    // Create evaluators for each expression, and mark them as pending\n    const evaluators = evaluatorQueue.schedule([\n      ...Object.entries(values).map(([key, expr]) =>\n        () => this.evaluateAsValue(key, expr, updateCallback)),\n      ...Object.entries(lists).map(([key, expr]) =>\n        () => this.evaluateAsList(key, expr, updateCallback)),\n    ], this);\n\n    // Wait until all evaluators are done (or one of them errors)\n    try {\n      await Promise.all(evaluators);\n    }\n    catch (error) {\n      updateCallback({ error });\n    }\n\n    // Update the pending flag if all evaluators wrote their value or errored,\n    // and if no new evaluators are pending\n    const statuses = await Promise.all(evaluators.map(e => e.catch(error => {\n      console.warn('@solid/react-components', 'Expression evaluation failed.', error);\n      return true;\n    })));\n    // Stop if results are no longer needed\n    if (this.cancel)\n      return;\n    // Reset the pending flag if all are done and no others are pending\n    if (!statuses.some(done => !done) && Object.keys(this.pending).length === 0)\n      updateCallback({ pending: false });\n  }\n\n  /** Evaluates the property expression as a singular value. */\n  async evaluateAsValue(key, expr, updateCallback) {\n    // Obtain and await the promise\n    const promise = this.resolveExpression(key, expr, 'then');\n    this.pending[key] = promise;\n    try {\n      const value = await promise;\n      // Stop if another evaluator took over in the meantime (component update)\n      if (this.pending[key] !== promise)\n        return false;\n      updateCallback({ [key]: value });\n    }\n    // Ensure the evaluator is removed, even in case of errors\n    finally {\n      if (this.pending[key] === promise)\n        delete this.pending[key];\n    }\n    return true;\n  }\n\n  /** Evaluates the property expression as a list. */\n  async evaluateAsList(key, expr, updateCallback) {\n    // Create the iterable\n    const iterable = this.resolveExpression(key, expr, Symbol.asyncIterator);\n    if (!iterable)\n      return true;\n    this.pending[key] = iterable;\n\n    // Read the iterable\n    const items = [];\n    const update = () => !this.cancel && updateCallback({ [key]: [...items] });\n    const itemQueue = createTaskQueue({ timeBetween: 100, drop: true });\n    try {\n      for await (const item of iterable) {\n        // Stop if another evaluator took over in the meantime (component update)\n        if (this.pending[key] !== iterable)\n          return false;\n        items.push(item);\n        itemQueue.schedule(update);\n      }\n    }\n    // Ensure pending updates are applied, and the evaluator is removed\n    finally {\n      const needsUpdate = itemQueue.clear();\n      if (this.pending[key] === iterable) {\n        if (needsUpdate)\n          update();\n        delete this.pending[key];\n      }\n    }\n    return true;\n  }\n\n  /** Resolves the property into an LDflex path. */\n  resolveExpression(key, expr, expectedProperty) {\n    // If the property is an LDflex string expression, resolve it\n    if (!expr)\n      return '';\n    const resolved = typeof expr === 'string' ? data.resolve(expr) : expr;\n\n    // Ensure that the resolved value is an LDflex path\n    if (!resolved || typeof resolved[expectedProperty] !== 'function')\n      throw new Error(`${key} should be an LDflex path or string but is ${expr}`);\n\n    return resolved;\n  }\n}\n","import { useState, useEffect, useDebugValue } from 'react';\nimport useWebId from './useWebId';\nimport useLiveUpdate from './useLiveUpdate';\nimport ExpressionEvaluator from '../ExpressionEvaluator';\n\nconst value = { result: undefined, pending: true, error: undefined };\nconst list = { result: [], pending: true, error: undefined };\nconst none = {};\n\n/**\n * Evaluates the Solid LDflex expression.\n * Returns an array of [result, pending, error].\n */\nexport default function useLDflex(expression, listMode = false) {\n  // The user's WebID and recent updates might influence the evaluation\n  const webId = useWebId();\n  const latestUpdate = useLiveUpdate();\n\n  // Obtain the latest expression result from the state\n  const [{ result, pending, error }, update] = useState(listMode ? list : value);\n  useDebugValue(error || result, toString);\n\n  // Set up the expression evaluator\n  useEffect(() => {\n    const evaluator = new ExpressionEvaluator();\n    const query = { result: expression };\n    evaluator.evaluate(!listMode ? query : none, listMode ? query : none,\n      changed => update(current => ({ ...current, ...changed })));\n    return () => evaluator.destroy();\n  }, [expression, latestUpdate, webId && typeof expression === 'string']);\n\n  // Return the state components\n  return [result, pending, error];\n}\n\nexport function toString(object) {\n  return Array.isArray(object) ? object.map(toString) : `${object}`;\n}\n","import { useDebugValue } from 'react';\nimport useLDflex, { toString } from './useLDflex';\n\n/**\n * Evaluates the Solid LDflex expression into a single value.\n */\nexport default function useLDflexValue(expression) {\n  const [value] = useLDflex(expression, false);\n  useDebugValue(value, toString);\n  return value;\n}\n","import { useDebugValue } from 'react';\nimport useLDflex, { toString } from './useLDflex';\n\n/**\n * Evaluates the Solid LDflex expression into a list.\n */\nexport default function useLDflexList(expression) {\n  const [items] = useLDflex(expression, true);\n  useDebugValue(items, toString);\n  return items;\n}\n","import React from 'react';\nimport useWebId from '../hooks/useWebId';\nimport { higherOrderComponent } from '../util';\n\n/**\n * Higher-order component that passes the WebID of the logged-in user\n * to the webId property of the wrapped component.\n */\nexport default higherOrderComponent('WithWebId', Component =>\n  props => <Component {...props} webId={useWebId()} />);\n","import React from 'react';\nimport withWebId from './withWebId';\nimport ExpressionEvaluator from '../ExpressionEvaluator';\nimport { pick, getDisplayName } from '../util';\n\n/**\n * Higher-order component that evaluates LDflex expressions in properties\n * and passes their results to the wrapped component.\n */\nexport default function evaluateExpressions(valueProps, listProps, Component) {\n  // Shift the optional listProps parameter when not specified\n  if (!Component)\n    [Component, listProps] = [listProps, []];\n  valueProps = valueProps ? [...valueProps] : [];\n  listProps = listProps ? [...listProps] : [];\n\n  // Create the initial state for all Component instances\n  const initialState = { pending: true };\n  for (const name of valueProps)\n    initialState[name] = undefined;\n  for (const name of listProps)\n    initialState[name] = [];\n\n  // Create a higher-order component that wraps the given Component\n  class EvaluateExpressions extends React.Component {\n    static displayName = `EvaluateExpressions(${getDisplayName(Component)})`;\n\n    state = initialState;\n\n    componentDidMount() {\n      this.evaluator = new ExpressionEvaluator();\n      this.update = state => this.setState(state);\n      this.evaluate(valueProps, listProps);\n    }\n\n    componentDidUpdate(prevProps) {\n      // A property needs to be re-evaluated if it changed\n      // or, if it is a string expression, when the user has changed\n      // (which might influence the expression's evaluation).\n      const newUser = this.props.webId !== prevProps.webId;\n      const changed = name => this.props[name] !== prevProps[name] ||\n          newUser && typeof this.props[name] === 'string';\n      this.evaluate(valueProps.filter(changed), listProps.filter(changed));\n    }\n\n    componentWillUnmount() {\n      this.evaluator.destroy();\n    }\n\n    render() {\n      return <Component {...this.props} {...this.state} />;\n    }\n\n    evaluate(values, lists) {\n      const { props, evaluator } = this;\n      if (values.length > 0 || lists.length > 0)\n        evaluator.evaluate(pick(props, values), pick(props, lists), this.update);\n    }\n  }\n  return withWebId(EvaluateExpressions);\n}\n","import evaluateExpressions from './evaluateExpressions';\n\n/**\n * Higher-order component that evaluates an LDflex list expression in a property\n * and passes its items to the wrapped component.\n */\nexport default function EvaluateList(propName, WrappedComponent) {\n  return evaluateExpressions([], [propName], WrappedComponent);\n}\n","import useLoggedIn from '../hooks/useLoggedIn';\n\n/** Pane that only shows its contents when the user is logged in. */\nexport default function LoggedIn({ children = null }) {\n  const loggedIn = useLoggedIn();\n  return loggedIn ? children : null;\n}\n","import useLoggedOut from '../hooks/useLoggedOut';\n\n/** Pane that only shows its contents when the user is logged out. */\nexport default function LoggedOut({ children = null }) {\n  const loggedOut = useLoggedOut();\n  return loggedOut ? children : null;\n}\n","import React from 'react';\nimport auth from 'solid-auth-client';\n\n/** Button that lets the user log in with Solid. */\nexport default function LoginButton({\n  popup,\n  children = 'Log in',\n  className = 'solid auth login',\n}) {\n  return <button\n    className={className}\n    onClick={() => auth.popupLogin({ popupUri: popup })}>{children}</button>;\n}\n","import React from 'react';\nimport auth from 'solid-auth-client';\n\n/** Button that lets the user log out with Solid. */\nexport default function LogoutButton({\n  children = 'Log out',\n  className = 'solid auth logout',\n}) {\n  return <button\n    className={className}\n    onClick={() => auth.logout()}>{children}</button>;\n}\n","import React from 'react';\nimport LoginButton from './LoginButton';\nimport LogoutButton from './LogoutButton';\nimport useLoggedIn from '../hooks/useLoggedIn';\n\n/** Button that lets the user log in or out with Solid.  */\nexport default function AuthButton({ login, logout, ...props }) {\n  return useLoggedIn() ?\n    <LogoutButton {...props}>{logout}</LogoutButton> :\n    <LoginButton {...props}>{login}</LoginButton>;\n}\n","import React from 'react';\nimport useLDflex from '../hooks/useLDflex';\n\n/** Displays the value of a Solid LDflex expression. */\nexport default function Value({ src, children }) {\n  const [value, pending, error] = useLDflex(src);\n  // Render stringified value\n  if (value !== undefined && value !== null)\n    return `${value}`;\n  // Render pending state\n  else if (pending)\n    return children || <span className=\"solid value pending\"/>;\n  // Render error state\n  else if (error)\n    return children || <span className=\"solid value error\" data-error={error.message}/>;\n  // Render empty value\n  else\n    return children || <span className=\"solid value empty\"/>;\n}\n","import React from 'react';\nimport useLDflexValue from '../hooks/useLDflexValue';\n\n/** Displays an image whose source is a Solid LDflex expression. */\nexport default function Image({ src, defaultSrc, children = null, ...props }) {\n  src = useLDflexValue(src) || defaultSrc;\n  return src ? <img src={src} alt=\"\" {...props}/> : children;\n}\n","import React from 'react';\nimport Value from './Value';\nimport { srcToLDflex } from '../util';\n\n/** Displays the label of a Solid LDflex subject. */\nexport default function Label({ src, children = null }) {\n  return <Value src={src && `${srcToLDflex(src)}.label`}>{children}</Value>;\n}\n","import React from 'react';\nimport Label from './Label';\nimport useLDflexValue from '../hooks/useLDflexValue';\n\n/** Creates a link to the value of the Solid LDflex expression. */\nexport default function Link({ href, children, ...props }) {\n  href = useLDflexValue(href) || '';\n  children = children || <Label src={href && `[${href}]`}>{`${href}`}</Label>;\n  return href ? <a href={href} {...props}>{children}</a> : children;\n}\n","import React from 'react';\nimport Value from './Value';\nimport { srcToLDflex } from '../util';\n\n/** Displays the name of a Solid LDflex subject. */\nexport default function Name({ src, children = null }) {\n  return <Value src={src && `${srcToLDflex(src)}.name`}>{children}</Value>;\n}\n","import React from 'react';\nimport useLDflexList from '../hooks/useLDflexList';\n\n/** Displays a list of items matching a Solid LDflex expression. */\nexport default function List({\n  src, offset = 0, limit = Infinity, filter = () => true,\n  container = items => <ul>{items}</ul>,\n  children = (item, index) => <li key={index}>{`${item}`}</li>,\n}) {\n  const items = useLDflexList(src)\n    .filter(filter)\n    .slice(offset, +offset + +limit)\n    .map(children);\n  return container ? container(items) : items;\n}\n","import auth from 'solid-auth-client';\nimport ldflex from '@solid/query-ldflex';\n\n// Wildcard for tracking all resources\nconst ALL = '*';\n// Subscribers per resource URL\nconst subscribers = {};\n// WebSockets per host\nconst webSockets = {};\n// All fetched URLs\nconst fetchedUrls = new Set();\n\n/**\n * Notifies a subscriber of updates to resources on a Solid server,\n * by listening to its WebSockets.\n */\nexport default class UpdateTracker {\n  /** Create a tracker that sends updates to the given subscriber function. */\n  constructor(subscriber) {\n    this.subscriber = subscriber;\n  }\n\n  /** Subscribes to changes in the given resources */\n  subscribe(...urls) {\n    for (let url of urls) {\n      // Create a new subscription to the resource if none existed\n      url = url.replace(/#.*/, '');\n      if (!(url in subscribers)) {\n        subscribers[url] = new Set();\n        if (url !== ALL)\n          trackResource(url);\n        else\n          fetchedUrls.forEach(trackResource);\n      }\n      // Add the new subscriber\n      subscribers[url].add(this.subscriber);\n    }\n  }\n\n  /** Unsubscribes to changes in the given resources */\n  unsubscribe(...urls) {\n    for (let url of urls) {\n      url = url.replace(/#.*/, '');\n      if (url in subscribers)\n        subscribers[url].delete(this.subscriber);\n    }\n  }\n}\n\n/** Tracks updates to the given resource */\nfunction trackResource(url) {\n  // Try to find an existing socket for the host\n  const { protocol, host } = new URL(url);\n  let webSocket = webSockets[host];\n\n  // If none exists, create a new one\n  if (!webSocket) {\n    const socketUrl = `${protocol.replace('http', 'ws')}//${host}/`;\n    webSockets[host] = webSocket = new WebSocket(socketUrl);\n    Object.assign(webSocket, { enqueue, onmessage,\n      ready: new Promise(resolve => (webSocket.onopen = resolve)),\n    });\n  }\n\n  // Subscribe to updates on the resource\n  webSocket.enqueue(`sub ${url}`);\n}\n\n/** Enqueues data on the WebSocket */\nasync function enqueue(data) {\n  await this.ready;\n  this.send(data);\n}\n\n/** Processes an update message from the WebSocket */\nfunction onmessage({ data }) {\n  // Verify the message is an update notification\n  const match = /^pub +(.+)/.exec(data);\n  if (!match)\n    return;\n\n  // Invalidate the cache for the resource\n  const url = match[1];\n  ldflex.clearCache(url);\n\n  // Notify the subscribers\n  const update = { timestamp: new Date(), url };\n  for (const subscriber of subscribers[url] || [])\n    subscriber(update);\n  for (const subscriber of subscribers[ALL] || [])\n    subscriber(update);\n}\n\n// Keep track of all fetched resources\nauth.on('request', url => {\n  if (!fetchedUrls.has(url)) {\n    if (ALL in subscribers)\n      trackResource(url);\n    fetchedUrls.add(url);\n  }\n});\n","import React from 'react';\nimport UpdateContext from '../UpdateContext';\nimport useLatestUpdate from '../hooks/useLatestUpdate';\n\nconst { Provider } = UpdateContext;\n\n/**\n * Component that creates an UpdateContext by subscribing\n * to updates of an array (or whitespace-separated string) of resources.\n *\n * Children or descendants that use UpdateContext as a context\n * will be rerendered if any of those resources are updated.\n */\nexport default function LiveUpdate({ subscribe = '*', children = null }) {\n  const urls = typeof subscribe !== 'string' ? subscribe :\n    (/\\S/.test(subscribe) ? subscribe.trim().split(/\\s+/) : []);\n  const latestUpdate = useLatestUpdate(...urls);\n  return <Provider value={latestUpdate}>{children}</Provider>;\n}\n","import { useState, useEffect, useDebugValue } from 'react';\nimport UpdateTracker from '../UpdateTracker';\n\n/**\n * Hook that subscribes to updates on the given resources,\n * returning the latest update as `{ timestamp, url }`.\n */\nexport default function useLatestUpdate(...urls) {\n  const [latestUpdate, setLatestUpdate] = useState({});\n  useDebugValue(latestUpdate.timestamp || null);\n  useEffect(() => {\n    const tracker = new UpdateTracker(setLatestUpdate);\n    tracker.subscribe(...urls);\n    return () => tracker.unsubscribe(...urls);\n  }, urls);\n  return latestUpdate;\n}\n","import React, { useState } from 'react';\nimport data from '@solid/query-ldflex';\nimport { srcToLDflex } from '../util';\nimport useLDflexValue from '../hooks/useLDflexValue';\n\nconst { as } = data.context;\n\n/**\n * Button that displays whether the user has performed an activity;\n * when clicked, performs the activity.\n */\nexport default function ActivityButton({\n  activityType = `${as}Like`,\n  object = `[${window.location.href}]`,\n  children,\n  shortName = /\\w*$/.exec(activityType)[0],\n  className = `solid activity ${shortName.toLowerCase()}`,\n  activateText = shortName,\n  deactivateText = activateText,\n  activateLabel = children ? [activateText, ' ', children] : activateText,\n  deactivateLabel = children ? [deactivateText, ' ', children] : deactivateText,\n  ...props\n}) {\n  // Look up a possibly existing activity\n  object = srcToLDflex(object);\n  const [exists, setExists] = useState();\n  const activity = useLDflexValue(`${object}.findActivity(\"${activityType}\")`);\n  if (exists === undefined && activity)\n    setExists(true);\n\n  // Creates a new activity (if none already exists)\n  async function toggleActivity() {\n    // Optimistically display the result\n    setExists(!exists);\n    try {\n      // Try performing the action\n      const action = !exists ? 'create' : 'delete';\n      await data.resolve(`${object}.${action}Activity(\"${activityType}\")`);\n      // Confirm the result (in case a concurrent action was pending)\n      setExists(!exists);\n    }\n    catch (error) {\n      // Revert to the previous state\n      setExists(exists);\n      console.warn('@solid/react-components', error);\n    }\n  }\n\n  // Return the activity button\n  className = `${className} ${exists ? 'performed' : ''}`;\n  return (\n    <button className={className} onClick={toggleActivity} {...props}>\n      { exists ? deactivateLabel : activateLabel }\n    </button>\n  );\n}\n\n// Internal helper for creating custom activity buttons\nexport function customActivityButton(type, activate, deactivate, deactivateNoChildren) {\n  const activityType = `${as}${type}`;\n  return ({\n    object,\n    children = object ? null : 'this page',\n    activateText = activate,\n    deactivateText = children ? deactivate : deactivateNoChildren,\n    ...props\n  }) =>\n    <ActivityButton {...props}\n      {...{ activityType, object, children, activateText, deactivateText }} />;\n}\n","import { customActivityButton } from './ActivityButton';\n\n/** Button to view and perform a \"Like\" action on an item. */\nexport default customActivityButton('Like', 'Like', 'You liked', 'Liked');\n","import { customActivityButton } from './ActivityButton';\n\n/** Button to view and perform a \"Dislike\" action on an item. */\nexport default customActivityButton('Dislike', 'Dislike', 'You disliked', 'Disliked');\n","import { customActivityButton } from './ActivityButton';\n\n/** Button to view and perform a \"Follow\" action on an item. */\nexport default customActivityButton('Follow', 'Follow', 'You follow', 'Following');\n","import {\n  array, element, func, number, object, string,\n  oneOfType,\n} from 'prop-types';\n\nconst ldflexExpression = oneOfType([string, object]);\nconst numberString = oneOfType([number, string]);\n\nconst children = oneOfType([array, string, element]);\nconst needsChildren = { children: children.isRequired };\nconst srcAndChildren = { src: ldflexExpression.isRequired, children };\n\nfunction setPropTypes(Component, ...propTypes) {\n  Component.propTypes = Object.assign({}, ...propTypes);\n}\n\nimport LoggedIn from './components/LoggedIn';\nsetPropTypes(LoggedIn, needsChildren);\n\nimport LoggedOut from './components/LoggedIn';\nsetPropTypes(LoggedOut, needsChildren);\n\nimport LoginButton from './components/LoginButton';\nsetPropTypes(LoginButton, { popup: string });\n\nimport AuthButton from './components/AuthButton';\nsetPropTypes(AuthButton, LoginButton.propTypes);\n\nimport Value from './components/Value';\nsetPropTypes(Value, srcAndChildren);\n\nimport Image from './components/Image';\nsetPropTypes(Image, srcAndChildren, { defaultSrc: string });\n\nimport Link from './components/Link';\nsetPropTypes(Link, { href: ldflexExpression.isRequired, children });\n\nimport Label from './components/Label';\nsetPropTypes(Label, srcAndChildren);\n\nimport Name from './components/Name';\nsetPropTypes(Name, srcAndChildren);\n\nimport List from './components/List';\nsetPropTypes(List, {\n  src: ldflexExpression.isRequired,\n  container: func,\n  children: func,\n  limit: numberString,\n  offset: numberString,\n  filter: func,\n});\n\nimport LiveUpdate from './components/LiveUpdate';\nsetPropTypes(LiveUpdate, { subscribe: oneOfType([array, string]) });\n","import useWebId from './hooks/useWebId';\nimport useLoggedIn from './hooks/useLoggedIn';\nimport useLoggedOut from './hooks/useLoggedOut';\nimport useLDflex from './hooks/useLDflex';\nimport useLDflexValue from './hooks/useLDflexValue';\nimport useLDflexList from './hooks/useLDflexList';\nimport useLiveUpdate from './hooks/useLiveUpdate';\n\nimport withWebId from './components/withWebId';\nimport evaluateExpressions from './components/evaluateExpressions';\nimport evaluateList from './components/evaluateList';\n\nimport LoggedIn from './components/LoggedIn';\nimport LoggedOut from './components/LoggedOut';\nimport LoginButton from './components/LoginButton';\nimport LogoutButton from './components/LogoutButton';\nimport AuthButton from './components/AuthButton';\nimport Value from './components/Value';\nimport Image from './components/Image';\nimport Link from './components/Link';\nimport Label from './components/Label';\nimport Name from './components/Name';\nimport List from './components/List';\nimport LiveUpdate from './components/LiveUpdate';\nimport ActivityButton from './components/ActivityButton';\nimport LikeButton from './components/LikeButton';\nimport DislikeButton from './components/DislikeButton';\nimport FollowButton from './components/FollowButton';\n\nimport UpdateContext from './UpdateContext';\n\nimport './prop-types';\n\nexport {\n  useWebId,\n  useLoggedIn,\n  useLoggedOut,\n  useLDflex,\n  useLDflexValue,\n  useLDflexList,\n  useLiveUpdate,\n\n  withWebId,\n  evaluateExpressions,\n  evaluateList,\n\n  LoggedIn,\n  LoggedOut,\n  LoginButton,\n  LogoutButton,\n  AuthButton,\n  Value,\n  Image,\n  Link,\n  Label,\n  Name,\n  List,\n  LiveUpdate,\n  ActivityButton,\n  LikeButton,\n  LikeButton as Like,\n  DislikeButton,\n  DislikeButton as Dislike,\n  FollowButton,\n  FollowButton as Follow,\n\n  UpdateContext,\n};\n"],"sourceRoot":""}
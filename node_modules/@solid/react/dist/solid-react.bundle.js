var solid="object"==typeof solid?solid:{};solid.react=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=627)}([function(e,t,r){"use strict";e.exports=r(268)},function(e,t,r){"use strict";(function(e){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),e&&e.env.COMUNICA_DEBUG||(Error.stackTraceLimit=!1),n(r(293)),n(r(294)),n(r(295)),n(r(142)),n(r(296))}).call(this,r(10))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){var n=r(7),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(173)),n(r(174)),n(r(372)),n(r(373))},function(e,t,r){e.exports=i;var n=r(54).EventEmitter;function i(){n.call(this)}r(2)(i,n),i.Readable=r(88),i.Writable=r(309),i.Duplex=r(310),i.Transform=r(311),i.PassThrough=r(312),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},function(e,t,r){var n=r(270);e.exports=n},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(301),i=r(302),o=r(144);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function g(e,t,r,n){return V(q(t,e.length-r),e,r,n)}function _(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function E(e,t,r,n){return V(U(t),e,r,n)}function S(e,t,r,n){return V(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function j(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(e,t,r,n,o){return o||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return o||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:q(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(9))},function(e,t,r){(function(t){var n=r(54).EventEmitter,i=0,o=1,a=4;function s(){if(!(this instanceof s))return new s;n.call(this),this.on("newListener",f),this._state=o,this._readable=!1}function u(e,t){e.emit(t)}function c(e,t){e._end(t)}function l(e){t(c,e)}function f(e){"data"===e&&(this.removeListener("newListener",f),this._addSingleListener("readable",d),this.readable&&t(h,d,this))}function d(){for(var e;this._hasListeners("data")&&null!==(e=this.read());)this.emit("data",e);this._hasListeners("data")||this.done||(this.removeListener("readable",d),this._addSingleListener("newListener",f))}function h(e,t){e.call(t)}function p(e,t,r){e.getProperty(r,function(e){t.setProperty(r,e)})}function y(){if(!(this instanceof y))return new y;s.call(this),this._changeState(a,!0)}function m(e){if(!(this instanceof m))return new m(e);s.call(this),this._item=e,null===e?this.close():this.readable=!0}function v(e){return this instanceof v?(s.call(this),e&&e.length>0?(this._buffer=Array.prototype.slice.call(e),void(this.readable=!0)):this.close()):new v(e)}function b(e){if(!(this instanceof b))return new b(e);s.call(this);var t,r=(e=e||{}).step,n=e.end,i=e.start;this._step=r=isFinite(r)?~~r:1,t=r>=0?1/0:-1/0,this._last=n=isFinite(n)?~~n:n===-t?n:t,this._next=i="number"!=typeof i?0:isFinite(i)?~~i:i,!isFinite(i)||(r>=0?i>n:i<n)?this.close():this.readable=!0}function g(e){if(!(this instanceof g))return new g(e);s.call(this);var r=(e=e||{}).maxBufferSize,n=e.autoStart;this._state=i,this._buffer=[],this._pushedCount=0,this.maxBufferSize=r,this._reading=!0,t(_,this,!1!==n||n)}function _(e,t){e._init(t)}function w(e){e._reading||(e._reading=!0,t(E,e))}function E(e){e._reading=!1,e._fillBuffer()}function S(e,t){if(!(this instanceof S))return new S(e,t);e&&C(e.read)||(t||(t=e),e=t&&t.source),g.call(this,t),e&&(this.source=e),this._optional=!(!t||!t.optional),this._destroySource=!t||!1!==t.destroySource}function T(){return this._source}function O(e){this._destination.emit("error",e)}function x(){this._destination._closeWhenDone()}function A(){this._destination._fillBuffer()}function I(e,t,r){var n,i=e._source;i&&!i.ended&&null!==(n=i.read())?e._optional?N(e,n,t):e._transform(n,t):r()}function N(e,t,r){var n=e._pushedCount;e._transform(t,function(){n===e._pushedCount&&e._push(t),r()})}function j(e,t){if(!(this instanceof j))return new j(e,t);if(S.call(this,e,t),t=t||!C(e&&e.read)&&e){var r=t.limit,n=t.offset,i=t.filter,o=t.map,a=C(t)?t:t.transform,s=t.prepend,u=t.append;n===1/0||r===-1/0?this._limit=0:(isFinite(n)&&(this._offset=Math.max(~~n,0)),isFinite(r)&&(this._limit=Math.max(~~r,0)),C(i)&&(this._filter=i),C(o)&&(this._map=o),C(a)&&(this._transform=a)),s&&(this._prepender=s.on?s:new v(s)),u&&(this._appender=u.on?u:new v(u))}}function k(e,t,r,n){var i,o=e._source;if(o&&!o.ended){for(0===e._limit&&e.close();!e.closed&&e._pushedCount<t&&null!==(i=o.read());)if(e._filter(i)&&(0===e._offset||!e._offset--)){var a=null===e._map?i:e._map(i);if(null===a)e._optional&&e._push(i);else{if(null!==e._transform)return void(e._optional?N(e,a,r):e._transform(a,r));e._push(a)}0==--e._limit&&e.close()}n()}else n()}function R(e,t){if(!(this instanceof R))return new R(e,t);S.call(this,e,t),this._transformerQueue=[]}function P(e){if(!(this instanceof P))return new P(e);s.call(this),this._readPosition=0,e&&(this.source=e)}function D(e,t,r,n){t.getProperty(r,function(t){e._properties&&r in e._properties||n(t)})}function M(e){var t,r=[];if(this.readAt=function(t){var n=null;return t<r.length?n=r[t]:e.ended||null===(n=e.read())||(r[t]=n),n},this.endsAt=function(t){return t===r.length&&e.ended},this.register=function(e){t&&t.push(e)},this.unregister=function(e){var r;t&&(r=t.indexOf(e))>=0&&t.splice(r,1)},!e.ended){function n(){for(var e=0;e<t.length;e++)t[e].readable=!0}function i(e){for(var r=0;r<t.length;r++)t[r].emit("error",e)}t=[],e.on("readable",n),e.on("end",function o(){for(var a=0;a<t.length;a++)t[a]._readPosition===r.length&&t[a].close();t=null;e.removeListener("end",o);e.removeListener("error",i);e.removeListener("readable",n)}),e.on("error",i)}}function C(e){return"function"==typeof e}(s.STATES=["INIT","OPEN","CLOSING","CLOSED","ENDED","DESTROYED"]).forEach(function(e,t){s[e]=t}),function e(t){t.prototype=Object.create(this.prototype,{constructor:{value:t,configurable:!0,writable:!0}}),t.subclass=e}.call(n,s),s.prototype._changeState=function(e,r){var n=e>this._state&&this._state<a;return n&&(this._state=e,e===a&&(r?t(u,this,"end"):this.emit("end"))),n},s.prototype.read=function(){return null},s.prototype.each=function(e,t){this.on("data",t?e.bind(t):e)},s.prototype._hasListeners=function(e){return this._events&&e in this._events},s.prototype._addSingleListener=function(e,t){var r=this._events&&this._events[e];r&&!(C(r)?r!==t:r.indexOf(t)<0)||this.on(e,t)},s.prototype.close=function(){this._changeState(3)&&l(this)},s.prototype.destroy=function(e){if(!this.done){var t=this;this._destroy(e,function(r){(e=e||r)&&t.emit("error",e),c(t,!0)})}},s.prototype._destroy=function(e,t){t()},s.prototype._end=function(e){this._changeState(e?5:a)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))},Object.defineProperty(s.prototype,"readable",{get:function(){return this._readable},set:function(e){e=!!e&&!this.done,this._readable!==e&&(this._readable=e,e&&t(u,this,"readable"))},enumerable:!0}),Object.defineProperty(s.prototype,"closed",{get:function(){return this._state>=2},enumerable:!0}),Object.defineProperty(s.prototype,"ended",{get:function(){return this._state===a},enumerable:!0}),Object.defineProperty(s.prototype,"destroyed",{get:function(){return 5===this._state},enumerable:!0}),Object.defineProperty(s.prototype,"done",{get:function(){return this._state>=a},enumerable:!0}),s.prototype.getProperty=function(e,r){var n,i=this._properties;if(!r)return i&&i[e];i&&e in i?t(r,i[e]):((n=this._propertyCallbacks)||(this._propertyCallbacks=n=Object.create(null)),e in n?n[e].push(r):n[e]=[r])},s.prototype.setProperty=function(e,r){(this._properties||(this._properties=Object.create(null)))[e]=r;var n,i=this._propertyCallbacks;if(n=i&&i[e]){for(e in delete i[e],1===n.length?t(n[0],r):t(function(){for(var e=0;e<n.length;e++)n[e](r)}),i)return;delete this._propertyCallbacks}},s.prototype.getProperties=function(){var e=this._properties,t={};for(var r in e)t[r]=e[r];return t},s.prototype.setProperties=function(e){for(var t in e)this.setProperty(t,e[t])},s.prototype.copyProperties=function(e,t){for(var r=0;r<t.length;r++)p(e,this,t[r])},s.prototype.toString=function(){var e=this._toStringDetails();return"["+this.constructor.name+(e?" "+e+"]":"]")},s.prototype._toStringDetails=function(){},s.subclass(y),s.subclass(m),m.prototype.read=function(){var e=this._item;return this._item=null,this.close(),e},m.prototype._toStringDetails=function(){return null===this._item?"":"("+this._item+")"},s.subclass(v),v.prototype.read=function(){var e=this._buffer,t=null;return e&&(t=e.shift(),e.length||(delete this._buffer,this.close())),t},v.prototype._toStringDetails=function(){return"("+(this._buffer&&this._buffer.length||0)+")"},v.prototype._destroy=function(e,t){delete this._buffer,t()},s.subclass(b),b.prototype.read=function(){if(this.closed)return null;var e=this._next,t=this._step,r=this._last,n=this._next+=t;return(t>=0?n>r:n<r)&&this.close(),e},b.prototype._toStringDetails=function(){return"("+this._next+"..."+this._last+")"},s.range=function(e,t,r){return new b({start:e,end:t,step:r})},s.subclass(g),Object.defineProperty(g.prototype,"maxBufferSize",{set:function(e){e!==1/0&&(e=isFinite(e)?Math.max(~~e,1):4),this._maxBufferSize!==e&&(this._maxBufferSize=e,this._state===o&&this._fillBuffer())},get:function(){return this._maxBufferSize},enumerable:!0}),g.prototype._init=function(e){var t=this;this._reading=!0,this._begin(function(){if(!t)throw new Error("done callback called multiple times");t._reading=!1,t._changeState(o),e?w(t):t.readable=!0,t=null})},g.prototype._begin=function(e){e()},g.prototype.read=function(){if(this.done)return null;var e,t=this._buffer;return t.length?e=t.shift():(e=null,this.readable=!1),!this._reading&&t.length<this._maxBufferSize&&(this.closed?t.length||l(this):w(this)),e},g.prototype._read=function(e,t){t()},g.prototype._push=function(e){this.done||(this._pushedCount++,this._buffer.push(e),this.readable=!0)},g.prototype._fillBuffer=function(){var e,t=this;this._reading||(this.closed?this._completeClose():(e=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(e,function(){if(!e)throw new Error("done callback called multiple times");e=0,t._reading=!1,t.closed?t._completeClose():t._pushedCount&&(t.readable=!0,t._buffer.length<t._maxBufferSize/2&&w(t))})))},g.prototype.close=function(){this._reading?this._changeState(2):this._completeClose()},g.prototype._completeClose=function(){if(this._changeState(3)){var e=this;this._reading=!0,this._flush(function(){if(!e._reading)throw new Error("done callback called multiple times");e._reading=!1,e._buffer.length||l(e)})}},g.prototype._destroy=function(e,t){this._buffer=[],t()},g.prototype._flush=function(e){e()},g.prototype._toStringDetails=function(){var e=this._buffer,t=e.length;return"{"+(t?"next: "+e[0]+", ":"")+"buffer: "+t+"}"},g.subclass(S),Object.defineProperty(S.prototype,"source",{set:function(e){this._validateSource(e),this._source=e,e._destination=this,e.ended?this.close():(e.on("end",x),e.on("readable",A),e.on("error",O))},get:T,enumerable:!0}),S.prototype._validateSource=function(e,t){if(this._source)throw new Error("The source cannot be changed after it has been set");if(!e||!C(e.read)||!C(e.on))throw new Error("Invalid source: "+e);if(!t&&e._destination)throw new Error("The source already has a destination")},S.prototype._read=function(e,r){var n=this;I(n,function i(){n._pushedCount<e&&!n.closed?t(I,n,i,r):r()},r)},S.prototype._transform=function(e,t){this._push(e),t()},S.prototype._closeWhenDone=function(){this.close()},S.prototype._end=function(e){var t=this._source;t&&(t.removeListener("end",x),t.removeListener("error",O),t.removeListener("readable",A),delete t._destination,this._destroySource&&t.destroy()),g.prototype._end.call(this,e)},s.wrap=S,S.subclass(j),j.prototype._offset=0,j.prototype._limit=1/0,j.prototype._filter=function(){return!0},j.prototype._map=null,j.prototype._transform=null,j.prototype._read=function(e,r){var n=this;k(n,e,function i(){t(k,n,e,i,r)},r)},j.prototype._begin=function(e){this._insert(this._prepender,e),delete this._prepender},j.prototype._flush=function(e){this._insert(this._appender,e),delete this._appender},j.prototype._insert=function(e,t){var r=this;function n(e){r._push(e)}!e||e.ended?t():(e.on("data",n),e.on("end",function r(){e.removeListener("data",n);e.removeListener("end",r);t()}))},s.prototype.transform=function(e){return new j(this,e)},s.prototype.map=function(e,t){return this.transform({map:t?e.bind(t):e})},s.prototype.filter=function(e,t){return this.transform({filter:t?e.bind(t):e})},s.prototype.prepend=function(e){return this.transform({prepend:e})},s.prototype.append=function(e){return this.transform({append:e})},s.prototype.surround=function(e,t){return this.transform({prepend:e,append:t})},s.prototype.skip=function(e){return this.transform({offset:e})},s.prototype.take=function(e){return this.transform({limit:e})},s.prototype.range=function(e,t){return this.transform({offset:e,limit:Math.max(t-e+1,0)})},S.subclass(R),R.prototype._read=function(e,t){for(var r,n,i,o=this._transformerQueue,a=this._source,s=this._optional;(n=o[0])&&n.transformer.ended;)s&&null!==n.item&&(this._push(n.item),e--),(i=(n=o.shift()).transformer).removeListener("end",A),i.removeListener("readable",A),i.removeListener("error",O);for(;a&&!a.ended&&o.length<this._maxBufferSize&&null!==(r=this._source.read());)(i=this._createTransformer(r)||new y)._destination=this,i.on("end",A),i.on("readable",A),i.on("error",O),o.push({transformer:i,item:r});if(n=o[0])for(i=n.transformer;e-- >0&&null!==(r=i.read());)this._push(r),s&&(n.item=null);else a&&a.ended&&this.close();t()},R.prototype._createTransformer=m,R.prototype._closeWhenDone=function(){this._transformerQueue.length||this.close()},S.subclass(P),Object.defineProperty(P.prototype,"source",{set:function(e){var t=e&&e._destination;this._validateSource(e,!t||t instanceof M),this._source=e,t||(t=e._destination=new M(e)),t.endsAt(0)?this.close():(t.register(this),null!==t.readAt(0)&&(this.readable=!0));var r=this._propertyCallbacks;for(var n in r)for(var i=r[n],o=0;o<i.length;o++)D(this,e,n,i[o])},get:T,enumerable:!0}),P.prototype.getProperty=function(e,t){var r=this._properties,n=this._source,i=r&&e in r;if(!t)return i?r[e]:n&&n.getProperty(e);s.prototype.getProperty.call(this,e,t),n&&!i&&D(this,n,e,t)},P.prototype.getProperties=function(){var e=this._source?this._source.getProperties():{},t=this._properties;for(var r in t)e[r]=t[r];return e},P.prototype._toStringDetails=function(){var e=this._source;return"{source: "+(e?e.toString():"none")+"}"},P.prototype.read=function(){var e=this._source,t=null;if(!this.done&&e){var r=e._destination;null!==(t=r.readAt(this._readPosition))?this._readPosition++:this.readable=!1,r.endsAt(this._readPosition)&&this.close()}return t},P.prototype._end=function(e){var t=this._source&&this._source._destination;t&&t.unregister(this),g.prototype._end.call(this,e)},P.prototype.close=s.prototype.close,s.prototype.clone=function(){return new P(this)},e.exports=s,s.AsyncIterator=s,s.EmptyIterator=s.empty=y,s.SingletonIterator=s.single=m,s.ArrayIterator=s.fromArray=v,s.IntegerIterator=b,s.BufferedIterator=g,s.TransformIterator=S,s.SimpleTransformIterator=j,s.MultiTransformIterator=R,s.ClonedIterator=P}).call(this,r(16).setImmediate)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=r(469).Buffer}catch(e){}function s(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;o<i;o++){var a=e.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=e.length-6,n=0;r>=t;r-=6)i=s(e,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==t&&(i=s(e,t,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,l=r;l<s;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(e=e||10,t=0|t||1,16===e||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var d=l[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?y+r:c[d-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,r){var n,i,o,a=e.words,s=t.words,u=r.words,c=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,y=h>>>13,m=0|a[2],v=8191&m,b=m>>>13,g=0|a[3],_=8191&g,w=g>>>13,E=0|a[4],S=8191&E,T=E>>>13,O=0|a[5],x=8191&O,A=O>>>13,I=0|a[6],N=8191&I,j=I>>>13,k=0|a[7],R=8191&k,P=k>>>13,D=0|a[8],M=8191&D,C=D>>>13,L=0|a[9],F=8191&L,B=L>>>13,q=0|s[0],U=8191&q,V=q>>>13,z=0|s[1],Q=8191&z,G=z>>>13,H=0|s[2],$=8191&H,J=H>>>13,X=0|s[3],Y=8191&X,K=X>>>13,W=0|s[4],Z=8191&W,ee=W>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ye=he>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,V))+Math.imul(d,U)|0))<<13)|0;c=((o=Math.imul(d,V))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,V))+Math.imul(y,U)|0,o=Math.imul(y,V);var ve=(c+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,G)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,G)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,U),i=(i=Math.imul(v,V))+Math.imul(b,U)|0,o=Math.imul(b,V),n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,G)|0;var be=(c+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(d,$)|0))<<13)|0;c=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,U),i=(i=Math.imul(_,V))+Math.imul(w,U)|0,o=Math.imul(w,V),n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,J)|0;var ge=(c+(n=n+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(d,Y)|0))<<13)|0;c=((o=o+Math.imul(d,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(S,U),i=(i=Math.imul(S,V))+Math.imul(T,U)|0,o=Math.imul(T,V),n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,K)|0;var _e=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,V))+Math.imul(A,U)|0,o=Math.imul(A,V),n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,G)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(v,Y)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,K)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(N,U),i=(i=Math.imul(N,V))+Math.imul(j,U)|0,o=Math.imul(j,V),n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,J)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,K)|0,n=n+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Ee=(c+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,V))+Math.imul(P,U)|0,o=Math.imul(P,V),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,G)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,K)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var Se=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,U),i=(i=Math.imul(M,V))+Math.imul(C,U)|0,o=Math.imul(C,V),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,J)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Te=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(F,U),i=(i=Math.imul(F,V))+Math.imul(B,U)|0,o=Math.imul(B,V),n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,G)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Oe=(c+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(F,Q),i=(i=Math.imul(F,G))+Math.imul(B,Q)|0,o=Math.imul(B,G),n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(b,fe)|0,o=o+Math.imul(b,de)|0;var xe=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(F,$),i=(i=Math.imul(F,J))+Math.imul(B,$)|0,o=Math.imul(B,J),n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,ce)|0,n=n+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(w,fe)|0,o=o+Math.imul(w,de)|0;var Ae=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(F,Y),i=(i=Math.imul(F,K))+Math.imul(B,Y)|0,o=Math.imul(B,K),n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,ae)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,ae)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(T,fe)|0,o=o+Math.imul(T,de)|0;var Ie=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(F,Z),i=(i=Math.imul(F,ee))+Math.imul(B,Z)|0,o=Math.imul(B,ee),n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,n=n+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,ce)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,de)|0;var Ne=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,ye)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(F,re),i=(i=Math.imul(F,ne))+Math.imul(B,re)|0,o=Math.imul(B,ne),n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(N,fe)|0,i=(i=i+Math.imul(N,de)|0)+Math.imul(j,fe)|0,o=o+Math.imul(j,de)|0;var je=(c+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(F,oe),i=(i=Math.imul(F,ae))+Math.imul(B,oe)|0,o=Math.imul(B,ae),n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,ce)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,de)|0;var ke=(c+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ye)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(F,ue),i=(i=Math.imul(F,ce))+Math.imul(B,ue)|0,o=Math.imul(B,ce),n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,de)|0;var Re=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(F,fe),i=(i=Math.imul(F,de))+Math.imul(B,fe)|0,o=Math.imul(B,de);var Pe=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(C,pe)|0))<<13)|0;c=((o=o+Math.imul(C,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var De=(c+(n=Math.imul(F,pe))|0)+((8191&(i=(i=Math.imul(F,ye))+Math.imul(B,pe)|0))<<13)|0;return c=((o=Math.imul(B,ye))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=me,u[1]=ve,u[2]=be,u[3]=ge,u[4]=_e,u[5]=we,u[6]=Ee,u[7]=Se,u[8]=Te,u[9]=Oe,u[10]=xe,u[11]=Ae,u[12]=Ie,u[13]=Ne,u[14]=je,u[15]=ke,u[16]=Re,u[17]=Pe,u[18]=De,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<a;h++){var p=r[l+h],y=n[l+h],m=r[l+h+a],v=n[l+h+a],b=f*m-d*v;v=f*v+d*m,m=b,r[l+h]=p+m,n[l+h]=y+v,r[l+h+a]=p-m,n[l+h+a]=y-v,h!==s&&(b=u*f-c*d,d=u*d+c*f,f=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,f,n,i);for(var h=0;h<n;h++){var p=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,n),this.transform(s,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<r;this.words[t]=u|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var d=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(i,d,f);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,y=1;0==(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(u)):(r.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,d=1;0==(r.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(r.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(b,v),b.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(g,v),i(_,v),i(w,v),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new g;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return m[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var y=h,m=0;0!==y.cmp(s);m++)y=y.redSqr();n(m<p);var v=this.pow(f,new o(1).iushln(p-m-1));d=d.redMul(v),f=v.redSqr(),h=h.redMul(f),p=m}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===n&&0===l)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new S(e)},i(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(38)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(375);t.getLiteralLanguage=n.getLiteralLanguage,t.getLiteralType=n.getLiteralType,t.getLiteralValue=n.getLiteralValue,t.quadToStringQuad=n.quadToStringQuad,t.stringQuadToQuad=n.stringQuadToQuad,t.stringToTerm=n.stringToTerm,t.termToString=n.termToString},function(e,t,r){e.exports=r(624)()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(379);t.translate=n.default;const i=r(74);t.Algebra=i;const o=r(97);t.Factory=o.default;const a=r(385);t.toSparql=a.toSparql,t.toSparqlJs=a.toSparqlJs;const s=r(177);t.Util=s.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(317))},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(306),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(9))},function(e,t,r){"use strict";var n=t;n.version=r(475).version,n.utils=r(476),n.rand=r(232),n.curve=r(78),n.curves=r(481),n.ec=r(489),n.eddsa=r(493)},function(e,t,r){"use strict";(function(t,n){const i=r(30),o=r(21),a=r(91).IdentifierIssuer,s=r(31),u=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,f={accept:"application/ld+json, application/json"},d={};e.exports=d,d.IdentifierIssuer=a;const h="function"==typeof t&&t,p=h?e=>h(e):e=>setTimeout(e,0);function y(e,t,r){d.nextTick(()=>e(t,r))}"object"==typeof n&&"function"==typeof n.nextTick?d.nextTick=n.nextTick:d.nextTick=p,d.setImmediate=h?p:d.nextTick,d.clone=function(e){if(e&&"object"==typeof e){let t;if(o.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=d.clone(e[r])}else if(o.isObject(e)){t={};for(const r in e)t[r]=d.clone(e[r])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=((e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+f.accept+'" is supported.');return Object.assign({Accept:f.accept},e)}),d.parseLinkHeader=(e=>{const t={},r=e.match(u);for(let e=0;e<r.length;++e){let n=r[e].match(c);if(!n)continue;const i={target:n[1]},o=n[2];for(;n=l.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];const a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t[a]=a in t?[t[a],i]:i}return t}),d.validateTypeValue=(e=>{if(o.isString(e)||o.isEmptyObject(e))return;let t=!1;if(o.isArray(e)){t=!0;for(let r=0;r<e.length;++r)if(!o.isString(e[r])){t=!1;break}}if(!t)throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}),d.hasProperty=((e,t)=>{if(t in e){const r=e[t];return!o.isArray(r)||r.length>0}return!1}),d.hasValue=((e,t,r)=>{if(d.hasProperty(e,t)){let n=e[t];const a=i.isList(n);if(o.isArray(n)||a){a&&(n=n["@list"]);for(let e=0;e<n.length;++e)if(d.compareValues(r,n[e]))return!0}else if(!o.isArray(r))return d.compareValues(r,n)}return!1}),d.addValue=((e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),o.isArray(r)){0!==r.length||!n.propertyIsArray||t in e||(e[t]=[]);for(let i=0;i<r.length;++i)d.addValue(e,t,r[i],n)}else if(t in e){const i=!n.allowDuplicate&&d.hasValue(e,t,r);o.isArray(e[t])||i&&!n.propertyIsArray||(e[t]=[e[t]]),i||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r}),d.getValues=((e,t)=>[].concat(e[t]||[])),d.removeProperty=((e,t)=>{delete e[t]}),d.removeValue=((e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=d.getValues(e,t).filter(e=>!d.compareValues(e,r));0===i.length?d.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]}),d.relabelBlankNodes=((e,t)=>{return function e(t,r){if(o.isArray(r))for(let n=0;n<r.length;++n)r[n]=e(t,r[n]);else if(i.isList(r))r["@list"]=e(t,r["@list"]);else if(o.isObject(r)){i.isBlankNode(r)&&(r["@id"]=t.getId(r["@id"]));const n=Object.keys(r).sort();for(let i=0;i<n.length;++i){const o=n[i];"@id"!==o&&(r[o]=e(t,r[o]))}}return r}((t=t||{}).issuer||new a("_:b"),e)}),d.compareValues=((e,t)=>e===t||(!(!i.isValue(e)||!i.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(o.isObject(e)&&"@id"in e&&o.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"])),d.compareShortestLeast=((e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1),d.normalizeDocumentLoader=(e=>e.length<2?d.callbackify(e):async function(t){const r=arguments[1];return new Promise((n,i)=>{try{e(t,(e,t)=>{if("function"==typeof r)return y(r,e,t);e?i(e):n(t)})}catch(e){if("function"==typeof r)return y(r,e);i(e)}})}),d.callbackify=(e=>(async function(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=await e.apply(null,t)}catch(e){if("function"==typeof r)return y(r,e);throw e}return"function"==typeof r?y(r,null,n):n}))}).call(this,r(16).setImmediate,r(10))},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},function(e,t,r){"use strict";const n={};e.exports=n,n.isArray=Array.isArray,n.isBoolean=(e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)),n.isDouble=(e=>n.isNumber(e)&&-1!==String(e).indexOf(".")),n.isEmptyObject=(e=>n.isObject(e)&&0===Object.keys(e).length),n.isNumber=(e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)),n.isNumeric=(e=>!isNaN(parseFloat(e))&&isFinite(e)),n.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),n.isString=(e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)),n.isUndefined=(e=>void 0===e)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(169)),n(r(367))},function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=r(1);const i=new n.default;if(t.default=i,Object.getOwnPropertyNames(n.default.prototype).forEach(e=>{const t=i[e];"function"==typeof t&&(i[e]=t.bind(i))}),"undefined"!=typeof window)if("SolidAuthClient"in window)console.warn("Caution: multiple versions of solid-auth-client active.");else{let e=!1;Object.defineProperty(window,"SolidAuthClient",{enumerable:!0,get:()=>(e||(e=!0,console.warn("window.SolidAuthClient has been deprecated."),console.warn("Please use window.solid.auth instead.")),i)})}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return m});var n=r(2),i=r.n(n),o=r(3),a=r.n(o),s=r(4),u=r.n(s),c=r(5),l=r(81),f=r(9),d=r(10),h=r(7),p=r(12);const y=fetch;class m extends u.a{constructor(...e){super(...e),a()(this,"_pendingSession",void 0)}fetch(e,t){return this.emit("request",Object(h.toUrlString)(e)),Object(c.authnFetch)(Object(d.defaultStorage)(),y,e,t)}login(e,t){return t=i()({},v(Object(h.currentUrlNoParams)()),t),p.login(e,t)}async popupLogin(e){e=i()({},v(),e),/https?:/.test(e.popupUri)||(e.popupUri=new URL(e.popupUri||"/.well-known/solid/login",window.location).toString()),e.callbackUri||(e.callbackUri=e.popupUri);const t=Object(l.openIdpPopup)(e.popupUri),r=await Object(l.obtainSession)(e.storage,t,e);return this.emit("login",r),this.emit("session",r),r}async currentSession(e=Object(d.defaultStorage)()){let t=this._pendingSession||await Object(f.getSession)(e);if(!t){try{this._pendingSession=p.currentSession(e),t=await this._pendingSession}catch(e){console.error(e)}t&&(await Object(f.saveSession)(e)(t),this.emit("login",t),this.emit("session",t)),delete this._pendingSession}return t}async trackSession(e){e(await this.currentSession()),this.on("session",e)}async logout(e=Object(d.defaultStorage)()){if(await Object(f.getSession)(e)){try{await p.logout(e,y),this.emit("logout"),this.emit("session",null)}catch(e){console.warn("Error logging out:"),console.error(e)}await Object(f.clearSession)(e)}}}function v(e){return{callbackUri:e?e.split("#")[0]:"",popupUri:"",storage:Object(d.defaultStorage)()}}},function(e,t,r){var n=r(3);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(o(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),a=(c=r.slice()).length,u=0;u<a;u++)c[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";r.r(t),r.d(t,"authnFetch",function(){return s});r(6);var n=r(7),i=r(8),o=r(9),a=r(12);async function s(e,t,r,n){const s=await Object(o.getSession)(e);if(!s)return t(r,n);if(await u(e,r))return Object(a.fetchWithCredentials)(s,t,r,n);let c=await t(r,n);return 401===c.status&&(await Object(i.updateHostFromResponse)(e)(c),await u(e,r)&&(c=Object(a.fetchWithCredentials)(s,t,r,n))),c}async function u(e,t){const r=await Object(i.getHost)(e)(Object(n.toUrlString)(t));return null!=r&&r.requiresAuth}},function(e,t){e.exports=window.fetch},function(e,t,r){"use strict";r.r(t),r.d(t,"currentUrl",function(){return n}),r.d(t,"currentUrlNoParams",function(){return i}),r.d(t,"navigateTo",function(){return o}),r.d(t,"originOf",function(){return a}),r.d(t,"toUrlString",function(){return s});const n=()=>window.location.href,i=()=>window.location.origin+window.location.pathname,o=e=>{window.location.href=e},a=e=>new URL(e).origin,s=e=>("string"!=typeof e&&(e="url"in e?e.url:e.toString()),new URL(e,n()).toString())},function(e,t,r){"use strict";r.r(t),r.d(t,"getHost",function(){return u}),r.d(t,"saveHost",function(){return c}),r.d(t,"updateHostFromResponse",function(){return l});var n=r(2),i=r.n(n),o=r(9),a=r(10),s=r(12);function u(e){return async t=>{const r=new URL(t).host,n=await Object(o.getSession)(e);if(n&&r===new URL(n.idp).host)return{url:r,requiresAuth:!0};const i=(await Object(a.getData)(e)).hosts;return i&&i[r]}}function c(e){return async({url:t,requiresAuth:r})=>{await Object(a.updateStorage)(e,e=>i()({},e,{hosts:i()({},e.hosts,{[t]:{requiresAuth:r}})}))}}function l(e){return async t=>{if(s.requiresAuth(t)){const r=new URL(t.url).host;await c(e)({url:r,requiresAuth:!0})}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"getSession",function(){return a}),r.d(t,"saveSession",function(){return s}),r.d(t,"clearSession",function(){return u});var n=r(2),i=r.n(n),o=r(10);async function a(e){return(await Object(o.getData)(e)).session||null}function s(e){return async t=>{return(await Object(o.updateStorage)(e,e=>i()({},e,{session:t}))).session}}async function u(e){await Object(o.updateStorage)(e,e=>i()({},e,{session:null}))}},function(e,t,r){"use strict";r.r(t),r.d(t,"NAMESPACE",function(){return n}),r.d(t,"defaultStorage",function(){return i}),r.d(t,"getData",function(){return o}),r.d(t,"updateStorage",function(){return a}),r.d(t,"asyncStorage",function(){return s}),r.d(t,"memStorage",function(){return u}),r.d(t,"ipcStorage",function(){return c});r(11);const n="solid-auth-client",i=()=>{try{if(window&&window.localStorage)return s(window.localStorage)}catch(e){if(!(e instanceof ReferenceError))throw e}return console.warn("'window.localStorage' unavailable.  Creating a (not very useful) in-memory storage object as the default storage interface."),s(u())};async function o(e){let t,r;try{t=await e.getItem(n),r=JSON.parse(t||"{}")}catch(e){console.warn("Could not deserialize data:",t),console.error(e),r={}}return r}async function a(e,t){const r=t(await o(e));return await e.setItem(n,JSON.stringify(r)),r}function s(e){return{getItem:t=>Promise.resolve(e.getItem(t)),setItem:(t,r)=>Promise.resolve(e.setItem(t,r)),removeItem:t=>Promise.resolve(e.removeItem(t))}}const u=()=>{const e={};return{getItem:t=>void 0===e[t]?null:e[t],setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}};function c(e){return{getItem:t=>e.request("storage/getItem",t),setItem:(t,r)=>e.request("storage/setItem",t,r),removeItem:t=>e.request("storage/removeItem",t)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Server",function(){return a}),r.d(t,"Client",function(){return s});var n=r(3),i=r.n(n);const o="solid-auth-client";class a{constructor(e,t,r){i()(this,"_clientWindow",void 0),i()(this,"_clientOrigin",void 0),i()(this,"_handler",void 0),i()(this,"_messageListener",void 0),this._clientWindow=e,this._clientOrigin=t,this._handler=r,this._messageListener=(e=>this._handleMessage(e))}async _handleMessage({data:e,origin:t}){if(t!==this._clientOrigin)return void console.warn(`solid-auth-client is listening to ${this._clientOrigin} `+`so ignored a message received from ${t}.`);const r=e&&e[o];if(r&&r.method){const e=r,t=e.id,n=e.method,i=e.args,a=await this._handler(n,...i);this._clientWindow.postMessage({[o]:{id:t,ret:a}},this._clientOrigin)}}start(){window.addEventListener("message",this._messageListener)}stop(){window.removeEventListener("message",this._messageListener)}}class s{constructor(e,t){i()(this,"_serverWindow",void 0),i()(this,"_serverOrigin",void 0),this._serverWindow=e,this._serverOrigin=t}request(e,...t){const r=Math.random();return this._serverWindow.postMessage({[o]:{id:r,method:e,args:t}},this._serverOrigin),new Promise((e,t)=>{window.addEventListener("message",i);const n=setTimeout(()=>{t(new Error("Could not connect to main window.")),window.removeEventListener("message",i)},2e3);function i({data:t}){const a=t&&t[o];a&&a.id===r&&a.hasOwnProperty("ret")&&(e(a.ret),clearTimeout(n),window.removeEventListener("message",i))}})}}},function(e,t,r){"use strict";r.r(t),r.d(t,"login",function(){return p}),r.d(t,"currentSession",function(){return y}),r.d(t,"logout",function(){return m}),r.d(t,"getRegisteredRp",function(){return v}),r.d(t,"requiresAuth",function(){return g}),r.d(t,"fetchWithCredentials",function(){return _});var n=r(13),i=r.n(n),o=r(2),a=r.n(o),s=r(15),u=r(19),c=r.n(u),l=r(80),f=r.n(l),d=r(7),h=r(10);async function p(e,t){try{const r=await v(e,t);return await async function(e){await Object(h.updateStorage)(e,e=>a()({},e,{appHashFragment:window.location.hash}))}(t.storage),async function(e,{callbackUri:t,storage:r}){const n=await Object(h.getData)(r),i=await e.createRequest({redirect_uri:t},n);return await Object(h.updateStorage)(r,()=>n),Object(d.navigateTo)(i)}(r,t)}catch(e){return console.warn("Error logging in with WebID-OIDC"),console.error(e),null}}async function y(e=Object(h.defaultStorage)()){try{const t=await b(e);if(!t)return null;const r=Object(d.currentUrl)();if(!/#(.*&)?access_token=/.test(r))return null;window.location.hash="",await async function(e){await Object(h.updateStorage)(e,e=>{let t=e.appHashFragment,r=void 0===t?"":t,n=i()(e,["appHashFragment"]);return window.location.hash=r,n})}(e);const n=await Object(h.getData)(e),o=await t.validateResponse(r,n);return o?a()({},o,{webId:o.idClaims.sub,idp:o.issuer}):null}catch(e){return console.warn("Error finding a WebID-OIDC session"),console.error(e),null}}async function m(e,t){const r=await b(e);if(r)try{await r.logout();try{await t("/.well-known/solid/logout",{credentials:"include"})}catch(e){}}catch(e){console.warn("Error logging out of the WebID-OIDC session"),console.error(e)}}async function v(e,t){let r=await b(t.storage);return r&&r.provider.url===e&&r.registration.redirect_uris.includes(t.callbackUri)||(r=await function(e,{storage:t,callbackUri:r}){const n={issuer:e,grant_types:["implicit"],redirect_uris:[r],response_types:["id_token token"],scope:"openid profile"},i={defaults:{authenticate:{redirect_uri:r,response_type:"id_token token"}},store:t};return c.a.register(e,n,i)}(e,t),await async function(e,t,r){return await Object(h.updateStorage)(e,e=>a()({},e,{rpConfig:r})),r}(t.storage,0,r)),r}async function b(e){const t=(await Object(h.getData)(e)).rpConfig;return t?(t.store=e,c.a.from(t)):null}function g(e){if(401!==e.status)return!1;const t=e.headers.get("www-authenticate");if(!t)return!1;const r=s.parse(t);return"Bearer"===r.scheme&&r.params&&"openid webid"===r.params.scope}async function _(e,t,r,n){const i=await f.a.issueFor(Object(d.toUrlString)(r),e);return t(r,a()({},n,{credentials:"include",headers:a()({},n&&n.headers?n.headers:{},{authorization:`Bearer ${i}`})}))}},function(e,t,r){var n=r(14);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return i.default}});var n=o(r(16)),i=o(r(18));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a=function(e){return e.reduce(function(e,t){var r=o(t,2),a=r[0],s=r[1],u=function(e){return function(t){return`${e}=${t&&!(0,n.isToken)(t)?(0,n.quote)(t):t}`}}(a);if(!(0,n.isToken)(a))throw new TypeError;return Array.isArray(s)?i(e).concat(i(s.map(u))):i(e).concat([u(s)])},[])};t.default=function(e,t,r){var o="string"==typeof e?{scheme:e,token:t,params:r}:e;if("object"!=typeof o)throw new TypeError;if(!(0,n.isScheme)(o.scheme))throw new TypeError("Invalid scheme.");return[o.scheme].concat(i(void 0!==o.token?[o.token]:[]),i(void 0!==o.params?function e(t,r){if(Array.isArray(t))return a(t);if("object"==typeof t){var n=t;return e(Object.keys(t).map(function(e){return[e,n[e]]}),r)}throw new TypeError}(o.params):[])).join(" ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unquote=t.quote=t.isScheme=t.isToken=void 0;var n=/^[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+$/,i=function(e){return"string"==typeof e&&n.test(e)};t.isToken=i;var o=i;t.isScheme=o;t.quote=function(e){return`"${e.replace(/"/g,'\\"')}"`};t.unquote=function(e){return e.substr(1,e.length-2).replace(/\\"/g,'"')}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),i=/((?:[a-zA-Z0-9._~+\/-]+=*(?:\s+|$))|[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+)(?:=([^\\"=\s,]+|"(?:[^"\\]|\\.)*"))?/g,o=function(e,t){var r='"'===t.charAt(0)?(0,n.unquote)(t):t.trim();return Array.isArray(e)?e.concat(r):"string"==typeof e?[e,r]:r};t.default=function(e){if("string"!=typeof e)throw new TypeError("Header value must be a string.");var t=e.indexOf(" "),r=e.substr(0,t);if(!(0,n.isScheme)(r))throw new TypeError(`Invalid scheme ${r}`);return function(e,t){for(var r=null,n={};;){var a=i.exec(t);if(null===a)break;a[2]?n[a[1]]=o(n[a[1]],a[2]):r=o(r,a[1])}return{scheme:e,params:n,token:r}}(r,e.substr(t))}},function(e,t,r){"use strict";e.exports=r(20)},function(e,t,r){(function(t){const n=r(22),i=r(6),{URL:o}=r(27),a=i.Headers?i.Headers:t.Headers,{JSONDocument:s}=r(28),{JWKSet:u}=r(37),c=r(68),l=r(70),f=r(79),d=r(74),h=r(69);class p extends s{static get schema(){return f}static from(e){let t=new p(e),r=t.validate();if(!r.valid)return Promise.reject(new Error(JSON.stringify(r)));let n=t.provider.jwks;return n?u.importKeys(n).then(e=>(t.provider.jwks=e,t)):t.jwks().then(()=>t)}static register(e,t,r){let n=new p({provider:{url:e},defaults:Object.assign({},r.defaults),store:r.store});return Promise.resolve().then(()=>n.discover()).then(()=>n.jwks()).then(()=>n.register(t)).then(()=>n)}discover(){try{let e=this.provider.url;n(e,'RelyingParty provider must define "url"');let t=new o(e);return t.pathname=".well-known/openid-configuration",i(t.toString()).then(d("Error fetching openid configuration")).then(e=>e.json().then(e=>this.provider.configuration=e))}catch(e){return Promise.reject(e)}}register(e){try{let t=this.provider.configuration;n(t,"OpenID Configuration is not initialized."),n(t.registration_endpoint,"OpenID Configuration is missing registration_endpoint.");let r=t.registration_endpoint,o="post",s=new a({"Content-Type":"application/json"}),u=this.defaults.register,c=JSON.stringify(Object.assign({},u,e));return i(r,{method:o,headers:s,body:c}).then(d("Error registering client")).then(e=>e.json().then(e=>this.registration=e))}catch(e){return Promise.reject(e)}}serialize(){return JSON.stringify(this)}jwks(){try{let e=this.provider.configuration;n(e,"OpenID Configuration is not initialized."),n(e.jwks_uri,"OpenID Configuration is missing jwks_uri.");let t=e.jwks_uri;return i(t).then(d("Error resolving provider keys")).then(e=>e.json().then(e=>u.importKeys(e)).then(e=>this.provider.jwks=e))}catch(e){return Promise.reject(e)}}createRequest(e,t){return c.create(this,e,t||this.store)}validateResponse(e,t=this.store){let r;r=e.match(/^http(s?):\/\//)?{rp:this,redirect:e,session:t}:{rp:this,body:e,session:t};const n=new l(r);return l.validateResponse(n)}userinfo(){try{let e=this.provider.configuration;n(e,"OpenID Configuration is not initialized."),n(e.userinfo_endpoint,"OpenID Configuration is missing userinfo_endpoint.");let t=e.userinfo_endpoint,r=this.store.access_token;n(r,"Missing access token.");let o=new a({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return i(t,{headers:o}).then(d("Error fetching userinfo")).then(e=>e.json())}catch(e){return Promise.reject(e)}}logoutRequest(e={}){const{id_token_hint:t,post_logout_redirect_uri:r,state:i}=e;let a;if(n(this.provider,"OpenID Configuration is not initialized"),a=this.provider.configuration,n(a,"OpenID Configuration is not initialized"),!a.end_session_endpoint)return console.log("OpenId Configuration for "+`${a.issuer} is missing end_session_endpoint`),null;if(r&&!t)throw new Error("id_token_hint is required when using post_logout_redirect_uri");const s={};t&&(s.id_token_hint=t),r&&(s.post_logout_redirect_uri=r),i&&(s.state=i);const u=new o(a.end_session_endpoint);return u.search=h.encode(s),u.href}logout(){let e;try{n(this.provider,"OpenID Configuration is not initialized."),e=this.provider.configuration,n(e,"OpenID Configuration is not initialized."),n(e.end_session_endpoint,"OpenID Configuration is missing end_session_endpoint.")}catch(e){return Promise.reject(e)}if(!e.end_session_endpoint)return this.clearSession(),Promise.resolve(void 0);let t=e.end_session_endpoint;return i(t,{method:"get",credentials:"include"}).then(d("Error logging out")).then(()=>this.clearSession())}clearSession(){let e=this.store;e&&delete e[y]}popTokenFor(e,t){return PoPToken.issueFor(e,t)}}const y="oidc.session.privateKey";p.SESSION_PRIVATE_KEY=y,e.exports=p}).call(this,r(21))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=r(23),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function l(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=v,d=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(d);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(u||!o.isFunction(e))return o.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,r,n,i){throw new f.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function v(e,t){e||m(e,!0,t,"==",f.ok)}function b(e,t,r,a){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(l(e)&&l(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=g(e),a=g(t);if(i&&!a||!i&&a)return!1;if(i)return e=s.call(e),t=s.call(t),b(e,t,r);var u,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(u=l[c],!b(e[u],t[u],r,n))return!1;return!0}(e,t,r,a))}return r?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&m(i,r,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&o.isError(i),u=!e&&i&&!r;if((s&&a&&_(i,r)||u)&&m(i,r,"Got unwanted exception"+n),e&&i&&r&&!_(i,r)||!e&&i)throw i}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return p(y(e.actual),128)+" "+e.operator+" "+p(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=h(t),o=n.indexOf("\n"+i);if(o>=0){var a=n.indexOf("\n",o+1);n=n.substring(a+1)}this.stack=n}}},o.inherits(f.AssertionError,Error),f.fail=m,f.ok=v,f.equal=function(e,t,r){e!=t&&m(e,t,r,"==",f.equal)},f.notEqual=function(e,t,r){e==t&&m(e,t,r,"!=",f.notEqual)},f.deepEqual=function(e,t,r){b(e,t,!1)||m(e,t,r,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,r){b(e,t,!0)||m(e,t,r,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,r){b(e,t,!1)&&m(e,t,r,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function e(t,r,n){b(t,r,!0)&&m(t,r,n,"notDeepStrictEqual",e)},f.strictEqual=function(e,t,r){e!==t&&m(e,t,r,"===",f.strictEqual)},f.notStrictEqual=function(e,t,r){e===t&&m(e,t,r,"!==",f.notStrictEqual)},f.throws=function(e,t,r){w(!0,e,t,r)},f.doesNotThrow=function(e,t,r){w(!1,e,t,r)},f.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var r in e)a.call(e,r)&&t.push(r);return t}}).call(this,r(21))},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<o;u=n[++r])y(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(r,i){if(b(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,a={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=l(e,i,n)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(r);if(0===a.length){if(S(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(g(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return f(r)}var c,_="",T=!1,O=["{","}"];(h(r)&&(T=!0,O=["[","]"]),S(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return g(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),E(r)&&(_=" "+f(r)),0!==a.length||T&&0!=r.length?n<0?g(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=T?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))}),o}(e,r,n,s,a):a.map(function(t){return d(e,r,n,s,t,T)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,O)):O[0]+_+O[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function g(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===T(e)}function E(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=g,t.isObject=_,t.isDate=w,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(25);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r(26),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(21),r(24))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=window.window},function(e,t,r){"use strict";e.exports={Formats:r(29),Initializer:r(30),JSONDocument:r(31),JSONMapping:r(34),JSONPatch:r(32),JSONPointer:r(33),JSONSchema:r(35),Validator:r(36)}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,o=/^(?:[a-z][a-z0-9+-.]*)?(?:\:|\/)\/?[^\s]*$/i,a=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,u=/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,c=/^[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?(\.[a-z](?:(?:[-0-9a-z]{0,61})?[0-9a-z])?)*$/i,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"register",value:function(e,t){if("string"!=typeof e)throw new Error("Format name must be a string");return"string"==typeof t&&(t=new RegExp(t)),this[e]=t}},{key:"resolve",value:function(e){var t=this[e];if(!t)throw new Error("Unknown JSON Schema format.");return t}},{key:"test",value:function(e,t){return this.resolve(e).test(t)}}],[{key:"initialize",value:function(){var t=new e;return t.register("date-time",i),t.register("uri",o),t.register("email",a),t.register("ipv4",s),t.register("ipv6",u),t.register("hostname",c),t}}]),e}();e.exports=l.initialize()},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,r||{}),this.root=this.root||this,this.root.depth=this.root.depth||1,this.level>this.root.depth&&(this.root.depth=this.level),this.level=this.level||0,this.schema=t}return i(e,[{key:"compile",value:function(){var e=this.root,t=(this.depth,this.level,""),r="";if(r+=this.default(),r+=this.properties(),r+=this.items(),r+=this.member(),r+=this.item(),e===this){for(var n=1;n<=this.root.depth;n++)t+=this.declaration(n);return"\n        options = options || {}\n\n        if (options.filter === false) {\n          Object.assign(target, JSON.parse(JSON.stringify(source)))\n        }\n\n        "+t+"\n        "+r+"\n      "}return r}},{key:"declaration",value:function(e){return"\n      var target"+e+"\n      var source"+e+"\n      var count"+e+"\n    "}},{key:"default",value:function(){var e=this.schema,t=this.level,r=this.key,n=this.index,i=e.default,o="";return e.hasOwnProperty("default")&&(r&&(o+="\n          target"+t+"['"+r+"'] = "+JSON.stringify(i)+"\n        "),n&&(o+="\n          target"+t+"["+n+"] = "+JSON.stringify(i)+"\n        "),t>1&&(o+="\n          count"+t+"++\n        "),o="\n        if (options.defaults !== false) {\n          "+o+"\n        }\n      "),o}},{key:"member",value:function(){var e=this.schema,t=(this.root,this.level),r=this.key,n=e.properties,i=e.additionalProperties,o=e.items,a=e.additionalItems,s="";return!r||n||i||o||a||(s+="\n        target"+t+"['"+r+"'] = source"+t+"['"+r+"']\n      ",t>1&&(s+="\n          count"+t+"++\n        "),s="\n        if (source"+t+".hasOwnProperty('"+r+"')) {\n          "+s+"\n        }\n      "),s}},{key:"item",value:function(){var e=this.schema,t=(this.root,this.level),r=this.index,n=e.properties,i=e.additionalProperties,o=e.items,a=e.additionalItems,s="";return!r||n||i||o||a||(s+="\n        target"+t+"["+r+"] = source"+t+"["+r+"]\n      ",t>1&&(s+="\n          count"+t+"++\n        "),s="\n        if ("+r+" < len) {\n          "+s+"\n        }\n      "),s}},{key:"properties",value:function(){var t=this.schema,r=this.root,n=this.level,i=this.key,o=this.index,a=t.properties,s="";return a&&(Object.keys(a).forEach(function(t){var i=new e(a[t],{key:t,root:r,level:n+1});s+=i.compile()}),r===this?s="\n          if (typeof source === 'object' && source !== null && !Array.isArray(source)) {\n            if (typeof target !== 'object') {\n              throw new Error('?')\n            }\n\n            source1 = source\n            target1 = target\n            count1 = 0\n\n            "+s+"\n          }\n        ":(o&&(s="\n            if ("+o+" < source"+n+".length || typeof source"+n+"["+o+"] === 'object') {\n\n              source"+(n+1)+" = source"+n+"["+o+"] || {}\n              count"+(n+1)+" = 0\n\n              if ("+o+" < target"+n+".length || typeof target"+n+"["+o+"] !== 'object') {\n                target"+(n+1)+" = {}\n                if ("+o+" < source"+n+".length) {\n                  count"+(n+1)+"++\n                }\n              } else {\n                target"+(n+1)+" = target"+n+"["+o+"]\n              }\n\n              "+s+"\n\n              if (count"+(n+1)+" > 0) {\n                target"+n+"["+o+"] = target"+(n+1)+"\n                count"+n+"++\n              }\n\n            } else {\n              target"+n+"["+o+"] = source"+n+"["+o+"]\n              count"+n+"++\n            }\n          "),i&&(s="\n            if ((typeof source"+n+"['"+i+"'] === 'object'\n                  && source"+n+"['"+i+"'] !== null\n                  && !Array.isArray(source"+n+"['"+i+"']))\n                || !source"+n+".hasOwnProperty('"+i+"')) {\n\n              source"+(n+1)+" = source"+n+"['"+i+"'] || {}\n              count"+(n+1)+" = 0\n\n              if (!target"+n+".hasOwnProperty('"+i+"')\n                  || typeof target"+n+"['"+i+"'] !== 'object'\n                  || target"+n+"['"+i+"'] === null\n                  || Array.isArray(target"+n+"['"+i+"'])) {\n                target"+(n+1)+" = {}\n                if (source"+n+".hasOwnProperty('"+i+"')) {\n                  count"+(n+1)+"++\n                }\n              } else {\n                target"+(n+1)+" = target"+n+"['"+i+"']\n                count"+(n+1)+"++\n              }\n\n              "+s+"\n\n              if (count"+(n+1)+" > 0) {\n                target"+n+"['"+i+"'] = target"+(n+1)+"\n                count"+n+"++\n              }\n\n            } else {\n              target"+n+"['"+i+"'] = source"+n+"['"+i+"']\n              count"+n+"++\n            }\n          "))),s}},{key:"additionalProperties",value:function(){}},{key:"items",value:function(){var t=this.schema,r=this.root,i=this.level,o=this.key,a=(this.index,t.items),s="";if(a){if(Array.isArray(a));else if("object"===(void 0===a?"undefined":n(a))&&null!==a){var u="i"+(i+1);s+="\n          var sLen = source"+(i+1)+".length || 0\n          var tLen = target"+(i+1)+".length || 0\n          var len = 0\n\n          if (sLen > len) { len = sLen }\n          // THIS IS WRONG, CAUSED SIMPLE ARRAY INIT TO FAIL (OVERWRITE\n          // EXISTING TARGET VALUES WITH UNDEFINED WHEN SOURCE IS SHORTER THAN\n          // TARGET). LEAVING HERE UNTIL WE FINISH TESTING AND SEE WHY IT MIGHT\n          // HAVE BEEN HERE IN THE FIRST PLACE.\n          //\n          // if (tLen > len) { len = tLen }\n\n          for (var "+u+" = 0; "+u+" < len; "+u+"++) {\n            "+new e(a,{index:u,root:r,level:i+1}).compile()+"\n          }\n        "}s=r===this?"\n          if (Array.isArray(source)) {\n            if (!Array.isArray(target)) {\n              throw new Error('?')\n            }\n\n            source1 = source\n            target1 = target\n\n            "+s+"\n          }\n        ":"\n          if (Array.isArray(source"+i+"['"+o+"']) || !source"+i+".hasOwnProperty('"+o+"')) {\n\n            source"+(i+1)+" = source"+i+"['"+o+"'] || []\n            count"+(i+1)+" = 0\n\n            if (!target"+i+".hasOwnProperty('"+o+"') || !Array.isArray(target"+i+"['"+o+"'])) {\n              target"+(i+1)+" = []\n                if (source"+i+".hasOwnProperty('"+o+"')) {\n                  count"+(i+1)+"++\n                }\n\n            } else {\n              target"+(i+1)+" = target"+i+"['"+o+"']\n              count"+(i+1)+"++\n            }\n\n            "+s+"\n\n            if (count"+(i+1)+" > 0) {\n              target"+i+"['"+o+"'] = target"+(i+1)+"\n              count"+i+"++\n            }\n\n          } else {\n            target"+i+"['"+o+"'] = source"+i+"['"+o+"']\n            count"+i+"++\n          }\n        "}return s}},{key:"additionalItems",value:function(){}}],[{key:"compile",value:function(t){var r=new e(t).compile();try{return new Function("target","source","options",r)}catch(e){console.log(e,e.stack)}}}]),e}();e.exports=o},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(32),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize(t,r)}return n(e,null,[{key:"schema",get:function(){throw new Error("Schema must be defined by classes extending JSONDocument")}}]),n(e,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.constructor.schema.initialize(this,e,t)}},{key:"validate",value:function(e){var t=this.constructor.schema;return(e||t).validate(this)}},{key:"patch",value:function(e){var t=new i(e);t.apply(this)}},{key:"select",value:function(){}},{key:"project",value:function(e){return e.project(this)}}],[{key:"serialize",value:function(e){return JSON.stringify(e)}},{key:"deserialize",value:function(e){try{return JSON.parse(e)}catch(e){throw new Error("Failed to parse JSON")}}}]),e}();e.exports=o},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(33),a=["add","remove","replace","move","copy","test"],s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ops=t||[]}return i(e,[{key:"apply",value:function(e){var t=this;this.ops.forEach(function(r){var n=r.op;if(!n)throw new Error('Missing "op" in JSON Patch operation');if(-1===a.indexOf(n))throw new Error('Invalid "op" in JSON Patch operation');if(!r.path)throw new Error('Missing "path" in JSON Patch operation');t[n](r,e)})}},{key:"add",value:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in JSON Patch add operation');new o(e.path,2).add(t,e.value)}},{key:"remove",value:function(e,t){new o(e.path).remove(t)}},{key:"replace",value:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in JSON Patch replace operation');new o(e.path).replace(t,e.value)}},{key:"move",value:function(e,t){if(void 0===e.from)throw new Error('Missing "from" in JSON Patch move operation');if(e.path.match(new RegExp("^"+e.from)))throw new Error('Invalid "from" in JSON Patch move operation');var r=new o(e.path),n=new o(e.from),i=n.get(t);n.remove(t),r.add(t,i)}},{key:"copy",value:function(e,t){if(void 0===e.from)throw new Error('Missing "from" in JSON Patch copy operation');var r=new o(e.path),n=new o(e.from).get(t);r.add(t,n)}},{key:"test",value:function(e,t){if(void 0===e.value)throw new Error('Missing "value" in JSON Patch test operation');var r=new o(e.path).get(t);if(n(e.value),r!==e.value)throw new Error("Mismatching JSON Patch test value")}}]),e}();e.exports=s},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=0,o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expr=t,this.mode=r||i,this.tokens=t&&"#"===t.charAt(0)?this.parseURIFragmentIdentifier(t):this.parseJSONString(t)}return n(e,[{key:"escape",value:function(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}},{key:"unescape",value:function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},{key:"parseJSONString",value:function(e){if("string"!=typeof e)throw new Error("JSON Pointer must be a string");if(""===e)return[];if("/"!==e.charAt(0))throw new Error("Invalid JSON Pointer");return"/"===e?[""]:e.substr(1).split("/").map(this.unescape)}},{key:"toJSONString",value:function(){return"/"+this.tokens.map(this.escape).join("/")}},{key:"parseURIFragmentIdentifier",value:function(e){if("string"!=typeof e)throw new Error("JSON Pointer must be a string");if("#"!==e.charAt(0))throw new Error("Invalid JSON Pointer URI Fragment Identifier");return this.parseJSONString(decodeURIComponent(e.substr(1)))}},{key:"toURIFragmentIdentifier",value:function(){var e=this;return"#/"+this.tokens.map(function(t){return encodeURIComponent(e.escape(t))}).join("/")}},{key:"get",value:function(e){for(var t=e,r=this.tokens,n=0;n<r.length;n++){if(!t||void 0===t[r[n]]){if(this.mode!==i)return;throw new Error("Invalid JSON Pointer reference")}t=t[r[n]]}return t}},{key:"add",value:function(e,t){for(var r=this.tokens,n=e,o=0;o<r.length;o++){var a=r[o];if(o===r.length-1)"-"===a?n.push(t):Array.isArray(n)?n.splice(a,0,t):void 0!==t&&(n[a]=t);else if(n[a])n=n[a];else switch(this.mode){case i:throw new Error("Invalid JSON Pointer reference");case 1:n=n[a]=parseInt(a)?[]:{};break;case 2:return;default:throw new Error("Invalid pointer mode")}}}},{key:"replace",value:function(e,t){for(var r=this.tokens,n=e,i=0;i<r.length;i++){var o=r[i];i===r.length-1?n[o]=t:n=n[o]?n[o]:n[o]=parseInt(o)?[]:{}}}},{key:"remove",value:function(e){for(var t=this.tokens,r=e,n=0;n<t.length;n++){var i=t[n];if(void 0===r||void 0===r[i])return;if(Array.isArray(r))return void r.splice(i,1);n===t.length-1&&delete r[i],r=r[i]}}}],[{key:"parse",value:function(t){return new e(t)}}]),e}();e.exports=o},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(33),o=1,a=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"mapping",{enumerable:!1,value:new Map}),Object.keys(t).forEach(function(e){var n=t[e];r.mapping.set(new i(e,o),new i(n,o))})}return n(e,[{key:"map",value:function(e,t){this.mapping.forEach(function(r,n){n.add(e,r.get(t))})}},{key:"project",value:function(e,t){this.mapping.forEach(function(r,n){r.add(t,n.get(e))})}}]),e}();e.exports=a},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(30),s=r(36),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,t),Object.defineProperties(this,{initialize:{enumerable:!1,writeable:!1,value:a.compile(t)},validate:{enumerable:!1,writeable:!1,value:s.compile(t)}})}return i(e,[{key:"extend",value:function(t){function r(e){return e&&"object"===(void 0===e?"undefined":n(e))&&null!==e&&!Array.isArray(e)}return new e(function e(t,n){var i=Object.assign({},t);return r(t)&&r(n)&&Object.keys(n).forEach(function(a){r(n[a])&&a in t?i[a]=e(t[a],n[a]):Object.assign(i,o({},a,n[a]))}),i}(this,t))}}]),e}();e.exports=u},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(29),a=0,s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schema=t,Object.assign(this,r),this.address||(this.address=""),!0!==this.require&&(this.require=!1)}return i(e,null,[{key:"compile",value:function(t){var r='\n      // "cursor"\n      let value = data\n      let container\n      let stack = []\n      let top = -1\n\n      // error state\n      let valid = true\n      let errors = []\n\n      // complex schema state\n      let initialValidity\n      let anyValid\n      let notValid\n      let countOfValid\n      let initialErrorCount\n      let accumulatedErrorCount\n\n      // validation code\n      '+new e(t).compile()+"\n\n      // validation result\n      return {\n        valid,\n        errors\n      }\n    ";return new Function("data",r)}},{key:"counter",get:function(){return a++}}]),i(e,[{key:"compile",value:function(){var e="";return this.require&&(e+=this.required()),e+=this.type(),e+=this.array(),e+=this.number(),e+=this.object(),e+=this.string(),e+=this.enum(),e+=this.anyOf(),e+=this.allOf(),e+=this.not(),e+=this.oneOf()}},{key:"push",value:function(){return"\n      stack.push(value)\n      container = value\n      top++\n    "}},{key:"pop",value:function(){return"\n      if (stack.length > 1) {\n        top--\n        stack.pop()\n      }\n\n      value = container = stack[top]\n    "}},{key:"type",value:function(){var e=this.schema.type,t=this.address,r="";e&&(r+="\n      // "+t+" type checking\n      if (value !== undefined && "+(Array.isArray(e)?e:[e]).map(function(e){return"array"===e?"!Array.isArray(value)":"boolean"===e?"typeof value !== 'boolean'":"integer"===e?"!Number.isInteger(value)":"null"===e?"value !== null":"number"===e?"typeof value !== 'number'":"object"===e?"(typeof value !== 'object' || Array.isArray(value) || value === null)":"string"===e?"typeof value !== 'string'":void 0}).join(" && ")+") {\n        valid = false\n        errors.push({\n          keyword: 'type',\n          message: 'invalid type'\n        })\n      }\n      ");return r}},{key:"array",value:function(){var e=this.validations(["additionalItems","items","minItems","maxItems","uniqueItems"]),t="";return e.length>0&&(t+="\n      /**\n       * Array validations\n       */\n      if (Array.isArray(value)) {\n      "+e+"\n      }\n      "),t}},{key:"number",value:function(){var e=this.validations(["minimum","maximum","multipleOf"]),t="";return e.length>0&&(t+="\n      /**\n       * Number validations\n       */\n      if (typeof value === 'number') {\n      "+e+"\n      }\n      "),t}},{key:"object",value:function(){var e=this.validations(["maxProperties","minProperties","additionalProperties","properties","patternProperties","dependencies","schemaDependencies","propertyDependencies"]),t="";return e.length>0&&(t+="\n      /**\n       * Object validations\n       */\n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n      "+e+"\n      }\n      "),t}},{key:"string",value:function(){var e=this.validations(["maxLength","minLength","pattern","format"]),t="";return e.length>0&&(t+="\n      /**\n       * String validations\n       */\n      if (typeof value === 'string') {\n      "+e+"\n      }\n      "),t}},{key:"validations",value:function(e){var t=this,r=this.schema,n="";return Object.keys(r).filter(function(t){return-1!==e.indexOf(t)}).forEach(function(e){n+=t[e]()}),n}},{key:"enum",value:function(){var e=this.schema.enum,t=this.address,r=["value !== undefined"],i="";return e&&(e.forEach(function(e){switch(void 0===e?"undefined":n(e)){case"boolean":case"number":r.push("value !== "+e);break;case"string":r.push('value !== "'+e+'"');break;case"object":null===e?r.push("value !== null"):r.push("'"+JSON.stringify(e)+"' !== JSON.stringify(value)");break;default:throw new Error("Things are not well in the land of enum")}}),i+='\n      /**\n       * Validate "'+t+'" enum\n       */\n      if ('+r.join(" && ")+") {\n        valid = false\n        errors.push({\n          keyword: 'enum',\n          message: JSON.stringify(value) + ' is not an enumerated value'\n        })\n      }\n      "),i}},{key:"anyOf",value:function(){var t=this.schema.anyOf,r=this.address,n="";return Array.isArray(t)&&(n+="\n        initialValidity = valid\n        initialErrorCount = errors.length\n        anyValid = false\n      ",t.forEach(function(t){var i=new e(t,{address:r});n+="\n        accumulatedErrorCount = errors.length\n        "+i.compile()+"\n        if (accumulatedErrorCount === errors.length) {\n          anyValid = true\n        }\n        "}),n+="\n          if (anyValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          }\n      "),n}},{key:"allOf",value:function(){var t=this.schema.allOf,r=this.address,n="";return Array.isArray(t)&&t.forEach(function(t){var i=new e(t,{address:r});n+="\n        "+i.compile()+"\n        "}),n}},{key:"oneOf",value:function(){var t=this.schema.oneOf,r=this.address,n="";return Array.isArray(t)&&(n+="\n        /**\n         * Validate "+r+" oneOf\n         */\n        initialValidity = valid\n        initialErrorCount = errors.length\n        countOfValid = 0\n      ",t.forEach(function(t){var i=new e(t,{address:r});n+="\n        accumulatedErrorCount = errors.length\n        "+i.compile()+"\n        if (accumulatedErrorCount === errors.length) {\n          countOfValid += 1\n        }\n        "}),n+="\n          if (countOfValid === 1) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors.push({\n              keyword: 'oneOf',\n              message: 'what is a reasonable error message for this case?'\n            })\n          }\n      "),n}},{key:"not",value:function(){var t=this.schema.not,r=this.address,i="";"object"!==(void 0===t?"undefined":n(t))||null===t||Array.isArray(t)||(i+="\n        /**\n         * NOT\n         */\n        if (value !== undefined) {\n          initialValidity = valid\n          initialErrorCount = errors.length\n          notValid = true\n\n          accumulatedErrorCount = errors.length\n\n          "+new e(t,{address:r}).compile()+"\n\n          if (accumulatedErrorCount === errors.length) {\n            notValid = false\n          }\n\n          if (notValid === true) {\n            valid = initialValidity\n            errors = errors.slice(0, initialErrorCount)\n          } else {\n            valid = false\n            errors = errors.slice(0, initialErrorCount)\n            errors.push({\n              keyword: 'not',\n              message: 'hmm...'\n            })\n          }\n        }\n      ");return i}},{key:"properties",value:function(){var t=this.schema,r=this.address,i=t.properties,o=t.required,a=this.push();return o=Array.isArray(o)?o:[],"object"===(void 0===i?"undefined":n(i))&&Object.keys(i).forEach(function(t){var n=i[t],s=-1!==o.indexOf(t),u=new e(n,{address:[r,t].filter(function(e){return!!e}).join("."),require:s});a+="\n        value = container['"+t+"']\n        ",a+=u.compile()}),a+=this.pop()}},{key:"otherProperties",value:function(){return"\n      /**\n       * Validate Other Properties\n       */\n      "+this.push()+"\n\n      for (let key in container) {\n        value = container[key]\n        matched = false\n\n        "+this.patternValidations()+"\n        "+this.additionalValidations()+"\n      }\n\n      "+this.pop()+"\n    "}},{key:"patternValidations",value:function(){var t=this.schema.patternProperties,r="";return"object"===(void 0===t?"undefined":n(t))&&Object.keys(t).forEach(function(n){var i=new e(t[n]);r+="\n          if (key.match('"+n+"')) {\n            matched = true\n            "+i.compile()+"\n          }\n        "}),r}},{key:"additionalValidations",value:function(){var t=this.schema,r=t.properties,i=t.additionalProperties,o=this.address,a="",s=["matched !== true"];if(Object.keys(r||{}).forEach(function(e){s.push("key !== '"+e+"'")}),"object"===(void 0===i?"undefined":n(i))){var u=new e(i,{address:o+"[APKey]"});a+="\n        // validate additional properties\n        if ("+s.join(" && ")+") {\n          "+u.compile()+"\n        }\n      "}return!1===i&&(a+="\n        // validate non-presence of additional properties\n        if ("+s.join(" && ")+") {\n          valid = false\n          errors.push({\n            keyword: 'additionalProperties',\n            message: key + ' is not a defined property'\n          })\n        }\n      "),a}},{key:"patternProperties",value:function(){var e="";return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,e+=this.otherProperties()),e}},{key:"additionalProperties",value:function(){var e="";return this.otherPropertiesCalled||(this.otherPropertiesCalled=!0,e+=this.otherProperties()),e}},{key:"minProperties",value:function(){var e=this.schema.minProperties;return"\n        // "+this.address+" min properties\n        if (Object.keys(value).length < "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'minProperties',\n            message: 'too few properties'\n          })\n        }\n    "}},{key:"maxProperties",value:function(){var e=this.schema.maxProperties;return"\n        // "+this.address+" max properties\n        if (Object.keys(value).length > "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'maxProperties',\n            message: 'too many properties'\n          })\n        }\n    "}},{key:"dependencies",value:function(){var t=this.schema.dependencies,r=this.address,i=this.push();return"object"===(void 0===t?"undefined":n(t))&&Object.keys(t).forEach(function(o){var a=t[o],s=[];if(Array.isArray(a))a.forEach(function(e){s.push("container['"+e+"'] === undefined")}),i+="\n            if (container['"+o+"'] !== undefined && ("+s.join(" || ")+")) {\n              valid = false\n              errors.push({\n                keyword: 'dependencies',\n                message: 'unmet dependencies'\n              })\n            }\n          ";else if("object"===(void 0===a?"undefined":n(a))){var u=new e(a,{address:r});i+="\n            if (container['"+o+"'] !== undefined) {\n              "+u.compile()+"\n            }\n          "}}),i+=this.pop()}},{key:"required",value:function(){this.schema.properties;var e="";return e+="\n      // validate "+this.address+" presence\n      if (value === undefined) {\n        valid = false\n        errors.push({\n          keyword: 'required',\n          message: 'is required'\n        })\n      }\n    "}},{key:"additionalItems",value:function(){var t=this.schema,r=t.items,i=t.additionalItems,o=(this.address,"");if(!1===i&&Array.isArray(r)&&(o+="\n        // don't allow additional items\n        if (value.length > "+r.length+") {\n          valid = false\n          errors.push({\n            keyword: 'additionalItems',\n            message: 'additional items not allowed'\n          })\n        }\n      "),"object"===(void 0===i?"undefined":n(i))&&null!==i&&Array.isArray(r)){var a=new e(i),s=e.counter;o+="\n        // additional items\n        "+this.push()+"\n\n        for (var i"+s+" = "+r.length+"; i"+s+" <= container.length; i"+s+"++) {\n          value = container[i"+s+"]\n          "+a.compile()+"\n        }\n\n        "+this.pop()+"\n      "}return o}},{key:"items",value:function(){var t=this.schema.items,r=this.address,i="";if(Array.isArray(t))i+=this.push(),t.forEach(function(t,n){var o=new e(t,{address:r+"["+n+"]"});i+="\n          // item #"+n+"\n          value = container["+n+"]\n          "+o.compile()+"\n        "}),i+=this.pop();else if("object"===(void 0===t?"undefined":n(t))&&null!==t){var o=new e(t),a=e.counter;i+="\n        // items\n        "+this.push()+"\n\n        for (var i"+a+" = 0; i"+a+" < container.length; i"+a+"++) {\n          // read array element\n          value = container[i"+a+"]\n          "+o.compile()+"\n        }\n\n        "+this.pop()+"\n      "}return i}},{key:"minItems",value:function(){var e=this.schema.minItems;return"\n        // "+this.address+" min items\n        if (value.length < "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'minItems',\n            message: 'too few properties'\n          })\n        }\n    "}},{key:"maxItems",value:function(){var e=this.schema.maxItems;return"\n        // "+this.address+" max items\n        if (value.length > "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'maxItems',\n            message: 'too many properties'\n          })\n        }\n    "}},{key:"uniqueItems",value:function(){var e=this.schema.uniqueItems,t=this.address,r="";return!0===e&&(r+="\n        // validate "+t+" unique items\n        let values = value.map(v => JSON.stringify(v)) // TODO: optimize\n        let set = new Set(values)\n        if (values.length !== set.size) {\n          valid = false\n          errors.push({\n            keyword: 'uniqueItems',\n            message: 'items must be unique'\n          })\n        }\n      "),r}},{key:"minLength",value:function(){var e=this.schema.minLength;return"\n        // "+this.address+" validate minLength\n        if (Array.from(value).length < "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'minLength',\n            message: 'too short'\n          })\n        }\n    "}},{key:"maxLength",value:function(){var e=this.schema.maxLength;return"\n        // "+this.address+" validate maxLength\n        if (Array.from(value).length > "+e+") {\n          valid = false\n          errors.push({\n            keyword: 'maxLength',\n            message: 'too long'\n          })\n        }\n    "}},{key:"pattern",value:function(){var e=this.schema.pattern,t=this.address;if(e)return"\n          // "+t+" validate pattern\n          if (!value.match(new RegExp('"+e+"'))) {\n            valid = false\n            errors.push({\n              keyword: 'pattern',\n              message: 'does not match the required pattern'\n            })\n          }\n      "}},{key:"format",value:function(){var e=this.schema.format,t=this.address,r=o.resolve(e);if(r)return"\n      // "+t+" validate format\n      if (!value.match("+r+")) {\n        valid = false\n        errors.push({\n          keyword: 'format',\n          message: 'is not \""+e+"\" format'\n        })\n      }\n      "}},{key:"minimum",value:function(){var e=this.schema,t=e.minimum,r=e.exclusiveMinimum;return"\n        // "+this.address+" validate minimum\n        if (value "+(!0===r?"<=":"<")+" "+t+") {\n          valid = false\n          errors.push({\n            keyword: 'minimum',\n            message: 'too small'\n          })\n        }\n    "}},{key:"maximum",value:function(){var e=this.schema,t=e.maximum,r=e.exclusiveMaximum;return"\n        // "+this.address+" validate maximum\n        if (value "+(!0===r?">=":">")+" "+t+") {\n          valid = false\n          errors.push({\n            keyword: 'maximum',\n            message: 'too large'\n          })\n        }\n    "}},{key:"multipleOf",value:function(){var e=this.schema.multipleOf,t="";if("number"==typeof e){var r=e.toString().length-e.toFixed(0).length-1,n=r>0?Math.pow(10,r):1;t+="\n        if ("+(r>0?"(value * "+n+") % "+e*n+" !== 0":"value % "+e+" !== 0")+") {\n          valid = false\n          errors.push({\n            keyword: 'multipleOf',\n            message: 'must be a multiple of "+e+"'\n          })\n        }\n      "}return t}}]),e}();e.exports=s},function(e,t,r){"use strict";var n=r(38),i=r(57),o=r(60),a=r(62),s=r(67),u=r(64),c=r(66),l=r(58),f=r(61),d=r(65),h=r(63);e.exports={JWA:n,JWK:i,JWKSet:o,JWT:a,JWS:s,Base64URLSchema:u,JOSEHeaderSchema:c,JWKSchema:l,JWKSetSchema:f,JWTClaimsSetSchema:d,JWTSchema:h}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(39);var i=r(46),o=r(55).NotSupportedError,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"sign",value:function(e,t,r){var n=i.normalize("sign",e);return n instanceof Error?Promise.reject(new o(e)):n.sign(t,r)}},{key:"verify",value:function(e,t,r,n){var a=i.normalize("verify",e);return a instanceof Error?Promise.reject(new o(e)):a.verify(t,r,n)}},{key:"importKey",value:function(e){return i.normalize("importKey",e.alg).importKey(e)}}]),e}();e.exports=a},function(e,t,r){e.exports=r(40).default,e.exports.default=e.exports},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(45);function i(t,r="utf8"){return e.isBuffer(t)?a(t.toString("base64")):a(e.from(t,r).toString("base64"))}function o(e){return e=e.toString(),n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}let s=i;s.encode=i,s.decode=function(t,r="utf8"){return e.from(o(t),"base64").toString(r)},s.toBase64=o,s.fromBase64=a,s.toBuffer=function(t){return e.from(o(t),"base64")},t.default=s}).call(this,r(41).Buffer)},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(42),i=r(43),o=r(44);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function g(e,t,r,n){return V(q(t,e.length-r),e,r,n)}function _(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function E(e,t,r,n){return V(U(t),e,r,n)}function S(e,t,r,n){return V(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function j(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function M(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(e,t,r,n,o){return o||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return o||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:q(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(21))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),u=0,l=a>0?n-4:n,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){let r=t.length,n=r%4;if(!n)return t;let i=r,o=4-n,a=r+o,s=e.alloc(a);for(s.write(t);o--;)s.write("=",i++);return s.toString()}}).call(this,r(41).Buffer)},function(e,t,r){"use strict";var n=r(47),i=r(48),o=r(52),a=new(r(53));a.define("HS256","sign",new i({name:"HMAC",hash:{name:"SHA-256"}})),a.define("HS384","sign",new i({name:"HMAC",hash:{name:"SHA-384"}})),a.define("HS512","sign",new i({name:"HMAC",hash:{name:"SHA-512"}})),a.define("RS256","sign",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),a.define("RS384","sign",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),a.define("RS512","sign",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),a.define("none","sign",new n({})),a.define("HS256","verify",new i({name:"HMAC",hash:{name:"SHA-256"}})),a.define("HS384","verify",new i({name:"HMAC",hash:{name:"SHA-384"}})),a.define("HS512","verify",new i({name:"HMAC",hash:{name:"SHA-512"}})),a.define("RS256","verify",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),a.define("RS384","verify",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),a.define("RS512","verify",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),a.define("none","verify",new n({})),a.define("RS256","importKey",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),a.define("RS384","importKey",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),a.define("RS512","importKey",new o({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),e.exports=a},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"sign",value:function(){return Promise.resolve("")}},{key:"verify",value:function(){}}]),e}();e.exports=i},function(e,t,r){"use strict";(function(t){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(39),o=r(49),a=r(50),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=t}return n(e,[{key:"sign",value:function(e,r){var n=this.params;return r=(new a).encode(r),o.subtle.sign(n,e,r).then(function(e){return i(t.from(e))})}},{key:"verify",value:function(e,t,r){var n=this.params;return"string"==typeof t&&(t=Uint8Array.from(i.toBuffer(t))),"string"==typeof r&&(r=(new a).encode(r)),o.subtle.verify(n,e,t,r)}},{key:"assertSufficientKeyLength",value:function(e){if(e.length<this.bitlength)throw new Error("The key is too short.")}}]),e}();e.exports=s}).call(this,r(41).Buffer)},function(e,t){e.exports=window.crypto},function(e,t,r){"use strict";(function(t){var n=t.TextEncoder?t.TextEncoder:r(51).TextEncoder;e.exports=n}).call(this,r(21))},function(e,t){e.exports=window.TextEncoder},function(e,t,r){"use strict";(function(t){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(39),o=r(49),a=r(50),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=t}return n(e,[{key:"sign",value:function(e,r){var n=this.params;return r=(new a).encode(r),o.subtle.sign(n,e,r).then(function(e){return i(t.from(e))})}},{key:"verify",value:function(e,t,r){var n=this.params;return"string"==typeof t&&(t=Uint8Array.from(i.toBuffer(t))),"string"==typeof r&&(r=(new a).encode(r)),o.subtle.verify(n,e,t,r)}},{key:"importKey",value:function(e){var t=Object.assign({},e),r=this.params,n=e.key_ops||[];return"sig"===e.use&&n.push("verify"),"enc"===e.use?Promise.resolve(e):(e.key_ops&&(n=e.key_ops),o.subtle.importKey("jwk",t,r,!0,n).then(function(e){return Object.defineProperty(t,"cryptoKey",{enumerable:!1,value:e}),t}))}}]),e}();e.exports=s}).call(this,r(41).Buffer)},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(54),o=["sign","verify","encrypt","decrypt","importKey"],a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.forEach(function(e){t[e]={}})}return n(e,[{key:"define",value:function(e,t,r){this[t][e]=r}},{key:"normalize",value:function(e,t){var r=this[e];if(!r)return new SyntaxError;var n=r[t];return n||new i(t)}}],[{key:"operations",get:function(){return o}}]),e}();e.exports=a},function(e,t,r){"use strict";var n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.message=e+" is not a supported algorithm",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports=n},function(e,t,r){"use strict";e.exports={DataError:r(56),NotSupportedError:r(54)}},function(e,t,r){"use strict";var n=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports=n},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(28).JSONDocument,o=r(58),a=r(38),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),n(t,null,[{key:"importKey",value:function(e){return a.importKey(e)}},{key:"schema",get:function(){return o}}]),t}();e.exports=s},function(e,t,r){"use strict";var n=r(28).JSONSchema,i=(r(59).BASE64_REGEXP,new n({type:"object",properties:{kty:{type:"string",enum:["RSA","EC","oct"]},use:{type:"string",enum:["sig","enc"]},key_ops:{type:"array",items:{enum:["sign","verify","encrypt","decrypt","wrapKey","unwrapKey","deriveKey","deriveBits"]}},alg:{type:"string",enum:["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none"]},kid:{type:"string"},x5u:{type:"string"},x5c:{type:"array"},x5t:{type:"string"}}}));e.exports=i},function(e,t,r){"use strict";var n=r(28).Formats;n.register("StringOrURI",new RegExp),n.register("NumericDate",new RegExp),n.register("URI",new RegExp),n.register("url",new RegExp),n.register("base64",new RegExp),n.register("base64url",new RegExp),n.register("MediaType",new RegExp)},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(28).JSONDocument,o=r(61),a=r(57),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),n(t,null,[{key:"importKeys",value:function(e){var r=this.schema.validate(e);if(!r.valid)return Promise.reject(new Error("Invalid JWKSet: "+JSON.stringify(r,null,2)));if(!e.keys)return Promise.reject(new Error("Cannot import JWKSet: keys property is empty"));var n=void 0,i=void 0;try{n=new t(e),i=e.keys.map(function(e){return a.importKey(e)})}catch(e){return Promise.reject(e)}return Promise.all(i).then(function(e){return n.keys=e,n})}},{key:"schema",get:function(){return o}}]),t}();e.exports=s},function(e,t,r){"use strict";var n=new(0,r(28).JSONSchema)({type:"object",properties:{keys:{type:"array",items:r(58)}}});e.exports=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(39),a=r(28).JSONDocument,s=r(63),u=r(67),c=r(56),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),i(t,[{key:"isJWE",value:function(){return!!this.header.enc}},{key:"resolveKeys",value:function(e){var t=this.header.kid,r=void 0,i=void 0;if(Array.isArray(e)&&(r=e),e.keys&&(r=e.keys),e.keys||"object"!==(void 0===e?"undefined":n(e))||(r=[e]),!r)throw new c("Invalid JWK argument");return!!(i=t?r.find(function(e){return e.kid===t}):r.find(function(e){return"sig"===e.use}))&&(this.key=i.cryptoKey,!0)}},{key:"encode",value:function(){var e=this.validate();if(!e.valid)return Promise.reject(e);return this.isJWE()?JWE.encrypt(this):u.sign(this)}},{key:"verify",value:function(){var e=this.validate();return e.valid?u.verify(this):Promise.reject(e)}}],[{key:"decode",value:function(e){var t=void 0;if("string"!=typeof e)throw new c("JWT must be a string");if(e.startsWith("{")){try{e=JSON.parse(e,function(){})}catch(e){throw new c("Invalid JWT serialization")}e.signatures||e.recipients?e.serialization="json":e.serialization="flattened",t=new this(e,{filter:!1})}else try{var r=e.split("."),n=r.length;if(3!==n&&5!==n)throw new Error("Malformed JWT");var i=JSON.parse(o.decode(r[0]));if(3===n){t=new this({type:"JWS",segments:r,header:i,payload:JSON.parse(o.decode(r[1])),signature:r[2],serialization:"compact"},{filter:!1})}}catch(e){throw new c("Invalid JWT compact serialization")}return t}},{key:"encode",value:function(e,r,n){return new t(e,r).encode(n)}},{key:"verify",value:function(e,r){var n=t.decode(r);return n.key=e,n.verify().then(function(e){return n})}},{key:"schema",get:function(){return s}}]),t}();e.exports=l},function(e,t,r){"use strict";var n=r(64),i=r(65),o=r(66),a=new(0,r(28).JSONSchema)({type:"object",properties:{type:{type:"string",enum:["JWS","JWE"]},segments:{type:"array"},header:o,protected:o,unprotected:o,iv:n,aad:n,ciphertext:n,tag:n,recipients:{type:"array",items:{type:"object",properties:{header:o,encrypted_key:n}}},payload:i,signatures:{type:"array",items:{type:"object",properties:{protected:o,header:o,signature:n,key:{type:"object"}}}},signature:n,verified:{type:"boolean",default:!1},key:{type:"object"},serialization:{type:"string",enum:["compact","json","flattened"],default:"compact"}}});e.exports=a},function(e,t,r){"use strict";var n=new(0,r(28).JSONSchema)({type:"string",format:"base64url"});e.exports=n},function(e,t,r){"use strict";var n=new(0,r(28).JSONSchema)({properties:{iss:{type:"string",format:"StringOrURI"},sub:{type:"string",format:"StringOrURI"},aud:{type:["array","string"],format:"StringOrURI",items:{format:"StringOrURI"}},exp:{type:"number",format:"NumericDate"},nbf:{type:"number",format:"NumericDate"},iat:{type:"number",format:"NumericDate"},jti:{type:"string"}}});e.exports=n},function(e,t,r){"use strict";r(58);var n=new(0,r(28).JSONSchema)({type:"object",properties:{typ:{type:"string"},cty:{type:"string",enum:["JWT"]},alg:{type:"string",format:"StringOrURI"},jku:{type:"string",format:"URI"},kid:{type:"string"},x5u:{type:"string",format:"URI"},x5c:{type:"array",items:{type:"string",format:"base64"}},x5t:{type:"string",format:"base64url"},crit:{type:"array",items:{type:"string"},minItems:1},enc:{type:"string",format:"StringOrURI"},zip:{type:"string"}}});e.exports=n},function(e,t,r){"use strict";var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(39),a=r(38),s=r(55).DataError,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"sign",value:function(e){var t=o(JSON.stringify(e.payload));if("compact"===e.serialization){var r=e.key,n=e.header.alg,i=o(JSON.stringify(e.header))+"."+t;return a.sign(n,r,i).then(function(e){return i+"."+e})}return e.serialization,e.serialization,Promise.reject(new s("Unsupported serialization"))}},{key:"verify",value:function(e){e.signatures;var t=e.key,r=e.signature,i=e.header.alg;if(e.signature){var o=n(e.segments,2),u=o[0]+"."+o[1];return"none"===i?Promise.reject(new s("Signature provided to verify with alg: none")):a.verify(i,t,r,u).then(function(t){return e.verified=t,t})}if("none"===i){if(!t&&!r)return e.verified=!0,Promise.resolve(!0);if(t)return Promise.reject(new s("Key provided to verify signature with alg: none"))}return Promise.reject(new s("Missing signature(s)"))}}]),e}();e.exports=u},function(e,t,r){(function(t){const n=r(22),i=r(39),o=r(49),{JWT:a}=r(37),s=r(69),{URL:u}=r(27);class c{static create(e,r,a){const{provider:l,defaults:f,registration:d}=e;let h,p,y,m;return Promise.resolve().then(()=>(n(l.configuration,"RelyingParty provider OpenID Configuration is missing"),n(f.authenticate,"RelyingParty default authentication parameters are missing"),n(d,"RelyingParty client registration is missing"),h=l.configuration.issuer,p=l.configuration.authorization_endpoint,y={client_id:d.client_id},m=Object.assign(f.authenticate,y,r),n(h,"Missing issuer in provider OpenID Configuration"),n(p,"Missing authorization_endpoint in provider OpenID Configuration"),n(m.scope,"Missing scope parameter in authentication request"),n(m.response_type,"Missing response_type parameter in authentication request"),n(m.client_id,"Missing client_id parameter in authentication request"),n(m.redirect_uri,"Missing redirect_uri parameter in authentication request"),m.state=Array.from(o.getRandomValues(new Uint8Array(16))),m.nonce=Array.from(o.getRandomValues(new Uint8Array(16))),Promise.all([o.subtle.digest({name:"SHA-256"},new Uint8Array(m.state)),o.subtle.digest({name:"SHA-256"},new Uint8Array(m.nonce))]))).then(e=>{let r=i(t.from(e[0])),n=i(t.from(e[1]));a[`${h}/requestHistory/${r}`]=JSON.stringify(m),m.state=r,m.nonce=n}).then(()=>c.generateSessionKeys()).then(e=>{c.storeSessionKeys(e,m,a)}).then(()=>{if(l.configuration.request_parameter_supported)return c.encodeRequestParams(m).then(e=>{m=e})}).then(()=>{let e=new u(p);return e.search=s.encode(m),e.href})}static generateSessionKeys(){return o.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(e=>Promise.all([o.subtle.exportKey("jwk",e.publicKey),o.subtle.exportKey("jwk",e.privateKey)])).then(e=>{let[t,r]=e;return{public:t,private:r}})}static storeSessionKeys(e,t,r){r["oidc.session.privateKey"]=JSON.stringify(e.private),t.key=e.public}static encodeRequestParams(e){const t=["scope","client_id","response_type","state"];let r={};return Object.keys(e).filter(e=>!t.includes(e)).forEach(t=>{r[t]=e[t]}),new a({header:{alg:"none"},payload:r},{filter:!1}).encode().then(t=>{return{scope:e.scope,client_id:e.client_id,response_type:e.response_type,request:t,state:e.state}})}}e.exports=c}).call(this,r(41).Buffer)},function(e,t){e.exports=class{static encode(e){let t=[];return Object.keys(e).forEach(function(r){t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))}),t.join("&")}static decode(e){let t={};return e.split("&").forEach(function(e){let r=e.split("="),n=decodeURIComponent(r[0]),i=decodeURIComponent(r[1]);t[n]=i}),t}}},function(e,t,r){(function(t,n){const{URL:i}=r(27),o=r(22),a=r(49),s=r(39),u=r(6),c=u.Headers?u.Headers:t.Headers,l=r(69),f=r(71),d=r(73),h=r(74),p=r(76);class y{constructor({rp:e,redirect:t,body:r,session:n,mode:i,params:o={}}){this.rp=e,this.redirect=t,this.body=r,this.session=n,this.mode=i,this.params=o}static validateResponse(e){return Promise.resolve(e).then(this.parseResponse).then(this.errorResponse).then(this.matchRequest).then(this.validateStateParam).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(d.fromAuthResponse)}static parseResponse(e){let{redirect:t,body:r}=e;if(t&&r||!t&&!r)throw new p(400,"Invalid response mode");if(t){let r=new i(t),{search:n,hash:o}=r;if(n&&o||!n&&!o)throw new p(400,"Invalid response mode");n&&(e.params=l.decode(n.substring(1)),e.mode="query"),o&&(e.params=l.decode(o.substring(1)),e.mode="fragment")}return r&&(e.params=l.decode(r),e.mode="form_post"),e}static errorResponse(e){const t=e.params.error;if(t){const r={};r.error=t,r.error_description=e.params.error_description,r.error_uri=e.params.error_uri,r.state=e.params.state;const n=new Error(`AuthenticationResponse error: ${t}`);throw n.info=r,n}return e}static matchRequest(e){let{rp:t,params:r,session:n}=e,i=r.state,o=t.provider.configuration.issuer;if(!i)throw new Error("Missing state parameter in authentication response");let a=n[`${o}/requestHistory/${i}`];if(!a)throw new Error("Mismatching state parameter in authentication response");return e.request=JSON.parse(a),e}static validateStateParam(e){let t=new Uint8Array(e.request.state),r=e.params.state;return a.subtle.digest({name:"SHA-256"},t).then(t=>{if(r!==s(n.from(t)))throw new Error("Mismatching state parameter in authentication response");return e})}static validateResponseMode(e){if("code"!==e.request.response_type&&"query"===e.mode)throw new Error("Invalid response mode");return e}static validateResponseParams(e){let{request:t,params:r}=e,n=t.response_type.split(" ");return n.includes("code")&&o(r.code,"Missing authorization code in authentication response"),n.includes("id_token")&&o(r.id_token,"Missing id_token in authentication response"),n.includes("token")&&(o(r.access_token,"Missing access_token in authentication response"),o(r.token_type,"Missing token_type in authentication response")),e}static exchangeAuthorizationCode(e){let{rp:t,params:r,request:i}=e,a=r.code;if(!a||"code"!==i.response_type)return Promise.resolve(e);let{provider:s,registration:f}=t,d=f.client_id,p=f.client_secret;if(!p)return Promise.reject(new Error("Client cannot exchange authorization code because it is not a confidential client"));let y=s.configuration.token_endpoint,m=new c({"Content-Type":"application/x-www-form-urlencoded"}),v={grant_type:"authorization_code",code:a,redirect_uri:i.redirect_uri},b=f.token_endpoint_auth_method||"client_secret_basic";if("client_secret_basic"===b){let e=new n(`${d}:${p}`).toString("base64");m.set("Authorization",`Basic ${e}`)}"client_secret_post"===b&&(v.client_id=d,v.client_secret=p);let g=l.encode(v);return u(y,{method:"POST",headers:m,body:g}).then(h("Error exchanging authorization code")).then(e=>e.json()).then(t=>(o(t.access_token,"Missing access_token in token response"),o(t.token_type,"Missing token_type in token response"),o(t.id_token,"Missing id_token in token response"),e.params=Object.assign(e.params,t),e))}static validateIDToken(e){return e.params.id_token?Promise.resolve(e).then(y.decryptIDToken).then(y.decodeIDToken).then(y.validateIssuer).then(y.validateAudience).then(y.resolveKeys).then(y.verifySignature).then(y.validateExpires).then(y.verifyNonce).then(y.validateAcr).then(y.validateAuthTime).then(y.validateAccessTokenHash).then(y.validateAuthorizationCodeHash):Promise.resolve(e)}static decryptIDToken(e){return Promise.resolve(e)}static decodeIDToken(e){let t=e.params.id_token;try{e.decoded=f.decode(t)}catch(e){const r=new p(400,"Error decoding ID Token");throw r.cause=e,r.info={id_token:t},r}return e}static validateIssuer(e){let t=e.rp.provider.configuration;if(e.decoded.payload.iss!==t.issuer)throw new Error("Mismatching issuer in ID Token");return e}static validateAudience(e){let t=e.rp.registration,{aud:r,azp:n}=e.decoded.payload;if("string"==typeof r&&r!==t.client_id)throw new Error("Mismatching audience in id_token");if(Array.isArray(r)&&!r.includes(t.client_id))throw new Error("Mismatching audience in id_token");if(Array.isArray(r)&&!n)throw new Error("Missing azp claim in id_token");if(n&&n!==t.client_id)throw new Error("Mismatching azp claim in id_token");return e}static resolveKeys(e){let t=e.rp,r=t.provider,n=e.decoded;return Promise.resolve(r.jwks).then(e=>e||t.jwks()).then(t=>{if(n.resolveKeys(t))return Promise.resolve(e);throw new Error("Cannot resolve signing key for ID Token")})}static verifySignature(e){let t=e.decoded.header.alg,r=e.rp.registration.id_token_signed_response_alg||"RS256";if(t!==r)throw new Error(`Expected ID Token to be signed with ${r}`);return e.decoded.verify().then(t=>{if(!t)throw new Error("Invalid ID Token signature");return e})}static validateExpires(e){if(e.decoded.payload.exp<=Math.floor(Date.now()/1e3))throw new Error("Expired ID Token");return e}static verifyNonce(e){let t=new Uint8Array(e.request.nonce),r=e.decoded.payload.nonce;if(!r)throw new Error("Missing nonce in ID Token");return a.subtle.digest({name:"SHA-256"},t).then(t=>{if(r!==s(n.from(t)))throw new Error("Mismatching nonce in ID Token");return e})}static validateAcr(e){return e}static validateAuthTime(e){return e}static validateAccessTokenHash(e){return e}static validateAuthorizationCodeHash(e){return e}}e.exports=y}).call(this,r(21),r(41).Buffer)},function(e,t,r){const{JWT:n}=r(37),i=r(72);e.exports=class extends n{static get schema(){return i}}},function(e,t,r){const{JWTSchema:n}=r(37),i=n.extend({properties:{header:{},payload:{properties:{iss:{type:"string",format:"url"},sub:{type:"string",maxLength:255},auth_time:{type:"integer",format:"NumericDate"},nonce:{type:"string"},acr:{type:"string"},amr:{type:"array",items:{type:"string"}},azp:{type:"string",format:"StringOrURI"}},required:["iss","sub","aud","exp","iat"]}}});e.exports=i},function(e,t,r){"use strict";const n=r(6),i=r(74),o=r(75);class a{constructor(e){this.credentialType=e.credentialType||"access_token",this.issuer=e.issuer,this.authorization=e.authorization||{},this.sessionKey=e.sessionKey,this.idClaims=e.idClaims,this.accessClaims=e.accessClaims}static from(e){return new a(e)}static fromAuthResponse(e){const t=r(20);let n=e.decoded&&e.decoded.payload||{},{rp:i}=e,o=i.registration,s={credentialType:(i.defaults.authenticate||{}).credential_type||i.defaults.popToken?"pop_token":"access_token",sessionKey:e.session[t.SESSION_PRIVATE_KEY],issuer:n.iss,idClaims:n,authorization:{client_id:o.client_id,access_token:e.params.access_token,id_token:e.params.id_token,refresh_token:e.params.refresh_token}};return a.from(s)}get fetch(){return(e,t)=>Promise.resolve().then(()=>this.hasCredentials()?this.fetchWithCredentials(e,t):n(e,t)).then(i("Error while fetching resource"))}bearerTokenFor(e){switch(this.credentialType){case"pop_token":return o.issueFor(e,this);default:return Promise.resolve(this.authorization[this.credentialType])}}hasCredentials(){switch(this.credentialType){case"pop_token":return!!this.authorization.id_token;default:return!!this.authorization[this.credentialType]}}fetchWithCredentials(e,t={}){return t.headers=t.headers||{},this.bearerTokenFor(e).then(r=>(t.headers.authorization=`Bearer ${r}`,n(e,t)))}}e.exports=a},function(e,t,r){"use strict";e.exports=function(e="fetch error"){return t=>{if(t.status>=200&&t.status<300)return t;let r=`${e}: ${t.status} ${t.statusText}`,n=new Error(r);throw n.response=t,n.statusCode=t.status,n}}},function(e,t,r){"use strict";const{URL:n}=r(27),{JWT:i,JWK:o}=r(37),a=3600;class s extends i{static issueFor(e,t){if(!e)throw new Error("Cannot issue PoPToken - missing resource server URI");if(!t.sessionKey)throw new Error("Cannot issue PoPToken - missing session key");if(!t.authorization.id_token)throw new Error("Cannot issue PoPToken - missing id token");let r=JSON.parse(t.sessionKey);return o.importKey(r).then(r=>{let i={aud:new n(e).origin,key:r,iss:t.authorization.client_id,id_token:t.authorization.id_token};return s.issue(i)}).then(e=>e.encode())}static issue(e){let{aud:t,iss:r,key:n}=e,i=n.alg,o=e.iat||Math.floor(Date.now()/1e3),u={alg:i},c={iss:r,aud:t,exp:o+(e.max||a),iat:o,id_token:e.id_token,token_type:"pop"};return new s({header:u,payload:c,key:n.cryptoKey},{filter:!1})}}e.exports=s},function(e,t,r){t=e.exports=a;var n=r(77),i=r(78),o=t;function a(e,t,r){if("string"==typeof e&&(e=o[e]),"number"!=typeof e)throw new TypeError("Non-numeric HTTP code");"object"==typeof t&&null!=t&&(r=t,t=null),n.call(this,t||i[e],r),this.code=e}for(var s in a.prototype=Object.create(n.prototype,{constructor:{value:a,configurable:!0,writable:!0}}),a.prototype.name="HttpError",Object.defineProperties(a.prototype,{statusCode:u("code"),statusMessage:u("message"),status:{configurable:!0,get:function(){return this.code},set:function(e){Object.defineProperty(this,"status",{value:e,configurable:!0,enumerable:!0,writable:!0})}}}),a.prototype.toString=function(){return this.name+": "+this.code+" "+this.message},i){t[i[s].replace("'","").replace(/[- ]/g,"_").toUpperCase()]=+s}function u(e){return{configurable:!0,get:function(){return this[e]},set:function(t){return this[e]=t}}}},function(e,t){var r=Object.hasOwnProperty,n=Object.getPrototypeOf,i=Error.captureStackTrace;function o(e,t){if(e&&"object"==typeof e?(t=e,e=void 0):this.message=e,t)for(var o in t)this[o]=t[o];r.call(this,"name")||(this.name=r.call(n(this),"name")?this.name:this.constructor.name),!i||"stack"in this||i(this,this.constructor)}e.exports=o,o.prototype=Object.create(Error.prototype,{constructor:{value:o,configurable:!0,writable:!0}}),o.prototype.name="StandardError"},function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){const{JSONSchema:n}=r(28),i=new n({type:"object",properties:{provider:{type:"object",properties:{name:{type:"string"},url:{type:"string",format:"uri"},configuration:{},jwks:{}},required:["url"]},defaults:{type:"object",properties:{popToken:{type:"boolean",default:!1},authenticate:{type:"object",properties:{redirect_uri:{type:"string",format:"uri"},response_type:{type:"string",default:"id_token token",enum:["code","token","id_token token","id_token token code"]},display:{type:"string",default:"page",enum:["page","popup"]},scope:{type:["string","array"],default:["openid"]}}},register:{}}},registration:{},store:{type:"object",default:{}}}});e.exports=i},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=r(27).URL,o=r(37),a=o.JWT,s=o.JWK,u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),n(t,null,[{key:"issueFor",value:function(e,r){if(!e)throw new Error("Cannot issue PoPToken - missing resource server URI");if(!r.sessionKey)throw new Error("Cannot issue PoPToken - missing session key");if(!r.authorization.id_token)throw new Error("Cannot issue PoPToken - missing id token");var n=JSON.parse(r.sessionKey);return s.importKey(n).then(function(n){var o={aud:new i(e).origin,key:n,iss:r.authorization.client_id,id_token:r.authorization.id_token};return t.issue(o)}).then(function(e){return e.encode()})}},{key:"issue",value:function(e){var r=e.aud,n=e.iss,i=e.key,o=i.alg,a=e.iat||Math.floor(Date.now()/1e3);return new t({header:{alg:o},payload:{iss:n,aud:r,exp:a+(e.max||3600),iat:a,id_token:e.id_token,token_type:"pop"},key:i.cryptoKey},{filter:!1})}}]),t}();e.exports=u},function(e,t,r){"use strict";r.r(t),r.d(t,"openIdpPopup",function(){return o}),r.d(t,"obtainSession",function(){return a}),r.d(t,"popupHandler",function(){return s});var n=r(11),i=r(7);function o(e){const t=`width=650,height=400,left=${window.screenX+(window.innerWidth-650)/2},top=${window.screenY+(window.innerHeight-400)/2}`;return window.open(e,"solid-auth-client",t)}function a(e,t,r){return new Promise((o,a)=>{const u=new n.Server(t,Object(i.originOf)(r.popupUri||""),s(e,r,e=>{u.stop(),o(e)}));u.start()})}function s(e,{popupUri:t,callbackUri:r},n){return async(i,...o)=>{switch(i){case"getAppOrigin":return window.location.origin;case"storage/getItem":return e.getItem(...o);case"storage/setItem":return e.setItem(...o);case"storage/removeItem":return e.removeItem(...o);case"getLoginOptions":return{popupUri:t,callbackUri:r};case"foundSession":n(...o)}}}}]).default},function(e,t,r){"use strict";var n=r(20),i=r(2);function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=s(i.toString(16))}return r},t.zero2=a,t.zero8=s,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var a=new Array(o/4),s=0,u=t;s<a.length;s++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[s]=c>>>0}return a},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,a,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,a,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+a+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,a,s,u,c){return t+n+o+s+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Aggregate="aggregate",e.Existence="existence",e.Named="named",e.Operator="operator",e.SpecialOperator="specialOperator",e.Term="term",e.Variable="variable"}(t.ExpressionType||(t.ExpressionType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(28);var o;t.TRUE_STR='"true"^^xsd:boolean',t.FALSE_STR='"false"^^xsd:boolean',t.EVB_ERR_STR='"not an dateTime"^^xsd:dateTime',function(e){e.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",e.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",e.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",e.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",e.XSD_DAYTIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"}(o=t.TypeURL||(t.TypeURL={})),t.make=function(e){return n.namedNode(e)},function(e){e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger"}(t.NumericType||(t.NumericType={})),t.commonTerms={true:n.literal("true",n.namedNode(o.XSD_BOOLEAN)),false:n.literal("false",n.namedNode(o.XSD_BOOLEAN))},t.NumericTypeCategories=i.Set(["integer","decimal","float","double"]),t.type=function(e){switch(e){case null:case void 0:case"":case o.XSD_STRING:return"string";case o.RDF_LANG_STRING:return"langString";case o.XSD_DATE_TIME:return"date";case o.XSD_BOOLEAN:return"boolean";case o.XSD_DECIMAL:return"decimal";case o.XSD_FLOAT:return"float";case o.XSD_DOUBLE:return"double";case o.XSD_INTEGER:case o.XSD_NON_POSITIVE_INTEGER:case o.XSD_NEGATIVE_INTEGER:case o.XSD_LONG:case o.XSD_INT:case o.XSD_SHORT:case o.XSD_BYTE:case o.XSD_NON_NEGATIVE_INTEGER:case o.XSD_UNSIGNED_LONG:case o.XSD_UNSIGNED_INT:case o.XSD_UNSIGNED_SHORT:case o.XSD_UNSIGNED_BYTE:case o.XSD_POSITIVE_INTEGER:return"integer";default:return"other"}};const a=i.Map([["integer",o.XSD_INTEGER],["float",o.XSD_FLOAT],["double",o.XSD_DOUBLE],["decimal",o.XSD_DECIMAL]]);var s,u;t.decategorize=function(e){return a.get(e)},function(e){e.NOT="!",e.UMINUS="UMINUS",e.UPLUS="UPLUS",e.EQUAL="=",e.NOT_EQUAL="!=",e.LT="<",e.GT=">",e.LTE="<=",e.GTE=">=",e.MULTIPLICATION="*",e.DIVISION="/",e.ADDITION="+",e.SUBTRACTION="-",e.IS_IRI="isiri",e.IS_BLANK="isblank",e.IS_LITERAL="isliteral",e.IS_NUMERIC="isnumeric",e.STR="str",e.LANG="lang",e.DATATYPE="datatype",e.IRI="iri",e.URI="uri",e.BNODE="BNODE",e.STRDT="strdt",e.STRLANG="strlang",e.UUID="uuid",e.STRUUID="struuid",e.STRLEN="strlen",e.SUBSTR="substr",e.UCASE="ucase",e.LCASE="lcase",e.STRSTARTS="strstarts",e.STRENDS="strends",e.CONTAINS="contains",e.STRBEFORE="strbefore",e.STRAFTER="strafter",e.ENCODE_FOR_URI="encode_for_uri",e.CONCAT="concat",e.LANG_MATCHES="langmatches",e.REGEX="regex",e.REPLACE="replace",e.ABS="abs",e.ROUND="round",e.CEIL="ceil",e.FLOOR="floor",e.RAND="rand",e.NOW="now",e.YEAR="year",e.MONTH="month",e.DAY="day",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.TIMEZONE="timezone",e.TZ="tz",e.MD5="md5",e.SHA1="sha1",e.SHA256="sha256",e.SHA384="sha384",e.SHA512="sha512"}(s=t.RegularOperator||(t.RegularOperator={})),function(e){e.BOUND="bound",e.IF="if",e.COALESCE="coalesce",e.LOGICAL_OR="||",e.LOGICAL_AND="&&",e.SAME_TERM="sameterm",e.IN="in",e.NOT_IN="notin"}(u=t.SpecialOperator||(t.SpecialOperator={})),t.RegularOperators=i.Set(Object.values(s)),t.SpecialOperators=i.Set(Object.values(u)),t.Operators=t.RegularOperators.union(t.SpecialOperators),t.NamedOperators=i.Set([o.XSD_STRING,o.XSD_FLOAT,o.XSD_DOUBLE,o.XSD_DECIMAL,o.XSD_INTEGER,o.XSD_DATE_TIME,o.XSD_BOOLEAN])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{}t.ExpressionError=n,t.isExpressionError=function(e){return e instanceof n};t.InvalidLexicalForm=class extends n{constructor(e){super(`Invalid lexical form '${i(e)}'`),this.arg=e}};t.UnboundVariableError=class extends n{constructor(e,t){super(`Unbound variable '${i(e)}'`),this.variable=e,this.bindings=t}};t.EBVCoercionError=class extends n{constructor(e){super(`Cannot coerce term to EBV '${i(e)}'`),this.arg=e}};t.RDFEqualTypeError=class extends n{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}};t.CoalesceError=class extends n{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}};t.InError=class extends n{constructor(e){super("Some argument to IN errorred and none where equal. "+e.map(e=>`(${e.toString()}) `).join("and ")),this.errors=e}};t.InvalidArgumentTypes=class extends n{constructor(e,t){super(`Argument types not valid for operator: '${i(t)}' with '${i(e)}`),this.args=e,this.op=t}};t.CastError=class extends n{constructor(e,t){super(`Invalid cast: '${i(e)}' to '${i(t)}'`),this.arg=e}};t.InvalidTimezoneCall=class extends n{constructor(e){super(`TIMEZONE call on ${e} which has no timezone`),this.dateString=e}};t.UnexpectedError=class extends Error{constructor(e,t){super(`Programmer Error '${e}'`),this.payload=t}};t.UnimplementedError=class extends Error{constructor(e){super(`Unimplemented feature '${e}!'`)}};t.InvalidArity=class extends Error{constructor(e,t){super(`The amount of args don't match the arity of the operator '${i(t)}'.`),this.args=e,this.op=t}};t.InvalidExpression=class extends Error{constructor(e){super(`Invalid SPARQL Expression '${i(e)}'`)}};t.InvalidExpressionType=class extends Error{constructor(e){super(`Invalid expression type for SPARQL Expression '${i(e)}'`),this.expr=e}};t.InvalidTermType=class extends Error{constructor(e){super(`Invalid term type for term '${i(e)}'`),this.term=e}};t.UnknownOperator=class extends Error{constructor(e){super(`Unknown operator: '${i(e)}`)}};t.UnknownNamedOperator=class extends Error{constructor(e){super(`Unknown named operator: '${i(e)}'`)}};t.NoAggregator=class extends Error{constructor(e){super(`Aggregate expression ${i(e)} found, but no aggregate hook provided.`)}};function i(e){return JSON.stringify(e)}t.NoExistenceHook=class extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}},function(e,t,r){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return a(e)?e:H(e)}function n(e){return s(e)?e:$(e)}function i(e){return u(e)?e:J(e)}function o(e){return a(e)&&!c(e)?e:X(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function u(e){return!(!e||!e[h])}function c(e){return s(e)||u(e)}function l(e){return!(!e||!e[p])}t(n,r),t(i,r),t(o,r),r.isIterable=a,r.isKeyed=s,r.isIndexed=u,r.isAssociative=c,r.isOrdered=l,r.Keyed=n,r.Indexed=i,r.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",y=5,m=1<<y,v=m-1,b={},g={value:!1},_={value:!1};function w(e){return e.value=!1,e}function E(e){e&&(e.value=!0)}function S(){}function T(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function O(e){return void 0===e.size&&(e.size=e.__iterate(A)),e.size}function x(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?O(e)+t:t}function A(){return!0}function I(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function N(e,t){return k(e,t,0)}function j(e,t){return k(e,t,t)}function k(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var R=0,P=1,D=2,M="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",L=M||C;function F(e){this.next=e}function B(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function q(){return{value:void 0,done:!0}}function U(e){return!!Q(e)}function V(e){return e&&"function"==typeof e.next}function z(e){var t=Q(e);return t&&t.call(e)}function Q(e){var t=e&&(M&&e[M]||e[C]);if("function"==typeof t)return t}function G(e){return e&&"number"==typeof e.length}function H(e){return null===e||void 0===e?oe():a(e)?e.toSeq():function(e){var t=ue(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function $(e){return null===e||void 0===e?oe().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ae(e)}function J(e){return null===e||void 0===e?oe():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():se(e)}function X(e){return(null===e||void 0===e?oe():a(e)?s(e)?e.entrySeq():e:se(e)).toSetSeq()}F.prototype.toString=function(){return"[Iterator]"},F.KEYS=R,F.VALUES=P,F.ENTRIES=D,F.prototype.inspect=F.prototype.toSource=function(){return this.toString()},F.prototype[L]=function(){return this},t(H,r),H.of=function(){return H(arguments)},H.prototype.toSeq=function(){return this},H.prototype.toString=function(){return this.__toString("Seq {","}")},H.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},H.prototype.__iterate=function(e,t){return ce(this,e,t,!0)},H.prototype.__iterator=function(e,t){return le(this,e,t,!0)},t($,H),$.prototype.toKeyedSeq=function(){return this},t(J,H),J.of=function(){return J(arguments)},J.prototype.toIndexedSeq=function(){return this},J.prototype.toString=function(){return this.__toString("Seq [","]")},J.prototype.__iterate=function(e,t){return ce(this,e,t,!1)},J.prototype.__iterator=function(e,t){return le(this,e,t,!1)},t(X,H),X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},H.isSeq=ie,H.Keyed=$,H.Set=X,H.Indexed=J;var Y,K,W,Z="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ne(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[Z])}function oe(){return Y||(Y=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():V(e)?new ne(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=ue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){return G(e)?new ee(e):V(e)?new ne(e):U(e)?new re(e):void 0}function ce(e,t,r,n){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[r?o-a:a];if(!1===t(s[1],n?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function le(e,t,r,n){var i=e._cache;if(i){var o=i.length-1,a=0;return new F(function(){var e=i[r?o-a:a];return a++>o?{value:void 0,done:!0}:B(t,n?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,r)}function fe(e,t){return t?function e(t,r,n,i){return Array.isArray(r)?t.call(i,n,J(r).map(function(n,i){return e(t,n,i,r)})):he(r)?t.call(i,n,$(r).map(function(n,i){return e(t,n,i,r)})):r}(t,e,"",{"":e}):de(e)}function de(e){return Array.isArray(e)?J(e).map(de).toList():he(e)?$(e).map(de).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function pe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!c(e);if(l(e)){var n=e.entries();return t.every(function(e,t){var i=n.next().value;return i&&pe(i[1],e)&&(r||pe(i[0],t))})&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var f=!0,d=t.__iterate(function(t,n){if(r?!e.has(t):i?!pe(t,e.get(n,b)):!pe(e.get(n,b),t))return f=!1,!1});return f&&e.size===d}function me(e,t){if(!(this instanceof me))return new me(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(K)return K;K=this}}function ve(e,t){if(!e)throw new Error(t)}function be(e,t,r){if(!(this instanceof be))return new be(e,t,r);if(ve(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(W)return W;W=this}}function ge(){throw TypeError("Abstract")}function _e(){}function we(){}function Ee(){}H.prototype[Z]=!0,t(ee,J),ee.prototype.get=function(e,t){return this.has(e)?this._array[x(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===e(r[t?n-i:i],i,this))return i+1;return i},ee.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,i=0;return new F(function(){return i>n?{value:void 0,done:!0}:B(e,i,r[t?n-i++:i++])})},t(te,$),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var a=n[t?i-o:o];if(!1===e(r[a],a,this))return o+1}return o},te.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length-1,o=0;return new F(function(){var a=n[t?i-o:o];return o++>i?{value:void 0,done:!0}:B(e,a,r[a])})},te.prototype[p]=!0,t(re,J),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=this._iterable,n=z(r),i=0;if(V(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,i++,this););return i},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterable,n=z(r);if(!V(n))return new F(q);var i=0;return new F(function(){var t=n.next();return t.done?t:B(e,i++,t.value)})},t(ne,J),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(r=n.next()).done;){var a=r.value;if(i[o]=a,!1===e(a,o++,this))break}return o},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,i=0;return new F(function(){if(i>=n.length){var t=r.next();if(t.done)return t;n[i]=t.value}return B(e,i,n[i++])})},t(me,J),me.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},me.prototype.get=function(e,t){return this.has(e)?this._value:t},me.prototype.includes=function(e){return pe(this._value,e)},me.prototype.slice=function(e,t){var r=this.size;return I(e,t,r)?this:new me(this._value,j(t,r)-N(e,r))},me.prototype.reverse=function(){return this},me.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},me.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},me.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},me.prototype.__iterator=function(e,t){var r=this,n=0;return new F(function(){return n<r.size?B(e,n++,r._value):{value:void 0,done:!0}})},me.prototype.equals=function(e){return e instanceof me?pe(this._value,e._value):ye(e)},t(be,J),be.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},be.prototype.get=function(e,t){return this.has(e)?this._start+x(this,e)*this._step:t},be.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},be.prototype.slice=function(e,t){return I(e,t,this.size)?this:(e=N(e,this.size),(t=j(t,this.size))<=e?new be(0,0):new be(this.get(e,this._end),this.get(t,this._end),this._step))},be.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},be.prototype.lastIndexOf=function(e){return this.indexOf(e)},be.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===e(i,o,this))return o+1;i+=t?-n:n}return o},be.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,i=t?this._start+r*n:this._start,o=0;return new F(function(){var a=i;return i+=t?-n:n,o>r?{value:void 0,done:!0}:B(e,o++,a)})},be.prototype.equals=function(e){return e instanceof be?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(ge,r),t(_e,ge),t(we,ge),t(Ee,ge),ge.Keyed=_e,ge.Indexed=we,ge.Set=Ee;var Se="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function Te(e){return e>>>1&1073741824|3221225471&e}function Oe(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return Te(r)}if("string"===t)return e.length>Pe?function(e){var t=Ce[e];return void 0===t&&(t=xe(e),Me===De&&(Me=0,Ce={}),Me++,Ce[e]=t),t}(e):xe(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(je&&void 0!==(t=Ae.get(e)))return t;if(void 0!==(t=e[Re]))return t;if(!Ne){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Re]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++ke,1073741824&ke&&(ke=0),je)Ae.set(e,t);else{if(void 0!==Ie&&!1===Ie(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ne)Object.defineProperty(e,Re,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Re]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Re]=t}}return t}(e);if("function"==typeof e.toString)return xe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function xe(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Te(t)}var Ae,Ie=Object.isExtensible,Ne=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),je="function"==typeof WeakMap;je&&(Ae=new WeakMap);var ke=0,Re="__immutablehash__";"function"==typeof Symbol&&(Re=Symbol(Re));var Pe=16,De=255,Me=0,Ce={};function Le(e){ve(e!==1/0,"Cannot perform this action with an infinite size.")}function Fe(e){return null===e||void 0===e?We():Be(e)&&!l(e)?e:We().withMutations(function(t){var r=n(e);Le(r.size),r.forEach(function(e,r){return t.set(r,e)})})}function Be(e){return!(!e||!e[Ue])}t(Fe,_e),Fe.of=function(){var t=e.call(arguments,0);return We().withMutations(function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}})},Fe.prototype.toString=function(){return this.__toString("Map {","}")},Fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Fe.prototype.set=function(e,t){return Ze(this,e,t)},Fe.prototype.setIn=function(e,t){return this.updateIn(e,b,function(){return t})},Fe.prototype.remove=function(e){return Ze(this,e,b)},Fe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return b})},Fe.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},Fe.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=function e(t,r,n,i){var o=t===b,a=r.next();if(a.done){var s=o?n:t,u=i(s);return u===s?t:u}ve(o||t&&t.set,"invalid keyPath");var c=a.value,l=o?b:t.get(c,b),f=e(l,r,n,i);return f===l?t:f===b?t.remove(c):(o?We():t).set(c,f)}(this,rr(e),t,r);return n===b?void 0:n},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):We()},Fe.prototype.merge=function(){return nt(this,void 0,arguments)},Fe.prototype.mergeWith=function(t){var r=e.call(arguments,1);return nt(this,t,r)},Fe.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,We(),function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]})},Fe.prototype.mergeDeep=function(){return nt(this,it,arguments)},Fe.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return nt(this,ot(t),r)},Fe.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,We(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]})},Fe.prototype.sort=function(e){return Nt(Gt(this,e))},Fe.prototype.sortBy=function(e,t){return Nt(Gt(this,t,e))},Fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Fe.prototype.asImmutable=function(){return this.__ensureOwner()},Fe.prototype.wasAltered=function(){return this.__altered},Fe.prototype.__iterator=function(e,t){return new Je(this,e,t)},Fe.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ke(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Fe.isMap=Be;var qe,Ue="@@__IMMUTABLE_MAP__@@",Ve=Fe.prototype;function ze(e,t){this.ownerID=e,this.entries=t}function Qe(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function Ge(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function He(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function $e(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function Je(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Ye(e._root)}function Xe(e,t){return B(e,t[0],t[1])}function Ye(e,t){return{node:e,index:0,__prev:t}}function Ke(e,t,r,n){var i=Object.create(Ve);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function We(){return qe||(qe=Ke(0))}function Ze(e,t,r){var n,i;if(e._root){var o=w(g),a=w(_);if(n=et(e._root,e.__ownerID,0,void 0,t,r,o,a),!a.value)return e;i=e.size+(o.value?r===b?-1:1:0)}else{if(r===b)return e;i=1,n=new ze(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ke(i,n):We()}function et(e,t,r,n,i,o,a,s){return e?e.update(t,r,n,i,o,a,s):o===b?e:(E(s),E(a),new $e(t,n,[i,o]))}function tt(e){return e.constructor===$e||e.constructor===He}function rt(e,t,r,n,i){if(e.keyHash===n)return new He(t,n,[e.entry,i]);var o,a=(0===r?e.keyHash:e.keyHash>>>r)&v,s=(0===r?n:n>>>r)&v,u=a===s?[rt(e,t,r+y,n,i)]:(o=new $e(t,n,i),a<s?[e,o]:[o,e]);return new Qe(t,1<<a|1<<s,u)}function nt(e,t,r){for(var i=[],o=0;o<r.length;o++){var s=r[o],u=n(s);a(s)||(u=u.map(function(e){return fe(e)})),i.push(u)}return at(e,t,i)}function it(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):pe(e,t)?e:t}function ot(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var i=e(t,r,n);return pe(t,i)?t:i}}function at(e,t,r){return 0===(r=r.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var n=t?function(r,n){e.update(n,b,function(e){return e===b?r:t(e,r,n)})}:function(t,r){e.set(r,t)},i=0;i<r.length;i++)r[i].forEach(n)}):e.constructor(r[0])}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function ut(e,t,r,n){var i=n?e:T(e);return i[t]=r,i}Ve[Ue]=!0,Ve.delete=Ve.remove,Ve.removeIn=Ve.deleteIn,ze.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(pe(r,i[o][0]))return i[o][1];return n},ze.prototype.update=function(e,t,r,n,i,o,a){for(var s=i===b,u=this.entries,c=0,l=u.length;c<l&&!pe(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),!s||1!==u.length){if(!f&&!s&&u.length>=ct)return function(e,t,r,n){e||(e=new S);for(var i=new $e(e,Oe(r),[r,n]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,u,n,i);var d=e&&e===this.ownerID,h=d?u:T(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[n,i]:h.push([n,i]),d?(this.entries=h,this):new ze(e,h)}},Qe.prototype.get=function(e,t,r,n){void 0===t&&(t=Oe(r));var i=1<<((0===e?t:t>>>e)&v),o=this.bitmap;return 0==(o&i)?n:this.nodes[st(o&i-1)].get(e+y,t,r,n)},Qe.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=Oe(n));var s=(0===t?r:r>>>t)&v,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&i===b)return this;var f=st(c&u-1),d=this.nodes,h=l?d[f]:void 0,p=et(h,e,t+y,r,n,i,o,a);if(p===h)return this;if(!l&&p&&d.length>=lt)return function(e,t,r,n,i){for(var o=0,a=new Array(m),s=0;0!==r;s++,r>>>=1)a[s]=1&r?t[o++]:void 0;return a[n]=i,new Ge(e,o+1,a)}(e,d,c,s,p);if(l&&!p&&2===d.length&&tt(d[1^f]))return d[1^f];if(l&&p&&1===d.length&&tt(p))return p;var g=e&&e===this.ownerID,_=l?p?c:c^u:c|u,w=l?p?ut(d,f,p,g):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,a=0;a<n;a++)a===t&&(o=1),i[a]=e[a+o];return i}(d,f,g):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=r,a=-1):o[s]=e[s+a];return o}(d,f,p,g);return g?(this.bitmap=_,this.nodes=w,this):new Qe(e,_,w)},Ge.prototype.get=function(e,t,r,n){void 0===t&&(t=Oe(r));var i=(0===e?t:t>>>e)&v,o=this.nodes[i];return o?o.get(e+y,t,r,n):n},Ge.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=Oe(n));var s=(0===t?r:r>>>t)&v,u=i===b,c=this.nodes,l=c[s];if(u&&!l)return this;var f=et(l,e,t+y,r,n,i,o,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<ft)return function(e,t,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==n&&(i|=u,a[o++]=l)}return new Qe(e,i,a)}(e,c,d,s)}else d++;var h=e&&e===this.ownerID,p=ut(c,s,f,h);return h?(this.count=d,this.nodes=p,this):new Ge(e,d,p)},He.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(pe(r,i[o][0]))return i[o][1];return n},He.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=Oe(n));var s=i===b;if(r!==this.keyHash)return s?this:(E(a),E(o),rt(this,e,t,r,[n,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!pe(n,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(E(a),(s||!f)&&E(o),s&&2===l)return new $e(e,this.keyHash,u[1^c]);var d=e&&e===this.ownerID,h=d?u:T(u);return f?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[n,i]:h.push([n,i]),d?(this.entries=h,this):new He(e,this.keyHash,h)},$e.prototype.get=function(e,t,r,n){return pe(r,this.entry[0])?this.entry[1]:n},$e.prototype.update=function(e,t,r,n,i,o,a){var s=i===b,u=pe(n,this.entry[0]);return(u?i===this.entry[1]:s)?this:(E(a),s?void E(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new $e(e,this.keyHash,[n,i]):(E(o),rt(this,e,t,Oe(n),[n,i])))},ze.prototype.iterate=He.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},Qe.prototype.iterate=Ge.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&!1===o.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(Je,F),Je.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,i=t.index++;if(n.entry){if(0===i)return Xe(e,n.entry)}else if(n.entries){if(r=n.entries.length-1,i<=r)return Xe(e,n.entries[this._reverse?r-i:i])}else if(r=n.nodes.length-1,i<=r){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return Xe(e,o.entry);t=this._stack=Ye(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ct=m/4,lt=m/2,ft=m/4;function dt(e){var t=Et();if(null===e||void 0===e)return t;if(ht(e))return e;var r=i(e),n=r.size;return 0===n?t:(Le(n),n>0&&n<m?wt(0,n,y,null,new mt(r.toArray())):t.withMutations(function(e){e.setSize(n),r.forEach(function(t,r){return e.set(r,t)})}))}function ht(e){return!(!e||!e[pt])}t(dt,we),dt.of=function(){return this(arguments)},dt.prototype.toString=function(){return this.__toString("List [","]")},dt.prototype.get=function(e,t){if((e=x(this,e))>=0&&e<this.size){var r=Ot(this,e+=this._origin);return r&&r.array[e&v]}return t},dt.prototype.set=function(e,t){return function(e,t,r){if((t=x(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?xt(e,t).set(0,r):xt(e,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,o=w(_);return t>=It(e._capacity)?n=St(n,e.__ownerID,0,t,r,o):i=St(i,e.__ownerID,e._level,t,r,o),o.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):wt(e._origin,e._capacity,e._level,i,n):e}(this,e,t)},dt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},dt.prototype.insert=function(e,t){return this.splice(e,0,t)},dt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Et()},dt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(r){xt(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])})},dt.prototype.pop=function(){return xt(this,0,-1)},dt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){xt(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])})},dt.prototype.shift=function(){return xt(this,1)},dt.prototype.merge=function(){return At(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var r=e.call(arguments,1);return At(this,t,r)},dt.prototype.mergeDeep=function(){return At(this,it,arguments)},dt.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return At(this,ot(t),r)},dt.prototype.setSize=function(e){return xt(this,0,e)},dt.prototype.slice=function(e,t){var r=this.size;return I(e,t,r)?this:xt(this,N(e,r),j(t,r))},dt.prototype.__iterator=function(e,t){var r=0,n=_t(this,t);return new F(function(){var t=n();return t===gt?{value:void 0,done:!0}:B(e,r++,t)})},dt.prototype.__iterate=function(e,t){for(var r,n=0,i=_t(this,t);(r=i())!==gt&&!1!==e(r,n++,this););return n},dt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},dt.isList=ht;var pt="@@__IMMUTABLE_LIST__@@",yt=dt.prototype;function mt(e,t){this.array=e,this.ownerID=t}yt[pt]=!0,yt.delete=yt.remove,yt.setIn=Ve.setIn,yt.deleteIn=yt.removeIn=Ve.removeIn,yt.update=Ve.update,yt.updateIn=Ve.updateIn,yt.mergeIn=Ve.mergeIn,yt.mergeDeepIn=Ve.mergeDeepIn,yt.withMutations=Ve.withMutations,yt.asMutable=Ve.asMutable,yt.asImmutable=Ve.asImmutable,yt.wasAltered=Ve.wasAltered,mt.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&v;if(n>=this.array.length)return new mt([],e);var i,o=0===n;if(t>0){var a=this.array[n];if((i=a&&a.removeBefore(e,t-y,r))===a&&o)return this}if(o&&!i)return this;var s=Tt(this,e);if(!o)for(var u=0;u<n;u++)s.array[u]=void 0;return i&&(s.array[n]=i),s},mt.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,i=r-1>>>t&v;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((n=o&&o.removeAfter(e,t-y,r))===o&&i===this.array.length-1)return this}var a=Tt(this,e);return a.array.splice(i+1),n&&(a.array[i]=n),a};var vt,bt,gt={};function _t(e,t){var r=e._origin,n=e._capacity,i=It(n),o=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===i?o&&o.array:e&&e.array,u=a>r?0:r-a,c=n-a;return c>m&&(c=m),function(){if(u===c)return gt;var e=t?--c:u++;return s&&s[e]}}(e,u):function(e,i,o){var s,u=e&&e.array,c=o>r?0:r-o>>i,l=1+(n-o>>i);return l>m&&(l=m),function(){for(;;){if(s){var e=s();if(e!==gt)return e;s=null}if(c===l)return gt;var r=t?--l:c++;s=a(u&&u[r],i-y,o+(r<<i))}}}(e,s,u)}}function wt(e,t,r,n,i,o,a){var s=Object.create(yt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Et(){return vt||(vt=wt(0,0,y))}function St(e,t,r,n,i,o){var a,s=n>>>r&v,u=e&&s<e.array.length;if(!u&&void 0===i)return e;if(r>0){var c=e&&e.array[s],l=St(c,t,r-y,n,i,o);return l===c?e:((a=Tt(e,t)).array[s]=l,a)}return u&&e.array[s]===i?e:(E(o),a=Tt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function Tt(e,t){return t&&e&&t===e.ownerID?e:new mt(e?e.array.slice():[],t)}function Ot(e,t){if(t>=It(e._capacity))return e._tail;if(t<1<<e._level+y){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&v],n-=y;return r}}function xt(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new S,i=e._origin,o=e._capacity,a=i+t,s=void 0===r?o:r<0?o+r:i+r;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new mt(c&&c.array.length?[void 0,c]:[],n),l+=1<<(u+=y);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=It(o),d=It(s);d>=1<<u+y;)c=new mt(c&&c.array.length?[c]:[],n),u+=y;var h=e._tail,p=d<f?Ot(e,s-1):d>f?new mt([],n):h;if(h&&d>f&&a<o&&h.array.length){for(var m=c=Tt(c,n),b=u;b>y;b-=y){var g=f>>>b&v;m=m.array[g]=Tt(m.array[g],n)}m.array[f>>>y&v]=h}if(s<o&&(p=p&&p.removeAfter(n,0,s)),a>=d)a-=d,s-=d,u=y,c=null,p=p&&p.removeBefore(n,0,a);else if(a>i||d<f){for(l=0;c;){var _=a>>>u&v;if(_!==d>>>u&v)break;_&&(l+=(1<<u)*_),u-=y,c=c.array[_]}c&&a>i&&(c=c.removeBefore(n,u,a-l)),c&&d<f&&(c=c.removeAfter(n,u,d-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=p,e.__hash=void 0,e.__altered=!0,e):wt(a,s,u,c,p)}function At(e,t,r){for(var n=[],o=0,s=0;s<r.length;s++){var u=r[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map(function(e){return fe(e)})),n.push(c)}return o>e.size&&(e=e.setSize(o)),at(e,t,n)}function It(e){return e<m?0:e-1>>>y<<y}function Nt(e){return null===e||void 0===e?Rt():jt(e)?e:Rt().withMutations(function(t){var r=n(e);Le(r.size),r.forEach(function(e,r){return t.set(r,e)})})}function jt(e){return Be(e)&&l(e)}function kt(e,t,r,n){var i=Object.create(Nt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i}function Rt(){return bt||(bt=kt(We(),Et()))}function Pt(e,t,r){var n,i,o=e._map,a=e._list,s=o.get(t),u=void 0!==s;if(r===b){if(!u)return e;a.size>=m&&a.size>=2*o.size?(i=a.filter(function(e,t){return void 0!==e&&s!==t}),n=i.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(n.__ownerID=i.__ownerID=e.__ownerID)):(n=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(r===a.get(s)[1])return e;n=o,i=a.set(s,[t,r])}else n=o.set(t,a.size),i=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=i,e.__hash=void 0,e):kt(n,i)}function Dt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Mt(e){this._iter=e,this.size=e.size}function Ct(e){this._iter=e,this.size=e.size}function Lt(e){this._iter=e,this.size=e.size}function Ft(e){var t=Zt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=er,t.__iterateUncached=function(t,r){var n=this;return e.__iterate(function(e,r){return!1!==t(r,e,n)},r)},t.__iteratorUncached=function(t,r){if(t===D){var n=e.__iterator(t,r);return new F(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===P?R:P,r)},t}function Bt(e,t,r){var n=Zt(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var o=e.get(n,b);return o===b?i:t.call(r,o,n,e)},n.__iterateUncached=function(n,i){var o=this;return e.__iterate(function(e,i,a){return!1!==n(t.call(r,e,i,a),i,o)},i)},n.__iteratorUncached=function(n,i){var o=e.__iterator(D,i);return new F(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return B(n,s,t.call(r,a[1],s,e),i)})},n}function qt(e,t){var r=Zt(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Ft(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=er,r.__iterate=function(t,r){var n=this;return e.__iterate(function(e,r){return t(e,r,n)},!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function Ut(e,t,r,n){var i=Zt(e);return n&&(i.has=function(n){var i=e.get(n,b);return i!==b&&!!t.call(r,i,n,e)},i.get=function(n,i){var o=e.get(n,b);return o!==b&&t.call(r,o,n,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate(function(e,o,u){if(t.call(r,e,o,u))return s++,i(e,n?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(D,o),s=0;return new F(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(t.call(r,l,c,e))return B(i,n?c:s++,l,o)}})},i}function Vt(e,t,r,n){var i=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r===1/0?r=i:r|=0),I(t,r,i))return e;var o=N(t,i),a=j(r,i);if(o!=o||a!=a)return Vt(e.toSeq().cacheResult(),t,r,n);var s,u=a-o;u==u&&(s=u<0?0:u);var c=Zt(e);return c.size=0===s?s:e.size&&s||void 0,!n&&ie(e)&&s>=0&&(c.get=function(t,r){return(t=x(this,t))>=0&&t<s?e.get(t+o,r):r}),c.__iterateUncached=function(t,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,u=!0,c=0;return e.__iterate(function(e,r){if(!u||!(u=a++<o))return c++,!1!==t(e,n?r:c-1,i)&&c!==s}),c},c.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);var i=0!==s&&e.__iterator(t,r),a=0,u=0;return new F(function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var e=i.next();return n||t===P?e:B(t,u-1,t===R?void 0:e.value[1],e)})},c}function zt(e,t,r,n){var i=Zt(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return e.__iterate(function(e,o,c){if(!s||!(s=t.call(r,e,o,c)))return u++,i(e,n?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(D,o),u=!0,c=0;return new F(function(){var e,o,l;do{if((e=s.next()).done)return n||i===P?e:B(i,c++,i===R?void 0:e.value[1],e);var f=e.value;o=f[0],l=f[1],u&&(u=t.call(r,l,o,a))}while(u);return i===D?e:B(i,o,l,e)})},i}function Qt(e,t,r){var n=Zt(e);return n.__iterateUncached=function(n,i){var o=0,s=!1;return function e(u,c){var l=this;u.__iterate(function(i,u){return(!t||c<t)&&a(i)?e(i,c+1):!1===n(i,r?u:o++,l)&&(s=!0),!s},i)}(e,0),o},n.__iteratorUncached=function(n,i){var o=e.__iterator(n,i),s=[],u=0;return new F(function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(n===D&&(c=c[1]),t&&!(s.length<t)||!a(c))return r?e:B(n,u++,c,e);s.push(o),o=c.__iterator(n,i)}else o=s.pop()}return{value:void 0,done:!0}})},n}function Gt(e,t,r){t||(t=tr);var n=s(e),i=0,o=e.toSeq().map(function(t,n){return[n,t,i++,r?r(t,n,e):t]}).toArray();return o.sort(function(e,r){return t(e[3],r[3])||e[2]-r[2]}).forEach(n?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),n?$(o):u(e)?J(o):X(o)}function Ht(e,t,r){if(t||(t=tr),r){var n=e.toSeq().map(function(t,n){return[t,r(t,n,e)]}).reduce(function(e,r){return $t(t,e[1],r[1])?r:e});return n&&n[0]}return e.reduce(function(e,r){return $t(t,e,r)?r:e})}function $t(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(void 0===r||null===r||r!=r)||n>0}function Jt(e,t,n){var i=Zt(e);return i.size=new ee(n).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(P,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=n.map(function(e){return e=r(e),z(i?e.reverse():e)}),a=0,s=!1;return new F(function(){var r;return s||(r=o.map(function(e){return e.next()}),s=r.some(function(e){return e.done})),s?{value:void 0,done:!0}:B(e,a++,t.apply(null,r.map(function(e){return e.value})))})},i}function Xt(e,t){return ie(e)?t:e.constructor(t)}function Yt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Kt(e){return Le(e.size),O(e)}function Wt(e){return s(e)?n:u(e)?i:o}function Zt(e){return Object.create((s(e)?$:u(e)?J:X).prototype)}function er(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):H.prototype.cacheResult.call(this)}function tr(e,t){return e>t?1:e<t?-1:0}function rr(e){var t=z(e);if(!t){if(!G(e))throw new TypeError("Expected iterable or array-like: "+e);t=z(r(e))}return t}function nr(e,t){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ve(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Fe(o)},i=n.prototype=Object.create(ir);return i.constructor=n,n}t(Nt,Fe),Nt.of=function(){return this(arguments)},Nt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Nt.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},Nt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Rt()},Nt.prototype.set=function(e,t){return Pt(this,e,t)},Nt.prototype.remove=function(e){return Pt(this,e,b)},Nt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Nt.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},Nt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Nt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?kt(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},Nt.isOrderedMap=jt,Nt.prototype[p]=!0,Nt.prototype.delete=Nt.prototype.remove,t(Dt,$),Dt.prototype.get=function(e,t){return this._iter.get(e,t)},Dt.prototype.has=function(e){return this._iter.has(e)},Dt.prototype.valueSeq=function(){return this._iter.valueSeq()},Dt.prototype.reverse=function(){var e=this,t=qt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Dt.prototype.map=function(e,t){var r=this,n=Bt(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},Dt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?Kt(this):0,function(i){return e(i,t?--r:r++,n)}),t)},Dt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(P,t),n=t?Kt(this):0;return new F(function(){var i=r.next();return i.done?i:B(e,t?--n:n++,i.value,i)})},Dt.prototype[p]=!0,t(Mt,J),Mt.prototype.includes=function(e){return this._iter.includes(e)},Mt.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate(function(t){return e(t,n++,r)},t)},Mt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(P,t),n=0;return new F(function(){var t=r.next();return t.done?t:B(e,n++,t.value,t)})},t(Ct,X),Ct.prototype.has=function(e){return this._iter.includes(e)},Ct.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},Ct.prototype.__iterator=function(e,t){var r=this._iter.__iterator(P,t);return new F(function(){var t=r.next();return t.done?t:B(e,t.value,t.value,t)})},t(Lt,$),Lt.prototype.entrySeq=function(){return this._iter.toSeq()},Lt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){if(t){Yt(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}},t)},Lt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(P,t);return new F(function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Yt(n);var i=a(n);return B(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}})},Mt.prototype.cacheResult=Dt.prototype.cacheResult=Ct.prototype.cacheResult=Lt.prototype.cacheResult=er,t(nr,_e),nr.prototype.toString=function(){return this.__toString(ar(this)+" {","}")},nr.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},nr.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},nr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=or(this,We()))},nr.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+ar(this));if(this._map&&!this._map.has(e)){var r=this._defaultValues[e];if(t===r)return this}var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:or(this,n)},nr.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:or(this,t)},nr.prototype.wasAltered=function(){return this._map.wasAltered()},nr.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},nr.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},nr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?or(this,t,e):(this.__ownerID=e,this._map=t,this)};var ir=nr.prototype;function or(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function ar(e){return e._name||e.constructor.name||"Record"}function sr(e){return null===e||void 0===e?pr():ur(e)&&!l(e)?e:pr().withMutations(function(t){var r=o(e);Le(r.size),r.forEach(function(e){return t.add(e)})})}function ur(e){return!(!e||!e[lr])}ir.delete=ir.remove,ir.deleteIn=ir.removeIn=Ve.removeIn,ir.merge=Ve.merge,ir.mergeWith=Ve.mergeWith,ir.mergeIn=Ve.mergeIn,ir.mergeDeep=Ve.mergeDeep,ir.mergeDeepWith=Ve.mergeDeepWith,ir.mergeDeepIn=Ve.mergeDeepIn,ir.setIn=Ve.setIn,ir.update=Ve.update,ir.updateIn=Ve.updateIn,ir.withMutations=Ve.withMutations,ir.asMutable=Ve.asMutable,ir.asImmutable=Ve.asImmutable,t(sr,Ee),sr.of=function(){return this(arguments)},sr.fromKeys=function(e){return this(n(e).keySeq())},sr.prototype.toString=function(){return this.__toString("Set {","}")},sr.prototype.has=function(e){return this._map.has(e)},sr.prototype.add=function(e){return dr(this,this._map.set(e,!0))},sr.prototype.remove=function(e){return dr(this,this._map.remove(e))},sr.prototype.clear=function(){return dr(this,this._map.clear())},sr.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var r=0;r<t.length;r++)o(t[r]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},sr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.every(function(e){return e.includes(r)})||e.remove(r)})})},sr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.some(function(e){return e.includes(r)})&&e.remove(r)})})},sr.prototype.merge=function(){return this.union.apply(this,arguments)},sr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},sr.prototype.sort=function(e){return yr(Gt(this,e))},sr.prototype.sortBy=function(e,t){return yr(Gt(this,t,e))},sr.prototype.wasAltered=function(){return this._map.wasAltered()},sr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate(function(t,n){return e(n,n,r)},t)},sr.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},sr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},sr.isSet=ur;var cr,lr="@@__IMMUTABLE_SET__@@",fr=sr.prototype;function dr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function hr(e,t){var r=Object.create(fr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function pr(){return cr||(cr=hr(We()))}function yr(e){return null===e||void 0===e?_r():mr(e)?e:_r().withMutations(function(t){var r=o(e);Le(r.size),r.forEach(function(e){return t.add(e)})})}function mr(e){return ur(e)&&l(e)}fr[lr]=!0,fr.delete=fr.remove,fr.mergeDeep=fr.merge,fr.mergeDeepWith=fr.mergeWith,fr.withMutations=Ve.withMutations,fr.asMutable=Ve.asMutable,fr.asImmutable=Ve.asImmutable,fr.__empty=pr,fr.__make=hr,t(yr,sr),yr.of=function(){return this(arguments)},yr.fromKeys=function(e){return this(n(e).keySeq())},yr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},yr.isOrderedSet=mr;var vr,br=yr.prototype;function gr(e,t){var r=Object.create(br);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function _r(){return vr||(vr=gr(Rt()))}function wr(e){return null===e||void 0===e?Ar():Er(e)?e:Ar().unshiftAll(e)}function Er(e){return!(!e||!e[Tr])}br[p]=!0,br.__empty=_r,br.__make=gr,t(wr,we),wr.of=function(){return this(arguments)},wr.prototype.toString=function(){return this.__toString("Stack [","]")},wr.prototype.get=function(e,t){var r=this._head;for(e=x(this,e);r&&e--;)r=r.next;return r?r.value:t},wr.prototype.peek=function(){return this._head&&this._head.value},wr.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):xr(e,t)},wr.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Le(e.size);var t=this.size,r=this._head;return e.reverse().forEach(function(e){t++,r={value:e,next:r}}),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):xr(t,r)},wr.prototype.pop=function(){return this.slice(1)},wr.prototype.unshift=function(){return this.push.apply(this,arguments)},wr.prototype.unshiftAll=function(e){return this.pushAll(e)},wr.prototype.shift=function(){return this.pop.apply(this,arguments)},wr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ar()},wr.prototype.slice=function(e,t){if(I(e,t,this.size))return this;var r=N(e,this.size),n=j(t,this.size);if(n!==this.size)return we.prototype.slice.call(this,e,t);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):xr(i,o)},wr.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?xr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},wr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new F(function(){if(n){var t=n.value;return n=n.next,B(e,r++,t)}return{value:void 0,done:!0}})},wr.isStack=Er;var Sr,Tr="@@__IMMUTABLE_STACK__@@",Or=wr.prototype;function xr(e,t,r,n){var i=Object.create(Or);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Ar(){return Sr||(Sr=xr(0))}function Ir(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}Or[Tr]=!0,Or.withMutations=Ve.withMutations,Or.asMutable=Ve.asMutable,Or.asImmutable=Ve.asImmutable,Or.wasAltered=Ve.wasAltered,r.Iterator=F,Ir(r,{toArray:function(){Le(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,r){e[r]=t}),e},toIndexedSeq:function(){return new Mt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Dt(this,!0)},toMap:function(){return Fe(this.toKeyedSeq())},toObject:function(){Le(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e},toOrderedMap:function(){return Nt(this.toKeyedSeq())},toOrderedSet:function(){return yr(s(this)?this.valueSeq():this)},toSet:function(){return sr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ct(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wr(s(this)?this.valueSeq():this)},toList:function(){return dt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Xt(this,function(e,t){var r=s(e),i=[e].concat(t).map(function(e){return a(e)?r&&(e=n(e)):e=r?ae(e):se(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||r&&s(o)||u(e)&&u(o))return o}var c=new ee(i);return r?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce(function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}},0),c}(this,t))},includes:function(e){return this.some(function(t){return pe(t,e)})},entries:function(){return this.__iterator(D)},every:function(e,t){Le(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!e.call(t,n,i,o))return r=!1,!1}),r},filter:function(e,t){return Xt(this,Ut(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return Le(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Le(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate(function(n){r?r=!1:t+=e,t+=null!==n&&void 0!==n?n.toString():""}),t},keys:function(){return this.__iterator(R)},map:function(e,t){return Xt(this,Bt(this,e,t))},reduce:function(e,t,r){var n,i;return Le(this.size),arguments.length<2?i=!0:n=t,this.__iterate(function(t,o,a){i?(i=!1,n=t):n=e.call(r,n,t,o,a)}),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Xt(this,qt(this,!0))},slice:function(e,t){return Xt(this,Vt(this,e,t,!0))},some:function(e,t){return!this.every(Pr(e),t)},sort:function(e){return Xt(this,Gt(this,e))},values:function(){return this.__iterator(P)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return O(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Fe().asMutable();return e.__iterate(function(i,o){n.update(t.call(r,i,o,e),0,function(e){return e+1})}),n.asImmutable()}(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Rr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Pr(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate(function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1}),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(A)},flatMap:function(e,t){return Xt(this,function(e,t,r){var n=Wt(e);return e.toSeq().map(function(i,o){return n(t.call(r,i,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Xt(this,Qt(this,e,!0))},fromEntrySeq:function(){return new Lt(this)},get:function(e,t){return this.find(function(t,r){return pe(r,e)},void 0,t)},getIn:function(e,t){for(var r,n=this,i=rr(e);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,b):b)===b)return t}return n},groupBy:function(e,t){return function(e,t,r){var n=s(e),i=(l(e)?Nt():Fe()).asMutable();e.__iterate(function(o,a){i.update(t.call(r,o,a,e),function(e){return(e=e||[]).push(n?[a,o]:o),e})});var o=Wt(e);return i.map(function(t){return Xt(e,o(t))})}(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return pe(t,e)})},keySeq:function(){return this.toSeq().map(kr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ht(this,e)},maxBy:function(e,t){return Ht(this,t,e)},min:function(e){return Ht(this,e?Dr(e):Lr)},minBy:function(e,t){return Ht(this,t?Dr(t):Lr,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Xt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Xt(this,zt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Pr(e),t)},sortBy:function(e,t){return Xt(this,Gt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Xt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Xt(this,function(e,t,r){var n=Zt(e);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return e.__iterate(function(e,i,s){return t.call(r,e,i,s)&&++a&&n(e,i,o)}),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(D,i),s=!0;return new F(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(r,c,u,o)?n===D?e:B(n,u,c,e):(s=!1,{value:void 0,done:!0})})},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Pr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),r=s(e),n=t?1:0;return function(e,t){return t=Se(t,3432918353),t=Se(t<<15|t>>>-15,461845907),t=Se(t<<13|t>>>-13,5),t=Se((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Te((t=Se(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(r?t?function(e,t){n=31*n+Fr(Oe(e),Oe(t))|0}:function(e,t){n=n+Fr(Oe(e),Oe(t))|0}:t?function(e){n=31*n+Oe(e)|0}:function(e){n=n+Oe(e)|0}),n)}(this))}});var Nr=r.prototype;Nr[f]=!0,Nr[L]=Nr.values,Nr.__toJS=Nr.toArray,Nr.__toStringMapper=Mr,Nr.inspect=Nr.toSource=function(){return this.toString()},Nr.chain=Nr.flatMap,Nr.contains=Nr.includes,Ir(n,{flip:function(){return Xt(this,Ft(this))},mapEntries:function(e,t){var r=this,n=0;return Xt(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Xt(this,this.toSeq().flip().map(function(n,i){return e.call(t,n,i,r)}).flip())}});var jr=n.prototype;function kr(e,t){return t}function Rr(e,t){return[t,e]}function Pr(e){return function(){return!e.apply(this,arguments)}}function Dr(e){return function(){return-e.apply(this,arguments)}}function Mr(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Cr(){return T(arguments)}function Lr(e,t){return e<t?1:e>t?-1:0}function Fr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return jr[d]=!0,jr[L]=Nr.entries,jr.__toJS=Nr.toObject,jr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Mr(e)},Ir(i,{toKeyedSeq:function(){return new Dt(this,!1)},filter:function(e,t){return Xt(this,Ut(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Xt(this,qt(this,!1))},slice:function(e,t){return Xt(this,Vt(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=N(e,e<0?this.count():this.size);var n=this.slice(0,e);return Xt(this,1===r?n:n.concat(T(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Xt(this,Qt(this,e,!1))},get:function(e,t){return(e=x(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,r){return r===e},void 0,t)},has:function(e){return(e=x(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Xt(this,function(e,t){var r=Zt(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return e.__iterate(function(e,n){return(!o||!1!==r(t,o++,i))&&!1!==r(e,o++,i)},n),o},r.__iteratorUncached=function(r,n){var i,o=e.__iterator(P,n),a=0;return new F(function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?B(r,a++,t):B(r,a++,i.value,i)})},r}(this,e))},interleave:function(){var e=[this].concat(T(arguments)),t=Jt(this.toSeq(),J.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Xt(this,r)},keySeq:function(){return be(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Xt(this,zt(this,e,t,!1))},zip:function(){return Xt(this,Jt(this,Cr,[this].concat(T(arguments))))},zipWith:function(e){var t=T(arguments);return t[0]=this,Xt(this,Jt(this,e,t))}}),i.prototype[h]=!0,i.prototype[p]=!0,Ir(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Nr.includes,o.prototype.contains=o.prototype.includes,Ir($,n.prototype),Ir(J,i.prototype),Ir(X,o.prototype),Ir(_e,n.prototype),Ir(we,i.prototype),Ir(Ee,o.prototype),{Iterable:r,Seq:H,Collection:ge,Map:Fe,OrderedMap:Nt,List:dt,Stack:wr,Set:sr,OrderedSet:yr,Record:nr,Range:be,Repeat:me,is:pe,fromJS:fe}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(327);t.collectNamedTerms=n.collectNamedTerms,t.everyTerms=n.everyTerms,t.filterQuadTermNames=n.filterQuadTermNames,t.filterTerms=n.filterTerms,t.forEachTerms=n.forEachTerms,t.getNamedTerms=n.getNamedTerms,t.getTerms=n.getTerms,t.mapTerms=n.mapTerms,t.QUAD_TERM_NAMES=n.QUAD_TERM_NAMES,t.reduceTerms=n.reduceTerms,t.someTerms=n.someTerms,t.TRIPLE_TERM_NAMES=n.TRIPLE_TERM_NAMES;const i=r(328);t.getBlankNodes=i.getBlankNodes,t.getDefaultGraphs=i.getDefaultGraphs,t.getLiterals=i.getLiterals,t.getNamedNodes=i.getNamedNodes,t.getTermsOfType=i.getTermsOfType,t.getVariables=i.getVariables,t.TERM_TYPES=i.TERM_TYPES,t.uniqTerms=i.uniqTerms},function(e,t,r){"use strict";const n=r(21),i={};e.exports=i,i.isSubject=(e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1}),i.isSubjectReference=(e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e),i.isValue=(e=>n.isObject(e)&&"@value"in e),i.isList=(e=>n.isObject(e)&&"@list"in e),i.isGraph=(e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length),i.isSimpleGraph=(e=>i.isGraph(e)&&!("@id"in e)),i.isBlankNode=(e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)))},function(e,t,r){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n=r(3).Buffer,i=r(5).Transform,o=r(68).StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(2)(a,i),a.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=a},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(552)),n(r(553))},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<o;u=n[++r])y(u)||!_(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(r,i){if(b(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}};var o,a={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=l(e,i,n)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,r);if(o)return o;var a=Object.keys(r),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),E(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(r);if(0===a.length){if(S(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(g(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return f(r)}var c,_="",T=!1,O=["{","}"];(h(r)&&(T=!0,O=["[","]"]),S(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return g(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),E(r)&&(_=" "+f(r)),0!==a.length||T&&0!=r.length?n<0?g(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=T?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))}),o}(e,r,n,s,a):a.map(function(t){return d(e,r,n,s,t,T)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,O)):O[0]+_+O[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=y(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function y(e){return null===e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function g(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===T(e)}function E(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(o)&&(o=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=g,t.isObject=_,t.isDate=w,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(297);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r(2),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(9),r(10))},function(e,t,r){"use strict";var n=r(67),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(55);o.inherits=r(2);var a=r(145),s=r(89);o.inherits(f,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";(function(t,r){const n={};e.exports=n;const i="function"==typeof t&&t,o=i?e=>i(e):e=>setTimeout(e,0);function a(e,t,n){try{return e(t,n)}catch(e){r.nextTick(()=>{throw e})}}"object"==typeof r&&"function"==typeof r.nextTick?n.nextTick=r.nextTick:n.nextTick=o,n.setImmediate=i?o:n.nextTick,n.clone=function(e){if(e&&"object"==typeof e){let t;if(Array.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=n.clone(e[r])}else if(n.isObject(e)){t={};for(const r in e)t[r]=n.clone(e[r])}else t=e.toString();return t}return e},n.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),n.isUndefined=(e=>void 0===e),n.callbackify=(e=>(async function(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=await e.apply(null,t)}catch(e){if("function"==typeof r)return a(r,e);throw e}return"function"==typeof r?a(r,null,n):n}))}).call(this,r(16).setImmediate,r(10))},function(e,t,r){"use strict";const n=r(18),i=r(341),o=r(31),{isArray:a,isObject:s,isString:u,isUndefined:c}=r(21),{isAbsolute:l,isRelative:f,prependBase:d,parse:h}=r(59),{asArray:p,compareShortestLeast:y}=r(18),m=10,v=new Map,b={};function g(e,t,r,n){if(a(e))for(const i of e)g(i,t,r,n);else if(s(e))for(const i in e){if("@context"!==i){g(e[i],t,r,n);continue}const o=e[i];if(a(o)){let e=o.length;for(let i=0;i<e;++i){const c=o[i];if(u(c)){const s=d(n,c),u=t.get(s);r?a(u)?(Array.prototype.splice.apply(o,[i,1].concat(u)),i+=u.length-1,e=o.length):!1!==u&&(o[i]=u):void 0===u&&t.set(s,!1)}else for(const e in c)s(c[e])&&g(c[e],t,r,n)}}else if(u(o)){const a=d(n,o),s=t.get(a);r?!1!==s&&(e[i]=s):void 0===s&&t.set(a,!1)}else for(const e in o)s(o[e])&&g(o[e],t,r,n)}}e.exports=b,b.cache=new i,b.process=(({activeCtx:e,localCtx:t,options:r})=>{s(t)&&"@context"in t&&a(t["@context"])&&(t=t["@context"]);const n=a(t)?t:[t];if(0===n.length)return e;let i=e;for(let t=0;t<n.length;++t){let a=n[t];if(null===a){i=e=b.getInitialContext(r);continue}if(s(a)&&"@context"in a&&(a=a["@context"]),!s(a))throw new o("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:a});if(b.cache){const t=b.cache.get(e,a);if(t){i=e=t;continue}}e=i,i=i.clone();const c={};if("@version"in a){if(1.1!==a["@version"])throw new o("Unsupported JSON-LD version: "+a["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:a});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new o("@version: "+a["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:a});i.processingMode="json-ld-1.1",i["@version"]=a["@version"],c["@version"]=!0}if(i.processingMode=i.processingMode||e.processingMode||"json-ld-1.0","@base"in a){let t=a["@base"];if(null===t);else if(l(t))t=h(t);else{if(!f(t))throw new o('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:a});t=h(d(e["@base"].href,t))}i["@base"]=t,c["@base"]=!0}if("@vocab"in a){const e=a["@vocab"];if(null===e)delete i["@vocab"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a});if(!l(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:a});i["@vocab"]=e}c["@vocab"]=!0}if("@language"in a){const e=a["@language"];if(null===e)delete i["@language"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:a});i["@language"]=e.toLowerCase()}c["@language"]=!0}for(const e in a)b.createTermDefinition(i,a,e,c);b.cache&&b.cache.set(e,a,i)}return i}),b.createTermDefinition=((e,t,r,n)=>{if(r in n){if(n[r])return;throw new o("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n[r]=!1,b.isKeyword(r))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new o("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});e.mappings[r]&&delete e.mappings[r];let i=t[r];if(null===i||s(i)&&null===i["@id"])return e.mappings[r]=null,void(n[r]=!0);let c=!1;if(u(i)&&(c=!0,i={"@id":i}),!s(i))throw new o("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const f=e.mappings[r]={};f.reverse=!1;const d=["@container","@id","@language","@reverse","@type"];b.processingMode(e,1.1)&&d.push("@context","@nest","@prefix");for(const e in i)if(!d.includes(e))throw new o("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const h=r.indexOf(":");if(f._termHasColon=-1!==h,"@reverse"in i){if("@id"in i)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in i)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const r=i["@reverse"];if(!u(r))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});const a=b.expandIri(e,r,{vocab:!0,base:!1},t,n);if(!l(a))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});f["@id"]=a,f.reverse=!0}else if("@id"in i){let a=i["@id"];if(!u(a))throw new o("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(a!==r){if(a=b.expandIri(e,a,{vocab:!0,base:!1},t,n),!l(a)&&!b.isKeyword(a))throw new o("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});f["@id"]=a,f._prefix=!f._termHasColon&&a.match(/[:\/\?#\[\]@]$/)&&(c||b.processingMode(e,1))}}if(!("@id"in f))if(f._termHasColon){const i=r.substr(0,h);if(i in t&&b.createTermDefinition(e,t,i,n),e.mappings[i]){const t=r.substr(h+1);f["@id"]=e.mappings[i]["@id"]+t}else f["@id"]=r}else{if(!("@vocab"in e))throw new o("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});f["@id"]=e["@vocab"]+r}if(n[r]=!0,"@type"in i){let r=i["@type"];if(!u(r))throw new o("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==r&&"@vocab"!==r){if(r=b.expandIri(e,r,{vocab:!0,base:!1},t,n),!l(r))throw new o("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new o("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}f["@type"]=r}if("@container"in i){const r=u(i["@container"])?[i["@container"]]:i["@container"]||[],n=["@list","@set","@index","@language"];let s=!0;const c=r.includes("@set");if(b.processingMode(e,1.1))if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new o("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new o("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else s&=r.length<=(c?2:1);else s&=!a(i["@container"]),s&=r.length<=1;if(s&=r.every(e=>n.includes(e)),!(s&=!(c&&r.includes("@list"))))throw new o("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(f.reverse&&!r.every(e=>["@index","@set"].includes(e)))throw new o("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});f["@container"]=r}if("@context"in i&&(f["@context"]=i["@context"]),"@language"in i&&!("@type"in i)){let e=i["@language"];if(null!==e&&!u(e))throw new o("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),f["@language"]=e}if("@prefix"in i){if(f._termHasColon)throw new o("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof i["@prefix"])throw new o("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});f._prefix=!0===i["@prefix"]}if("@nest"in i){const e=i["@nest"];if(!u(e)||"@nest"!==e&&0===e.indexOf("@"))throw new o("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});f["@nest"]=e}
// disallow aliasing @context and @preserve
const p=f["@id"];if("@context"===p||"@preserve"===p)throw new o("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}),b.expandIri=((e,t,r,n,i)=>{if(null===t||!u(t)||b.isKeyword(t))return t;if(n&&t in n&&!0!==i[t]&&b.createTermDefinition(e,n,t,i),(r=r||{}).vocab){const r=e.mappings[t];if(null===r)return null;if(r)return r["@id"]}const o=t.indexOf(":");if(-1!==o){const r=t.substr(0,o),a=t.substr(o+1);if("_"===r||0===a.indexOf("//"))return t;n&&r in n&&b.createTermDefinition(e,n,r,i);const s=e.mappings[r];return s?s["@id"]+a:t}return r.vocab&&"@vocab"in e?e["@vocab"]+t:r.base?d(e["@base"],t):t}),b.getInitialContext=(e=>{const t=h(e.base||""),r=JSON.stringify({base:t,processingMode:e.processingMode}),i=v.get(r);if(i)return i;const o={"@base":t,processingMode:e.processingMode,mappings:{},inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},i=e["@language"]||"@none",o=e.mappings,u=Object.keys(o).sort(y);for(let e=0;e<u.length;++e){const a=u[e],c=o[a];if(null===c)continue;let l=c["@container"]||"@none";l=[].concat(l).sort().join("");const f=p(c["@id"]);for(let e=0;e<f.length;++e){const o=f[e];let u=t[o];const d=b.isKeyword(o);if(u)d||c._termHasColon||n[o].push(a);else if(t[o]=u={},!d&&!c._termHasColon){n[o]=[a];const e={iri:o,terms:n[o]};o[0]in r?r[o[0]].push(e):r[o[0]]=[e]}if(u[l]||(u[l]={"@language":{},"@type":{},"@any":{}}),u=u[l],s(a,u["@any"],"@none"),c.reverse)s(a,u["@type"],"@reverse");else if("@type"in c)s(a,u["@type"],c["@type"]);else if("@language"in c){const e=c["@language"]||"@null";s(a,u["@language"],e)}else s(a,u["@language"],i),s(a,u["@type"],"@none"),s(a,u["@language"],"@none")}}for(const e in r)a(r,e,1);return t},clone:function(){const e={};e["@base"]=this["@base"],e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e}};return 1e4===v.size&&v.clear(),v.set(r,o),o;function a(e,t,r){const n=e[t],i=e[t]={};let o,s;for(let e=0;e<n.length;++e)(s=r>=(o=n[e].iri).length?"":o[r])in i?i[s].push(n[e]):i[s]=[n[e]];for(const e in i)""!==e&&a(i,e,r+1)}function s(e,t,r){r in t||(t[r]=e)}}),b.getContextValue=((e,t,r)=>{if(null===t)return null;if(e.mappings[t]){const n=e.mappings[t];if(c(r))return n;if(r in n)return n[r]}return"@language"===r&&r in e?e[r]:null}),b.getAllContexts=(async(e,t)=>(async function(e,t){const r=n.normalizeDocumentLoader(t.documentLoader);return await async function e(r,n,i){if(n.size>m)throw new o("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:m});const c=new Map;if(g(r,c,!1,t.base),0===c.size)return;const l=[...c.keys()].filter(e=>!1===c.get(e));return Promise.all(l.map(async l=>{if(n.has(l))throw new o("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:l});const f=new Set(n);let d,h;f.add(l);try{d=await i(l),h=d.document||null,u(h)&&(h=JSON.parse(h))}catch(e){throw new o("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:l,cause:e})}if(!s(h))throw new o("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:l});h="@context"in h?{"@context":h["@context"]}:{"@context":{}},d.contextUrl&&(a(h["@context"])||(h["@context"]=[h["@context"]]),h["@context"].push(d.contextUrl)),await e(h,f,i),c.set(l,h["@context"]),g(r,c,!0,t.base)}))}(e,new Set,r),e})(e,t)),b.processingMode=((e,t)=>t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode),b.isKeyword=(e=>{if(!u(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(393))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(197))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(64),i=h(r(84)),o=h(r(284)),a=h(r(285)),s=h(r(286)),u=h(r(287)),c=h(r(288)),l=h(r(623)),f=h(r(86)),d=h(r(140));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){y(e,t,r[t])})}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=i.default["@context"],v=m.as;let b;const g=new n.PathFactory({context:m,handlers:p({},n.defaultHandlers,{delete:new o.default,findActivity:new a.default,likes:(e,t)=>t.findActivity(`${v}Like`),dislikes:(e,t)=>t.findActivity(`${v}Dislike`),follows:(e,t)=>t.findActivity(`${v}Follow`),createActivity:new s.default,like:(e,t)=>()=>t.createActivity(`${v}Like`),dislike:(e,t)=>()=>t.createActivity(`${v}Dislike`),follow:(e,t)=>()=>t.createActivity(`${v}Follow`),deleteActivity:new u.default,unlike:(e,t)=>()=>t.deleteActivity(`${v}Like`),undislike:(e,t)=>()=>t.deleteActivity(`${v}Dislike`),unfollow:(e,t)=>()=>t.deleteActivity(`${v}Follow`),root:()=>b})});var _=b=new n.PathFactory({handlers:p({},n.defaultHandlers,{from:new c.default(g),user:new l.default(g),clearCache:e=>{let t=e.settings;return e=>t.queryEngine.clearCache(e)},context:()=>m}),resolvers:[new f.default(g)],queryEngine:new d.default}).create();t.default=_},function(e,t,r){r(280),e.exports=self.fetch.bind(self)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(300))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(314))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(315))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(151)),n(r(320))},function(e,t,r){"use strict";(function(t,n){var i=r(3).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,r){if(e>65536)throw new Error("requested too many random bytes");var a=new t.Uint8Array(e);e>0&&o.getRandomValues(a);var s=i.from(a.buffer);if("function"==typeof r)return n.nextTick(function(){r(null,s)});return s}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,r(9),r(10))},function(e,t,r){"use strict";var n=r(2),i=r(105),o=r(106),a=r(107),s=r(34);function u(e){s.call(this,"digest"),this._hash=e}n(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(a(e))}},function(e,t,r){var n=r(3).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%i,c=Math.min(o-s,i-u),l=0;l<c;l++)r[u+l]=e[s+l];s+=c,(a+=c)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s=Object.prototype,u=s.hasOwnProperty,c=s.toString,l=s.propertyIsEnumerable,f=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),d=Math.max,h=!l.call({valueOf:1},"valueOf");function p(e,t){var r=g(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&_(e)}(e)&&u.call(e,"callee")&&(!l.call(e,"callee")||c.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,o=!!i;for(var a in e)!t&&!u.call(e,a)||o&&("length"==a||m(a,i))||r.push(a);return r}function y(e,t,r){var n=e[t];u.call(e,t)&&b(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function m(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function v(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s)}function b(e,t){return e===t||e!=e&&t!=t}var g=Array.isArray;function _(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=w(e)?c.call(e):"";return t==i||t==o}(e)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var E=function(e){return function(e,t){return t=d(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=d(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=o,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(e,t,r){if(!w(r))return!1;var n=typeof t;return!!("number"==n?_(r)&&m(t,r.length):"string"==n&&t in r)&&b(r[t],e)}(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}(function(e,t){if(h||v(t)||_(t))!function(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;y(r,a,void 0===s?e[a]:s)}}(t,function(e){return _(e)?p(e):function(e){if(!v(e))return f(e);var t=[];for(var r in Object(e))u.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}(t),e);else for(var r in t)u.call(t,r)&&y(e,r,t[r])});e.exports=E},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(o(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),a=(c=r.slice()).length,u=0;u<a;u++)c[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(7).Buffer)},function(e,t,r){var n,i,o=r(71),a=o.rdf,s=o.xsd,u=0;function c(e){if(!(this instanceof c))return new c(e);this.id=e}function l(e){if(!(this instanceof l))return new l(e);this.id=e}function f(e){if(!(this instanceof f))return new f(e);this.id="_:"+e}function d(e){if(!(this instanceof d))return new d(e);this.id="?"+e}function h(e){if(!(this instanceof h))return new h(e);this.id=e}function p(){return i||this}function y(e,t,r,n){if(!(this instanceof y))return new y(e,t,r,n);this.subject=e,this.predicate=t,this.object=r,this.graph=n||i}function m(e,t,r,n){return new y(e,t,r,n)}c.subclass=function e(t,r){t.prototype=Object.create(this.prototype,{constructor:{value:t},termType:{enumerable:!0,value:r}}),t.subclass=e},c.prototype.equals=function(e){return e instanceof c?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value},c.prototype.toJSON=function(){return{termType:this.termType,value:this.value}},c.subclass(l,"NamedNode"),Object.defineProperty(l.prototype,"value",{enumerable:!0,get:function(){return this.id}}),c.subclass(f,"BlankNode"),Object.defineProperty(f.prototype,"value",{enumerable:!0,get:function(){return this.id.substr(2)}}),c.subclass(d,"Variable"),Object.defineProperty(d.prototype,"value",{enumerable:!0,get:function(){return this.id.substr(1)}}),c.subclass(h,"Literal"),Object.defineProperty(h.prototype,"value",{enumerable:!0,get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}}),Object.defineProperty(h.prototype,"language",{enumerable:!0,get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}}),Object.defineProperty(h.prototype,"datatype",{enumerable:!0,get:function(){return new l(this.datatypeString)}}),Object.defineProperty(h.prototype,"datatypeString",{enumerable:!0,get:function(){var e,t=this.id,r=t.lastIndexOf('"')+1;return r<t.length&&"^"===(e=t[r])?t.substr(r+2):"@"!==e?s.string:a.langString}}),h.prototype.equals=function(e){return e instanceof h?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value},h.prototype.toJSON=function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}},c.subclass(p,"DefaultGraph"),(i=new p).id="",Object.defineProperty(p.prototype,"value",{enumerable:!0,value:""}),p.prototype.equals=function(e){return this===e||!!e&&this.termType===e.termType},y.prototype.toJSON=function(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}},y.prototype.equals=function(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)},e.exports=n={namedNode:function(e){return new l(e)},blankNode:function(e){return e||(e="n3-"+u++),new f(e)},variable:function(e){return new d(e)},literal:function(e,t){if("string"==typeof t)return new h('"'+e+'"@'+t.toLowerCase());var r=t&&t.value||"";if(!r)switch(typeof e){case"boolean":r=s.boolean;break;case"number":Number.isFinite(e)?r=Number.isInteger(e)?s.integer:s.double:(r=s.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"));break;default:return new h('"'+e+'"')}return new h('"'+e+'"^^'+r)},defaultGraph:function(){return i},quad:m,triple:m,internal:{Term:c,NamedNode:l,BlankNode:f,Variable:d,Literal:h,DefaultGraph:p,Quad:y,Triple:y,fromId:function(e,t){if(t=t||n,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===n)return new h(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof c)return e.id;if(!e)return i.value;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==s.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}}},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(e,t,r){"use strict";const n=r(21),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=((e,t)=>{const r={},n=i.parsers[t||"full"],o=n.regex.exec(e);let a=n.keys.length;for(;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r}),i.prependBase=((e,t)=>{if(null===e)return t;if(-1!==t.indexOf(":"))return t;n.isString(e)&&(e=i.parse(e||""));const r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let t=e.path;(t=t.substr(0,t.lastIndexOf("/")+1)).length>0&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,o.path=t}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a}),i.removeBase=((e,t)=>{if(null===e)return t;n.isString(e)&&(e=i.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const o=i.parse(t.substr(r.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;for(;a.length>0&&s.length>u&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c}),i.removeDotSegments=(e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")});const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;i.isAbsolute=(e=>n.isString(e)&&o.test(e)),i.isRelative=(e=>n.isString(e))},function(e,t,r){(function(t){e.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new t(n),o=0;o<n;++o)i[o]=e[o]^r[o];return i}}).call(this,r(7).Buffer)},function(e,t,r){"use strict";var n=r(24),i=r(20);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},function(e,t,r){var n=t;n.bignum=r(11),n.define=r(497).define,n.base=r(63),n.constants=r(238),n.decoders=r(503),n.encoders=r(505)},function(e,t,r){var n=t;n.Reporter=r(500).Reporter,n.DecoderBuffer=r(237).DecoderBuffer,n.EncoderBuffer=r(237).EncoderBuffer,n.Node=r(501)},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DataHandler",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"DeleteFunctionHandler",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ExecuteQueryHandler",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"InsertFunctionHandler",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"JSONLDResolver",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"MutationExpressionsHandler",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"MutationFunctionHandler",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PathExpressionHandler",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"PathProxy",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"PathFactory",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"ReplaceFunctionHandler",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"SetFunctionHandler",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"SparqlHandler",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"SubjectHandler",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"StringToLDflexHandler",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"defaultHandlers",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"getFirstItem",{enumerable:!0,get:function(){return _.getFirstItem}}),Object.defineProperty(t,"iteratorFor",{enumerable:!0,get:function(){return _.iteratorFor}}),Object.defineProperty(t,"getThen",{enumerable:!0,get:function(){return w.getThen}}),Object.defineProperty(t,"toIterablePromise",{enumerable:!0,get:function(){return w.toIterablePromise}});var i=n(r(116)),o=n(r(117)),a=n(r(121)),s=n(r(123)),u=n(r(124)),c=n(r(127)),l=n(r(82)),f=n(r(128)),d=n(r(129)),h=n(r(283)),p=n(r(135)),y=n(r(134)),m=n(r(133)),v=n(r(132)),b=n(r(136)),g=n(r(131)),_=r(83),w=r(65)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getThen=i,t.toIterablePromise=function(e){"function"==typeof e&&(e=o(e()));return{[Symbol.asyncIterator]:()=>e[Symbol.asyncIterator](),get then(){return i(()=>(0,n.getFirstItem)(this))},catch(e){return this.then(null,e)},finally(e){return this.then().finally(e)}}},t.memoizeIterable=o;var n=r(83);function i(e){return(t,r)=>e().then(t,r)}function o(e){const t=[];let r=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){let e=0;return{async next(){if(e<t.length)return t[e++];if(!r)return{done:!0};const n=t[e++]=r.next();return(await n).done&&(r=null),n}}}}}},function(e,t,r){"use strict";function n(e){switch(e.termType){case"NamedNode":return`<${e.value}>`;case"Literal":return`"${e.value}"^^<${e.datatype.value}>`;default:throw new Error(`Unknown term type: ${e.termType}`)}}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceVariables=function(e,t){for(const r in t)e=e.replace(new RegExp(`_:${r}`,"g"),n(t[r]));return e},t.serializeTerm=n,t.createBindings=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{size:t.length,values:()=>({next:()=>({value:t.shift()})})}}},function(e,t,r){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,r)});case 3:return t.nextTick(function(){e.call(null,r,n)});case 4:return t.nextTick(function(){e.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,r(10))},function(e,t,r){"use strict";var n=r(3).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){(function(e,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,c=9007199254740991,l="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",p="[object Error]",y="[object Function]",m="[object GeneratorFunction]",v="[object Map]",b="[object Number]",g="[object Object]",_="[object RegExp]",w="[object Set]",E="[object String]",S="[object Symbol]",T="[object ArrayBuffer]",O="[object DataView]",x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,I=/^\./,N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[l]=P[f]=P[T]=P[d]=P[O]=P[h]=P[p]=P[y]=P[v]=P[b]=P[g]=P[_]=P[w]=P[E]=P["[object WeakMap]"]=!1;var D="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,C=D||M||Function("return this")(),L=t&&!t.nodeType&&t,F=L&&"object"==typeof r&&r&&!r.nodeType&&r,B=F&&F.exports===L&&D.process,q=function(){try{return B&&B.binding("util")}catch(e){}}(),U=q&&q.isTypedArray;function V(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function z(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function Q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function G(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function H(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var $=Array.prototype,J=Function.prototype,X=Object.prototype,Y=C["__core-js_shared__"],K=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),W=J.toString,Z=X.hasOwnProperty,ee=X.toString,te=RegExp("^"+W.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=C.Symbol,ne=C.Uint8Array,ie=X.propertyIsEnumerable,oe=$.splice,ae=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),se=qe(C,"DataView"),ue=qe(C,"Map"),ce=qe(C,"Promise"),le=qe(C,"Set"),fe=qe(C,"WeakMap"),de=qe(Object,"create"),he=Je(se),pe=Je(ue),ye=Je(ce),me=Je(le),ve=Je(fe),be=re?re.prototype:void 0,ge=be?be.valueOf:void 0,_e=be?be.toString:void 0;function we(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){var t=-1,r=e?e.length:0;for(this.__data__=new Se;++t<r;)this.add(e[t])}function Oe(e){this.__data__=new Ee(e)}function xe(e,t){var r=We(e)||Ke(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!Z.call(e,o)||i&&("length"==o||Ve(o,n))||r.push(o);return r}function Ae(e,t){for(var r=e.length;r--;)if(Ye(e[r][0],t))return r;return-1}we.prototype.clear=function(){this.__data__=de?de(null):{}},we.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},we.prototype.get=function(e){var t=this.__data__;if(de){var r=t[e];return r===o?void 0:r}return Z.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return de?void 0!==t[e]:Z.call(t,e)},we.prototype.set=function(e,t){return this.__data__[e]=de&&void 0===t?o:t,this},Ee.prototype.clear=function(){this.__data__=[]},Ee.prototype.delete=function(e){var t=this.__data__,r=Ae(t,e);return!(r<0||(r==t.length-1?t.pop():oe.call(t,r,1),0))},Ee.prototype.get=function(e){var t=this.__data__,r=Ae(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return Ae(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=Ae(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Se.prototype.clear=function(){this.__data__={hash:new we,map:new(ue||Ee),string:new we}},Se.prototype.delete=function(e){return Be(this,e).delete(e)},Se.prototype.get=function(e){return Be(this,e).get(e)},Se.prototype.has=function(e){return Be(this,e).has(e)},Se.prototype.set=function(e,t){return Be(this,e).set(e,t),this},Te.prototype.add=Te.prototype.push=function(e){return this.__data__.set(e,o),this},Te.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.clear=function(){this.__data__=new Ee},Oe.prototype.delete=function(e){return this.__data__.delete(e)},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var i=r.__data__;if(!ue||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new Se(i)}return r.set(e,t),this};var Ie=function(e,t){return function(r,n){if(null==r)return r;if(!Ze(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}(function(e,t){return e&&Ne(e,t,at)}),Ne=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}();function je(e,t){for(var r=0,n=(t=ze(t,e)?[t]:Le(t)).length;null!=e&&r<n;)e=e[$e(t[r++])];return r&&r==n?e:void 0}function ke(e,t){return null!=e&&t in Object(e)}function Re(e,t,r,n,i){return e===t||(null==e||null==t||!rt(e)&&!nt(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var u=We(e),c=We(t),y=f,m=f;u||(y=(y=Ue(e))==l?g:y);c||(m=(m=Ue(t))==l?g:m);var x=y==g&&!Q(e),A=m==g&&!Q(t),I=y==m;if(I&&!x)return o||(o=new Oe),u||ot(e)?Fe(e,t,r,n,i,o):function(e,t,r,n,i,o,u){switch(r){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!n(new ne(e),new ne(t)));case d:case h:case b:return Ye(+e,+t);case p:return e.name==t.name&&e.message==t.message;case _:case E:return e==t+"";case v:var c=G;case w:var l=o&s;if(c||(c=H),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;o|=a,u.set(e,t);var y=Fe(c(e),c(t),n,i,o,u);return u.delete(e),y;case S:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,y,r,n,i,o);if(!(i&s)){var N=x&&Z.call(e,"__wrapped__"),j=A&&Z.call(t,"__wrapped__");if(N||j){var k=N?e.value():e,R=j?t.value():t;return o||(o=new Oe),r(k,R,n,i,o)}}if(!I)return!1;return o||(o=new Oe),function(e,t,r,n,i,o){var a=i&s,u=at(e),c=u.length,l=at(t).length;if(c!=l&&!a)return!1;for(var f=c;f--;){var d=u[f];if(!(a?d in t:Z.call(t,d)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var p=!0;o.set(e,t),o.set(t,e);for(var y=a;++f<c;){d=u[f];var m=e[d],v=t[d];if(n)var b=a?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(!(void 0===b?m===v||r(m,v,n,i,o):b)){p=!1;break}y||(y="constructor"==d)}if(p&&!y){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,n,i,o)}(e,t,Re,r,n,i))}function Pe(e){return!(!rt(e)||function(e){return!!K&&K in e}(e))&&(et(e)||Q(e)?te:k).test(Je(e))}function De(e){return"function"==typeof e?e:null==e?st:"object"==typeof e?We(e)?function(e,t){if(ze(e)&&Qe(t))return Ge($e(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:je(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){var n,i=-1,o=(t=ze(t,e)?[t]:Le(t)).length;for(;++i<o;){var a=$e(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;return!!(o=e?e.length:0)&&tt(o)&&Ve(a,o)&&(We(e)||Ke(e))}(e,t,ke)}(r,e):Re(t,n,void 0,a|s)}}(e[0],e[1]):function(e){var t=function(e){var t=at(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Qe(i)]}return t}(e);if(1==t.length&&t[0][2])return Ge(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,u=!n;if(null==e)return!o;for(e=Object(e);i--;){var c=r[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var l=(c=r[i])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new Oe;if(n)var p=n(f,d,l,e,t,h);if(!(void 0===p?Re(d,f,n,a|s,h):p))return!1}}return!0}(r,e,t)}}(e):function(e){return ze(e)?function(e){return function(t){return null==t?void 0:t[e]}}($e(e)):function(e){return function(t){return je(t,e)}}(e)}(e)}function Me(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||X;return e===r}(e))return ae(e);var t=[];for(var r in Object(e))Z.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ce(e,t){var r=-1,n=Ze(e)?Array(e.length):[];return Ie(e,function(e,i,o){n[++r]=t(e,i,o)}),n}function Le(e){return We(e)?e:He(e)}function Fe(e,t,r,n,i,o){var u=i&s,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=o.get(e);if(f&&o.get(t))return f==t;var d=-1,h=!0,p=i&a?new Te:void 0;for(o.set(e,t),o.set(t,e);++d<c;){var y=e[d],m=t[d];if(n)var v=u?n(m,y,d,t,e,o):n(y,m,d,e,t,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!z(t,function(e,t){if(!p.has(t)&&(y===e||r(y,e,n,i,o)))return p.add(t)})){h=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Be(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function qe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Pe(r)?r:void 0}var Ue=function(e){return ee.call(e)};function Ve(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||R.test(e))&&e>-1&&e%1==0&&e<t}function ze(e,t){if(We(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!it(e))||(A.test(e)||!x.test(e)||null!=t&&e in Object(t))}function Qe(e){return e==e&&!rt(e)}function Ge(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(se&&Ue(new se(new ArrayBuffer(1)))!=O||ue&&Ue(new ue)!=v||ce&&"[object Promise]"!=Ue(ce.resolve())||le&&Ue(new le)!=w||fe&&"[object WeakMap]"!=Ue(new fe))&&(Ue=function(e){var t=ee.call(e),r=t==g?e.constructor:void 0,n=r?Je(r):void 0;if(n)switch(n){case he:return O;case pe:return v;case ye:return"[object Promise]";case me:return w;case ve:return"[object WeakMap]"}return t});var He=Xe(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(it(e))return _e?_e.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}(e)}(e);var t=[];return I.test(e)&&t.push(""),e.replace(N,function(e,r,n,i){t.push(n?i.replace(j,"$1"):r||e)}),t});function $e(e){if("string"==typeof e||it(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function Je(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Xe(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(Xe.Cache||Se),r}function Ye(e,t){return e===t||e!=e&&t!=t}function Ke(e){return function(e){return nt(e)&&Ze(e)}(e)&&Z.call(e,"callee")&&(!ie.call(e,"callee")||ee.call(e)==l)}Xe.Cache=Se;var We=Array.isArray;function Ze(e){return null!=e&&tt(e.length)&&!et(e)}function et(e){var t=rt(e)?ee.call(e):"";return t==y||t==m}function tt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function rt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function nt(e){return!!e&&"object"==typeof e}function it(e){return"symbol"==typeof e||nt(e)&&ee.call(e)==S}var ot=U?function(e){return function(t){return e(t)}}(U):function(e){return nt(e)&&tt(e.length)&&!!P[ee.call(e)]};function at(e){return Ze(e)?xe(e):Me(e)}function st(e){return e}r.exports=function(e,t){return(We(e)?V:Ce)(e,De(t))}}).call(this,r(9),r(38)(e))},function(e,t,r){e.exports={DataFactory:r(56),Lexer:r(153),Parser:r(154),Writer:r(155),Store:r(322),StreamParser:r(323),StreamWriter:r(324),Util:r(325)}},function(e,t){var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#",i="http://www.w3.org/2000/10/swap/";e.exports={xsd:{decimal:n+"decimal",boolean:n+"boolean",double:n+"double",integer:n+"integer",string:n+"string"},rdf:{type:r+"type",nil:r+"nil",first:r+"first",rest:r+"rest",langString:r+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:i+"reify#forSome",forAll:i+"reify#forAll"},log:{implies:i+"log#implies"}}},function(e,t,r){"use strict";const{isKeyword:n}=r(40),i=r(30),o=r(21),a=r(18),s=r(31),u={};e.exports=u,u.createMergedNodeMap=((e,t)=>{const r=(t=t||{}).issuer||new a.IdentifierIssuer("_:b"),n={"@default":{}};return u.createNodeMap(e,n,"@default",r),u.mergeNodeMaps(n)}),u.createNodeMap=((e,t,r,c,l,f)=>{if(o.isArray(e)){for(let n=0;n<e.length;++n)u.createNodeMap(e[n],t,r,c,void 0,f);return}if(!o.isObject(e))return void(f&&f.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(f&&f.push(e))}if("@type"in e){const t=e["@type"];for(let e=0;e<t.length;++e){const r=t[e];0===r.indexOf("_:")&&c.getId(r)}}o.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),f&&f.push({"@id":l});const d=t[r],h=d[l]=d[l]||{};h["@id"]=l;const p=Object.keys(e).sort();for(let o=0;o<p.length;++o){let f=p[o];if("@id"===f)continue;if("@reverse"===f){const n={"@id":l},o=e["@reverse"];for(const e in o){const s=o[e];for(let o=0;o<s.length;++o){const l=s[o];let f=l["@id"];i.isBlankNode(l)&&(f=c.getId(f)),u.createNodeMap(l,t,r,c,f),a.addValue(d[f],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===f){l in t||(t[l]={}),u.createNodeMap(e[f],t,l,c);continue}if("@type"!==f&&n(f)){if("@index"===f&&f in h&&(e[f]!==h[f]||e[f]["@id"]!==h[f]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[f]=e[f];continue}const y=e[f];if(0===f.indexOf("_:")&&(f=c.getId(f)),0!==y.length)for(let e=0;e<y.length;++e){let n=y[e];if("@type"===f&&(n=0===n.indexOf("_:")?c.getId(n):n),i.isSubject(n)||i.isSubjectReference(n)){const e=i.isBlankNode(n)?c.getId(n["@id"]):n["@id"];a.addValue(h,f,{"@id":e},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(n,t,r,c,e)}else if(i.isList(n)){const e=[];u.createNodeMap(n["@list"],t,r,c,l,e),n={"@list":e},a.addValue(h,f,n,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(n,t,r,c,l),a.addValue(h,f,n,{propertyIsArray:!0,allowDuplicate:!1})}else a.addValue(h,f,[],{propertyIsArray:!0})}}),u.mergeNodeMapGraphs=(e=>{const t={};for(const r of Object.keys(e).sort())for(const i of Object.keys(e[r]).sort()){const o=e[r][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(o).sort())if(n(e))s[e]=a.clone(o[e]);else for(const t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t}),u.mergeNodeMaps=(e=>{const t=e["@default"],r=Object.keys(e).sort();for(let n=0;n<r.length;++n){const o=r[n];if("@default"===o)continue;const a=e[o];let s=t[o];s?"@graph"in s||(s["@graph"]=[]):t[o]=s={"@id":o,"@graph":[]};const u=s["@graph"],c=Object.keys(a).sort();for(let e=0;e<c.length;++e){const t=a[c[e]];i.isSubjectReference(t)||u.push(t)}}return t})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(368))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=Object.freeze({ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath"}),t.expressionTypes=Object.freeze({AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(414))},function(e,t,r){var n=r(3).Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,r,n,i){for(var o,a,s,u,c=r[0],l=r[1],f=r[2],d=r[3],h=e[0]^t[0],p=e[1]^t[1],y=e[2]^t[2],m=e[3]^t[3],v=4,b=1;b<i;b++)o=c[h>>>24]^l[p>>>16&255]^f[y>>>8&255]^d[255&m]^t[v++],a=c[p>>>24]^l[y>>>16&255]^f[m>>>8&255]^d[255&h]^t[v++],s=c[y>>>24]^l[m>>>16&255]^f[h>>>8&255]^d[255&p]^t[v++],u=c[m>>>24]^l[h>>>16&255]^f[p>>>8&255]^d[255&y]^t[v++],h=o,p=a,y=s,m=u;return o=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[y>>>8&255]<<8|n[255&m])^t[v++],a=(n[p>>>24]<<24|n[y>>>16&255]<<16|n[m>>>8&255]<<8|n[255&h])^t[v++],s=(n[y>>>24]<<24|n[m>>>16&255]<<16|n[h>>>8&255]<<8|n[255&p])^t[v++],u=(n[m>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[255&y])^t[v++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,r[a]=c,n[c]=a;var l=e[a],f=e[l],d=e[f],h=257*e[c]^16843008*c;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*d^65537*f^257*l^16843008*a,o[0][c]=h<<24|h>>>8,o[1][c]=h<<16|h>>>16,o[2][c]=h<<8|h>>>24,o[3][c]=h,0===a?a=s=1:(a=l^e[e[e[d^l]]],s^=e[e[s]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var a=i[o-1];o%t==0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),i[o]=i[o-t]^a}for(var c=[],l=0;l<n;l++){var f=n-l,d=i[f-(l%4?0:4)];c[l]=l<4||f<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=a(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},function(e,t,r){var n=r(3).Buffer,i=r(105);e.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,s=n.alloc(a),u=n.alloc(o||0),c=n.alloc(0);a>0||o>0;){var l=new i;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var f=0;if(a>0){var d=s.length-a;f=Math.min(a,c.length),c.copy(s,d,0,f),a-=f}if(f<c.length&&o>0){var h=u.length-o,p=Math.min(o,c.length-f);c.copy(u,h,f,f+p),o-=p}}return c.fill(0),{key:s,iv:u}}},function(e,t,r){"use strict";var n=t;n.base=r(477),n.short=r(478),n.mont=r(479),n.edwards=r(480)},function(e,t,r){(function(t){var n=r(496),i=r(508),o=r(509),a=r(109),s=r(221);function u(e){var r;"object"!=typeof e||t.isBuffer(e)||(r=e.passphrase,e=e.key),"string"==typeof e&&(e=new t(e));var u,c,l=o(e,r),f=l.tag,d=l.data;switch(f){case"CERTIFICATE":c=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=n.PublicKey.decode(d,"der")),u=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+u)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":d=function(e,r){var n=e.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),u=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(u.split("-")[1],10)/8,d=s.pbkdf2Sync(r,n,o,f),h=a.createDecipheriv(u,d,c),p=[];return p.push(h.update(l)),p.push(h.final()),t.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),r);case"PRIVATE KEY":switch(u=(c=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+u)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}e.exports=u,u.signature=n.signature}).call(this,r(7).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(521);t.AsyncEvaluator=n.AsyncEvaluator;var i=r(535);t.SimpleEvaluator=i.SimpleEvaluator;var o=r(27);t.ExpressionError=o.ExpressionError,t.isExpressionError=o.isExpressionError},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(25)),n(r(522)),n(r(523)),n(r(524)),n(r(525)),n(r(526)),n(r(527)),n(r(528))},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(118)),o=r(6),a=r(65);t.default=class{constructor(e,t){this._mutationType=e,this._allowZeroArgs=t}handle(e,t){return(...r)=>{if(!this._allowZeroArgs&&!r.length)throw new Error(`Mutation on ${e} can not be invoked without arguments`);const n=(0,a.getThen)(()=>this.createMutationExpressions(e,t,r));return e.extendPath({mutationExpressions:{then:n}})}}async createMutationExpressions(e,t,r){const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(`${e} has no pathExpression property`);if(n.length<2)throw new Error(`${e} should at least contain a subject and a predicate`);const i=await this.extractObjects(e,t,r),o=this._mutationType;if(!i)return[{mutationType:o,conditions:n}];if(0===i.length)return[];const{predicate:a}=n.pop();if(!a)throw new Error(`Expected predicate in ${e}`);return[{mutationType:o,conditions:n,predicate:a,objects:i}]}async extractObjects(e,t,r){if(0===r.length)return null;const n=[];for(const f of r)if(f&&f[Symbol.asyncIterator]){var o,a=!0,s=!1;try{for(var u,c,l=(0,i.default)(f);a=(u=await l.next()).done,c=await u.value,!a;a=!0){const r=c;n.push(this.extractObject(e,t,r))}}catch(e){s=!0,o=e}finally{try{a||null==l.return||await l.return()}finally{if(s)throw o}}}else n.push(this.extractObject(e,t,await f));return n}extractObject(e,t,r){if("string"==typeof r)return(0,o.literal)(r);if(r&&r.termType)return r;throw new Error(`Invalid object: ${r}`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFirstItem=function(e){return e[Symbol.asyncIterator]().next().then(e=>e.value)},t.iteratorFor=function(e){return{async next(){if(e!==n){const t=await e;return e=n,{value:t}}return{done:!0}}}};const n={}},function(e){e.exports={"@context":{acl:"http://www.w3.org/ns/auth/acl#",app:"http://www.w3.org/ns/solid/app#",as:"https://www.w3.org/ns/activitystreams#",cert:"http://www.w3.org/ns/auth/cert#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",owl:"http://www.w3.org/2002/07/owl#",pim:"http://www.w3.org/ns/pim/space#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",stat:"http://www.w3.org/ns/posix/stat#",vcard:"http://www.w3.org/2006/vcard/ns#",xsd:"http://www.w3.org/2001/XMLSchema#",accessControl:"acl:accessControl",accessTo:"acl:accessTo",accessToClass:"acl:accessToClass",agent:"acl:agent",agents:"acl:agent",agentClass:"acl:agentClass",agentClasses:"acl:agentClass",agentGroup:"acl:agentGroup",agentGroups:"acl:agentGroup",defaultAcl:"acl:default",defaultAclForNew:"acl:defaultForNew",delegates:"acl:delegates",mode:"acl:mode",modes:"acl:mode",origin:"acl:origin",origins:"acl:origin",actor:"as:actor",attachment:"as:attachment",attributedTo:"as:attributedTo",author:"as:author",bcc:"as:bcc",bto:"as:bto",cc:"as:cc",inReplyTo:"as:inReplyTo",object:"as:object",publicationDate:"as:published",subject:"as:subject",summary:"as:summary",target:"as:target",to:"as:to",abstract:"dc:abstract",abstracts:"dc:abstract",created:"dc:created",license:"dc:license",modified:"dc:modified",title:"dc:title",titles:"dc:title",account:"foaf:account",accounts:"foaf:account",age:"foaf:age",basedNear:"foaf:based_near",birthday:"foaf:birthday",blog:"foaf:weblog",depiction:"foaf:depiction",depicts:"foaf:depicts",email:"foaf:mbox",familyName:"foaf:familyName",firstName:"foaf:givenName",friend:"foaf:knows",friends:"foaf:knows",gender:"foaf:gender",givenName:"foaf:givenName",homepage:"foaf:homepage",image:"foaf:img",images:"foaf:img",interest:"foaf:topic_interest",interests:"foaf:topic_interest",knows:"foaf:knows",lastName:"foaf:familyName",logo:"foaf:logo",made:"foaf:made",maker:"foaf:maker",member:"foaf:member",name:"foaf:name",nick:"foaf:nick",page:"foaf:page",pages:"foaf:page",primaryTopic:"foaf:primaryTopic",primaryTopicOf:"foaf:primaryTopicOf",publication:"foaf:publications",publications:"foaf:publications",thumbnail:"foaf:thumbnail",thumbnails:"foaf:thumbnail",topic:"foaf:topic",topics:"foaf:topic",inbox:"ldp:inbox",inboxes:"ldp:inbox",storage:"pim:storage",preferences:"pim:preferencesFile",workspace:"pim:workspace",type:"rdf:type",types:"rdf:type",comment:"rdfs:comment",comments:"rdfs:comment",label:"rdfs:label",labels:"rdfs:label",seeAlso:"rdfs:seeAlso",definedBy:"rdfs:isDefinedBy",oidcIssuer:"solid:oidcIssuer",publicTypeIndex:"solid:publicTypeIndex",publicTypeIndexes:"solid:publicTypeIndex",privateTypeIndex:"solid:privateTypeIndex",privateTypeIndexes:"solid:privateTypeIndex"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(64),i=r(6),o=function(e){return e&&e.__esModule?e:{default:e}}(r(84));function a(e){return new u(e)}function s(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,s=a instanceof u;Promise.resolve(s?a.wrapped:a).then(function(e){s?n("next",e):i(o.done?"return":"normal",e)},function(e){n("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function u(e){this.wrapped=e}function c(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(s.prototype[Symbol.asyncIterator]=function(){return this}),s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};const l=o.default["@context"].as;t.default=class{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).activitiesPath,t=void 0===e?"/public/activities":e;!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"requireUser",!0),this.activitiesPath=t}handle(e,t){const r=this,o=t.root,u=e.settings.queryEngine;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:`${l}Like`;return(0,n.toIterablePromise)(function(e){return function(){return new s(e.apply(this,arguments))}}(function*(){let n;try{n=yield a(o.user)}catch(e){if(r.requireUser)throw e;return}const s=yield a(o.user.pim$storage),l=new URL(r.activitiesPath,s||n).href,f=[],d=(0,i.namedNode)(n);e=(0,i.namedNode)(e);var h,p=!0,y=!1;try{for(var m,v,b=c(t);p=(m=yield a(b.next())).done,v=yield a(m.value),!p;p=!0){const t=v;if("NamedNode"===t.termType){const n={actor:d,type:e,object:t};var g,_=!0,w=!1;try{for(var E,S,T=c(r.createResults(n,l,u));_=(E=yield a(T.next())).done,S=yield a(E.value),!_;_=!0){const e=S;f.push(e)}}catch(e){w=!0,g=e}finally{try{_||null==T.return||(yield a(T.return()))}finally{if(w)throw g}}}}}catch(e){y=!0,h=e}finally{try{p||null==b.return||(yield a(b.return()))}finally{if(y)throw h}}for(const e of yield a(r.processResults(f,l,u)))yield o[e.value]}))}}async processResults(e){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6),i=function(e){return e&&e.__esModule?e:{default:e}}(r(140));t.default=class{constructor(e,t){this._paths=e,this._source=t}supports(e){return"string"==typeof e}resolve(e){return this._createSubjectPath((0,n.namedNode)(e))}_createSubjectPath(e){const t=this._source||Promise.resolve(e).catch(()=>null),r=new i.default(t);return this._paths.create({queryEngine:r},{subject:e})}}},function(e,t,r){"use strict";var n=e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState}},function(e,t,r){(t=e.exports=r(145)).Stream=t,t.Readable=t,t.Writable=r(89),t.Duplex=r(37),t.Transform=r(148),t.PassThrough=r(308)},function(e,t,r){"use strict";(function(t,n,i){var o=r(67);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;b.WritableState=v;var c=r(55);c.inherits=r(2);var l={deprecate:r(307)},f=r(146),d=r(3).Buffer,h=i.Uint8Array||function(){};var p,y=r(147);function m(){}function v(e,t){s=s||r(37),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),T(e,t))}(e,r,n,t,i);else{var a=E(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?u(_,e,r,a,i):_(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(e){if(s=s||r(37),!(p.call(b,this)||this instanceof s))return new b(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function g(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,g(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(g(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function T(e,t){var r=E(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(b,f),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n=this._writableState,i=!1,a=!n.objectMode&&function(e){return d.isBuffer(e)||e instanceof h}(e);return a&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=m),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(n,a),i=!1),i}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,s,n,i,o);return u}(this,n,a,e,t,r)),i},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(10),r(16).setImmediate,r(9))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(319)),n(r(321))},function(e,t,r){"use strict";const n=r(39),i=r(158),o=r(334),a=r(162),s=r(335);let u;try{u=r(336)}catch(e){}const c={};e.exports=c,c.NQuads=r(94),c.IdentifierIssuer=r(92),c._rdfCanonizeNative=function(e){return e&&(u=e),u},c.canonize=n.callbackify(async function(e,t){let r;const n=new Promise((e,t)=>{r=((r,n)=>{if(r)return t(r);e(n)})});if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!u)throw new Error("rdf-canonize-native not available");u.canonize(e,t,r)}else if("URDNA2015"===t.algorithm)new i(t).main(e,r);else{if("URGNA2012"!==t.algorithm)throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");new o(t).main(e,r)}return n}),c.canonizeSync=function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(u)return u.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new s(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},function(e,t,r){"use strict";const n=r(39);e.exports=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=n.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}}},function(e,t,r){var n=r(57);e.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",o={};function a(e,t){for(const r in e)if(e[r].termType!==t[r].termType||e[r].value!==t[r].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}o.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,o.empty=new RegExp("^[ \\t]*$"),o.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const t=[],r={},s=e.split(o.eoln);let u=0;for(const e of s){if(u++,o.empty.test(e))continue;const s=e.match(o.quad);if(null===s)throw new Error("N-Quads parse error on line "+u+".");const l={};if(void 0!==s[1]?l.subject={termType:"NamedNode",value:s[1]}:l.subject={termType:"BlankNode",value:s[2]},l.predicate={termType:"NamedNode",value:s[3]},void 0!==s[4]?l.object={termType:"NamedNode",value:s[4]}:void 0!==s[5]?l.object={termType:"BlankNode",value:s[5]}:(l.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==s[7]?l.object.datatype.value=s[7]:void 0!==s[8]?(l.object.datatype.value=n,l.object.language=s[8]):l.object.datatype.value=i,l.object.value=c(s[6])),void 0!==s[9]?l.graph={termType:"NamedNode",value:s[9]}:void 0!==s[10]?l.graph={termType:"BlankNode",value:s[10]}:l.graph={termType:"DefaultGraph",value:""},l.graph.value in r){let e=!0;const n=r[l.graph.value];for(const t of n)if(a(t,l)){e=!1;break}e&&(n.push(l),t.push(l))}else r[l.graph.value]=[l],t.push(l)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const t=e.subject,r=e.predicate,o=e.object,a=e.graph;let u="";return[t,r].forEach(e=>{"NamedNode"===e.termType?u+="<"+e.value+">":u+=e.value,u+=" "}),"NamedNode"===o.termType?u+="<"+o.value+">":"BlankNode"===o.termType?u+=o.value:(u+='"'+function(e){return e.replace(s,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(o.value)+'"',o.datatype.value===n?o.language&&(u+="@"+o.language):o.datatype.value!==i&&(u+="^^<"+o.datatype.value+">")),"NamedNode"===a.termType?u+=" <"+a.value+">":"BlankNode"===a.termType&&(u+=" "+a.value),u+=" .\n"}static legacyDatasetToQuads(e){const t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const o in e){e[o].forEach(e=>{const a={};for(const t in e){const o=e[t],s={termType:r[o.type],value:o.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=n),s.language=o.language):"datatype"in o||(s.datatype.value=i)),a[t]=s}a.graph="@default"===o?{termType:"DefaultGraph",value:""}:{termType:o.startsWith("_:")?"BlankNode":"NamedNode",value:o},t.push(a)})}return t}};const s=/["\\\n\r]/g;const u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function c(e){return e.replace(u,function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")})}},function(e,t,r){"use strict";const{callbackify:n,normalizeDocumentLoader:i}=r(18);e.exports=class{constructor(){this._requests={},this.add=n(this.add.bind(this))}wrapLoader(e){const t=this;return t._loader=i(e),function(){return t.add.apply(t,arguments)}}async add(e){const t=this;let r=t._requests[e];if(r)return Promise.resolve(r);r=t._requests[e]=t._loader(e);try{return await r}finally{delete t._requests[e]}}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(170)),n(r(369))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(12);t.default=class{constructor(e){this.dataFactory=e||n,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:"alt",left:e,right:t}}createAsk(e){return{type:"ask",input:e}}createBoundAggregate(e,t,r,n,i){let o=this.createAggregateExpression(t,r,n,i);return o.variable=e,o}createBgp(e){return{type:"bgp",patterns:e}}createConstruct(e,t){return{type:"construct",input:e,template:t}}createDescribe(e,t){return{type:"describe",input:e,terms:t}}createDistinct(e){return{type:"distinct",input:e}}createExtend(e,t,r){return{type:"extend",input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:"from",input:e,default:t,named:r}}createFilter(e,t){return{type:"filter",input:e,expression:t}}createGraph(e,t){return{type:"graph",input:e,name:t}}createGroup(e,t,r){return{type:"group",input:e,variables:t,aggregates:r}}createInv(e){return{type:"inv",path:e}}createJoin(e,t){return{type:"join",left:e,right:t}}createLeftJoin(e,t,r){return r?{type:"leftjoin",left:e,right:t,expression:r}:{type:"leftjoin",left:e,right:t}}createLink(e){return{type:"link",iri:e}}createMinus(e,t){return{type:"minus",left:e,right:t}}createNps(e){return{type:"nps",iris:e}}createOneOrMorePath(e){return{type:"OneOrMorePath",path:e}}createOrderBy(e,t){return{type:"orderby",input:e,expressions:t}}createPath(e,t,r,n){return n?{type:"path",subject:e,predicate:t,object:r,graph:n}:{type:"path",subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let i;return(i=n?this.dataFactory.quad(e,t,r,n):this.dataFactory.triple(e,t,r)).type="pattern",i}createProject(e,t){return{type:"project",input:e,variables:t}}createReduced(e){return{type:"reduced",input:e}}createSeq(e,t){return{type:"seq",left:e,right:t}}createService(e,t,r){return{type:"service",input:e,name:t,silent:r}}createSlice(e,t,r){return void 0===t&&(t=0),void 0!==r?{type:"slice",input:e,start:t,length:r}:{type:"slice",input:e,start:t}}createUnion(e,t){return{type:"union",left:e,right:t}}createValues(e,t){return{type:"values",variables:e,bindings:t}}createZeroOrMorePath(e){return{type:"ZeroOrMorePath",path:e}}createZeroOrOnePath(e){return{type:"ZeroOrOnePath",path:e}}createAggregateExpression(e,t,r,n){return n?{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,separator:n,distinct:r}:{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:"expression",expressionType:"existence",not:e,input:t}}createNamedExpression(e,t){return{type:"expression",expressionType:"named",name:e,args:t}}createOperatorExpression(e,t){return{type:"expression",expressionType:"operator",operator:e,args:t}}createTermExpression(e){return{type:"expression",expressionType:"term",term:e}}createTerm(e){return i.stringToTerm(e,this.dataFactory)}}},function(e,t,r){var n=r(380).Parser,i=r(383);e.exports={Parser:function(e,t){var r={};for(var i in e||{})r[i]=e[i];var o=new n;return o.parse=function(){return n.base=t||"",n.prefixes=Object.create(r),n.prototype.parse.apply(o,arguments)},o._resetBlanks=n._resetBlanks,o},Generator:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(389))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(394)),n(r(184))},function(e,t,r){"use strict";(function(e){var n=r(395),i=r(396),o=e.from&&e.from!==Uint8Array.from;function a(e,t){return"string"==typeof e?t==e:e&&"function"==typeof e.exec?e.exec(t):"boolean"==typeof e||"object"==typeof e?e:"function"==typeof e&&e(t)}t.parse=function(t,r){var s,u,c=new n,l=i(function(t){"string"==typeof t&&(t=o?e.from(t):new e(t)),c.write(t)},function(e){e&&l.write(e),s&&l.emit("header",s),u&&l.emit("footer",u),l.queue(null)});"string"==typeof t&&(t=t.split(".").map(function(e){return"$*"===e?{emitKey:!0}:"*"===e||(""===e?{recurse:!0}:e)}));return t&&t.length||(t=null),c.onValue=function(e){if(this.root||(l.root=e),t){for(var n=0,i=0,o=!1,u=!1;n<t.length;){var c,d=t[n];if(i++,d&&!d.recurse){if(!(c=i===this.stack.length?this:this.stack[i]))return;if(!a(d,c.key))return void f(c.key,e);o=!!d.emitKey,u=!!d.emitPath,n++}else{var h=t[++n];if(!h)return;for(;;){if(!(c=i===this.stack.length?this:this.stack[i]))return;if(a(h,c.key)){n++,Object.isFrozen(this.stack[i])||(this.stack[i].value=null);break}f(c.key,e),i++}}}if(s&&(l.emit("header",s),s=!1),i===this.stack.length){0;var p=this.stack.slice(1).map(function(e){return e.key}).concat([this.key]),y=e;for(var m in null!=y&&null!=(y=r?r(y,p):y)&&((o||u)&&(y={value:y},o&&(y.key=this.key),u&&(y.path=p)),l.queue(y)),this.value&&delete this.value[this.key],this.stack)Object.isFrozen(this.stack[m])||(this.stack[m].value=null)}}},c._onToken=c.onToken,c.onToken=function(e,r){c._onToken(e,r),0===this.stack.length&&l.root&&(t||l.queue(l.root),0,l.root=null)},c.onError=function(e){e.message.indexOf("at position")>-1&&(e.message="Invalid JSON ("+e.message+")"),l.emit("error",e)},l;function f(e,t){!1!==s&&((s=s||{})[e]=t),!1!==u&&!1===s&&((u=u||{})[e]=t)}},t.stringify=function(e,t,r,n){n=n||0,!1===e?(e="",t="\n",r=""):null==e&&(e="[\n",t="\n,\n",r="\n]\n");var o,a=!0,s=!1;return o=i(function(r){s=!0;try{var i=JSON.stringify(r,null,n)}catch(e){return o.emit("error",e)}a?(a=!1,o.queue(e+i)):o.queue(t+i)},function(t){s||o.queue(e),o.queue(r),o.queue(null)})},t.stringifyObject=function(e,t,r,n){n=n||0,!1===e?(e="",t="\n",r=""):null==e&&(e="{\n",t="\n,\n",r="\n}\n");var o=!0,a=!1;return i(function(r){a=!0;var i=JSON.stringify(r[0])+":"+JSON.stringify(r[1],null,n);o?(o=!1,this.queue(e+i)):this.queue(t+i)},function(t){a||this.queue(e),this.queue(r),this.queue(null)})}}).call(this,r(7).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(419))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(441))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(443)),n(r(519))},function(e,t,r){"use strict";var n=r(2),i=r(215),o=r(3).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,r,n,i,o,a){return u(e+(t&r|~t&n)+i+o|0,a)+t|0}function l(e,t,r,n,i,o,a){return u(e+(t&n|r&~n)+i+o|0,a)+t|0}function f(e,t,r,n,i,o,a){return u(e+(t^r^n)+i+o|0,a)+t|0}function d(e,t,r,n,i,o,a){return u(e+(r^(t|~n))+i+o|0,a)+t|0}n(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;n=d(n=d(n=d(n=d(n=f(n=f(n=f(n=f(n=l(n=l(n=l(n=l(n=c(n=c(n=c(n=c(n,i=c(i,o=c(o,r=c(r,n,i,o,e[0],3614090360,7),n,i,e[1],3905402710,12),r,n,e[2],606105819,17),o,r,e[3],3250441966,22),i=c(i,o=c(o,r=c(r,n,i,o,e[4],4118548399,7),n,i,e[5],1200080426,12),r,n,e[6],2821735955,17),o,r,e[7],4249261313,22),i=c(i,o=c(o,r=c(r,n,i,o,e[8],1770035416,7),n,i,e[9],2336552879,12),r,n,e[10],4294925233,17),o,r,e[11],2304563134,22),i=c(i,o=c(o,r=c(r,n,i,o,e[12],1804603682,7),n,i,e[13],4254626195,12),r,n,e[14],2792965006,17),o,r,e[15],1236535329,22),i=l(i,o=l(o,r=l(r,n,i,o,e[1],4129170786,5),n,i,e[6],3225465664,9),r,n,e[11],643717713,14),o,r,e[0],3921069994,20),i=l(i,o=l(o,r=l(r,n,i,o,e[5],3593408605,5),n,i,e[10],38016083,9),r,n,e[15],3634488961,14),o,r,e[4],3889429448,20),i=l(i,o=l(o,r=l(r,n,i,o,e[9],568446438,5),n,i,e[14],3275163606,9),r,n,e[3],4107603335,14),o,r,e[8],1163531501,20),i=l(i,o=l(o,r=l(r,n,i,o,e[13],2850285829,5),n,i,e[2],4243563512,9),r,n,e[7],1735328473,14),o,r,e[12],2368359562,20),i=f(i,o=f(o,r=f(r,n,i,o,e[5],4294588738,4),n,i,e[8],2272392833,11),r,n,e[11],1839030562,16),o,r,e[14],4259657740,23),i=f(i,o=f(o,r=f(r,n,i,o,e[1],2763975236,4),n,i,e[4],1272893353,11),r,n,e[7],4139469664,16),o,r,e[10],3200236656,23),i=f(i,o=f(o,r=f(r,n,i,o,e[13],681279174,4),n,i,e[0],3936430074,11),r,n,e[3],3572445317,16),o,r,e[6],76029189,23),i=f(i,o=f(o,r=f(r,n,i,o,e[9],3654602809,4),n,i,e[12],3873151461,11),r,n,e[15],530742520,16),o,r,e[2],3299628645,23),i=d(i,o=d(o,r=d(r,n,i,o,e[0],4096336452,6),n,i,e[7],1126891415,10),r,n,e[14],2878612391,15),o,r,e[5],4237533241,21),i=d(i,o=d(o,r=d(r,n,i,o,e[12],1700485571,6),n,i,e[3],2399980690,10),r,n,e[10],4293915773,15),o,r,e[1],2240044497,21),i=d(i,o=d(o,r=d(r,n,i,o,e[8],1873313359,6),n,i,e[15],4264355552,10),r,n,e[6],2734768916,15),o,r,e[13],1309151649,21),i=d(i,o=d(o,r=d(r,n,i,o,e[4],4149444226,6),n,i,e[11],3174756917,10),r,n,e[2],718787259,15),o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,r){"use strict";var n=r(7).Buffer,i=r(2),o=r(215),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function y(e,t,r,n,i,o,a,s){return p(e+(t^r^n)+o+a|0,s)+i|0}function m(e,t,r,n,i,o,a,s){return p(e+(t&r|~t&n)+o+a|0,s)+i|0}function v(e,t,r,n,i,o,a,s){return p(e+((t|~r)^n)+o+a|0,s)+i|0}function b(e,t,r,n,i,o,a,s){return p(e+(t&n|r&~n)+o+a|0,s)+i|0}function g(e,t,r,n,i,o,a,s){return p(e+(t^(r|~n))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,_=0|this._a,w=0|this._b,E=0|this._c,S=0|this._d,T=0|this._e,O=0;O<80;O+=1){var x,A;O<16?(x=y(r,n,i,o,h,e[s[O]],f[0],c[O]),A=g(_,w,E,S,T,e[u[O]],d[0],l[O])):O<32?(x=m(r,n,i,o,h,e[s[O]],f[1],c[O]),A=b(_,w,E,S,T,e[u[O]],d[1],l[O])):O<48?(x=v(r,n,i,o,h,e[s[O]],f[2],c[O]),A=v(_,w,E,S,T,e[u[O]],d[2],l[O])):O<64?(x=b(r,n,i,o,h,e[s[O]],f[3],c[O]),A=m(_,w,E,S,T,e[u[O]],d[3],l[O])):(x=g(r,n,i,o,h,e[s[O]],f[4],c[O]),A=y(_,w,E,S,T,e[u[O]],d[4],l[O])),r=h,h=o,o=p(i,10),i=n,n=x,_=T,T=S,S=p(E,10),E=w,w=A}var I=this._b+i+S|0;this._b=this._c+o+T|0,this._c=this._d+h+_|0,this._d=this._e+r+w|0,this._e=this._a+n+E|0,this._a=I},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,r){(t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r}).sha=r(444),t.sha1=r(445),t.sha224=r(446),t.sha256=r(216),t.sha384=r(447),t.sha512=r(217)},function(e,t,r){"use strict";t.utils=r(453),t.Cipher=r(454),t.DES=r(455),t.CBC=r(456),t.EDE=r(457)},function(e,t,r){var n=r(458),i=r(466),o=r(227);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,r){var n={ECB:r(459),CBC:r(460),CFB:r(461),CFB8:r(462),CFB1:r(463),OFB:r(464),CTR:r(225),GCM:r(225)},i=r(227);for(var o in i)i[o].module=n[i[o].mode];e.exports=i},function(e,t,r){(function(t){var n=r(11),i=r(49);function o(e,r){var i=function(e){var t=a(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(r),o=r.modulus.byteLength(),s=(n.mont(r.modulus),new n(e).mul(i.blinder).umod(r.modulus)),u=s.toRed(n.mont(r.prime1)),c=s.toRed(n.mont(r.prime2)),l=r.coefficient,f=r.prime1,d=r.prime2,h=u.redPow(r.exponent1),p=c.redPow(r.exponent2);h=h.fromRed(),p=p.fromRed();var y=h.isub(p).imul(l).umod(f);return y.imul(d),p.iadd(y),new t(p.imul(i.unblinder).umod(r.modulus).toArray(!1,o))}function a(e){for(var t=e.modulus.byteLength(),r=new n(i(t));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new n(i(t));return r}e.exports=o,o.getr=a}).call(this,r(7).Buffer)},function(e,t,r){var n=t;n.utils=r(24),n.common=r(61),n.sha=r(482),n.ripemd=r(486),n.hmac=r(487),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(14),o=r(81),a=r(26),s=r(27),u=r(114),c=r(247),l=r(26);function f(e,t={}){if(!e)throw new s.InvalidExpression(e);const r=i.Algebra.expressionTypes;switch(e.expressionType){case r.TERM:return d(e);case r.OPERATOR:return function(e){if(a.SpecialOperators.contains(e.operator)){const t=e.operator,r=e.args.map(e=>f(e)),n=c.specialFunctions.get(t);if(!n.checkArity(r))throw new s.InvalidArity(r,t);return new o.SpecialOperator(r,n.applyAsync,n.applySync)}{if(!a.Operators.contains(e.operator))throw new s.UnknownOperator(e.operator);const t=e.operator,r=e.args.map(e=>f(e)),n=c.regularFunctions.get(t);if(!function(e,t){if(t===1/0)return!0;if(Array.isArray(t))return t.indexOf(e.length)>=0;return e.length===t}(r,n.arity))throw new s.InvalidArity(r,t);return new o.Operator(r,n.apply)}}(e);case r.NAMED:return p(e);case r.EXISTENCE:return m(e,t.existence);case r.AGGREGATE:return y(e,t.aggregate);default:throw new s.InvalidExpressionType(e)}}function d(e){if(!e.term)throw new s.InvalidExpression(e);switch(e.term.termType){case"Variable":return new o.Variable(n.termToString(e.term));case"Literal":return h(e.term);case"NamedNode":return new o.NamedNode(e.term.value);case"BlankNode":return new o.BlankNode(e.term.value);default:throw new s.InvalidTermType(e)}}function h(e){if(!e.datatype)return e.language?new o.LangStringLiteral(e.value,e.language):new o.StringLiteral(e.value);switch(e.datatype.value){case null:case void 0:case"":return e.language?new o.LangStringLiteral(e.value,e.language):new o.StringLiteral(e.value);case l.TypeURL.XSD_STRING:return new o.StringLiteral(e.value);case l.TypeURL.RDF_LANG_STRING:return new o.LangStringLiteral(e.value,e.language);case l.TypeURL.XSD_DATE_TIME:{const t=new Date(e.value);return isNaN(t.getTime())?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.DateTimeLiteral(new Date(e.value),e.value)}case l.TypeURL.XSD_BOOLEAN:return"true"!==e.value&&"false"!==e.value?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.BooleanLiteral("true"===e.value,e.value);case l.TypeURL.XSD_INTEGER:case l.TypeURL.XSD_DECIMAL:case l.TypeURL.XSD_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_NEGATIVE_INTEGER:case l.TypeURL.XSD_NON_POSITIVE_INTEGER:case l.TypeURL.XSD_POSITIVE_INTEGER:case l.TypeURL.XSD_LONG:case l.TypeURL.XSD_INT:case l.TypeURL.XSD_SHORT:case l.TypeURL.XSD_BYTE:case l.TypeURL.XSD_UNSIGNED_LONG:case l.TypeURL.XSD_UNSIGNED_INT:case l.TypeURL.XSD_UNSIGNED_SHORT:case l.TypeURL.XSD_UNSIGNED_BYTE:case l.TypeURL.XSD_INT:{const t=u.parseXSDDecimal(e.value);return void 0===t?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.NumericLiteral(t,e.datatype,e.value)}case l.TypeURL.XSD_FLOAT:case l.TypeURL.XSD_DOUBLE:{const t=u.parseXSDFloat(e.value);return void 0===t?new o.NonLexicalLiteral(void 0,e.datatype,e.value):new o.NumericLiteral(t,e.datatype,e.value)}default:return new o.Literal(e.value,e.datatype,e.value)}}function p(e){const t=e.name.value;if(!a.NamedOperators.contains(t))throw new s.UnknownNamedOperator(e.name.value);const r=e.name.value,n=e.args.map(e=>f(e)),i=c.namedFunctions.get(r);return new o.Named(e.name,n,i.apply)}function y(e,t){const r=e.aggregator;if(!t)throw new s.NoAggregator(r);return new o.Aggregate(r,t,e)}function m(e,t){if(!t)throw new s.NoExistenceHook;return new o.Existence(t,e)}t.transformAlgebra=f,t.transformTerm=d,t.transformLiteral=h,t.transformNamed=p,t.transformAggregate=y,t.transformExistence=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXSDFloat=function(e){const t=Number(e);return isNaN(t)?"NaN"===e?NaN:"INF"===e?1/0:"-INF"===e?-1/0:void 0:t},t.parseXSDDecimal=function(e){if(/^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(e)){const t=Number(e);return isNaN(t)?void 0:t}},t.parseXSDInteger=function(e){if(/^(\-|\+)?([0-9]+)$/.test(e)){const t=Number(e);return isNaN(t)?void 0:t}},t.parseXSDDateTime=function(e){const[t,r]=e.split("T"),[n,i,o]=t.split("-"),[a,s]=r.split(/[\+\-Z]/),[u,c,l]=a.split(":"),f=new RegExp(/([\+\-Z].*)/).exec(r);return{year:n,month:i,day:o,hours:u,minutes:c,seconds:l,timezone:f?f[0]:""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28),i=r(81),o=r(26),a=r(27),s=r(26);t.declare=function(){return new u};class u{constructor(){this.implementations=[]}collect(){return f(this.implementations)}log(){return console.log(this.implementations),this}add(e){return this.implementations.push(e),this}set(e,t){const r=n.List(e);return this.add(new l({types:r,func:t}))}copy({from:e,to:t}){const r=this.implementations.length-1,i=n.List(e);for(let e=r;e>=0;e--){const r=this.implementations[e];if(r.get("types").equals(i))return this.set(t,r.get("func"))}throw new a.UnexpectedError("Tried to copy implementation, but types not found",{from:e,to:t})}onUnary(e,t){return this.set([e],([e])=>t(e))}onUnaryTyped(e,t){return this.set([e],([e])=>t(e.typedValue))}onBinary(e,t){return this.set(e,([e,r])=>t(e,r))}onBinaryTyped(e,t){return this.set(e,([e,r])=>t(e.typedValue,r.typedValue))}onTernaryTyped(e,t){return this.set(e,([e,r,n])=>t(e.typedValue,r.typedValue,n.typedValue))}unimplemented(e){for(let t=0;t<=5;t++){const r=Array(t).fill("term"),n=t=>{throw new a.UnimplementedError(e)};this.set(r,n)}return this}onTerm1(e){return this.set(["term"],([t])=>e(t))}onLiteral1(e){return this.set(["literal"],([t])=>e(t))}onBoolean1(e){return this.set(["boolean"],([t])=>e(t))}onBoolean1Typed(e){return this.set(["boolean"],([t])=>e(t.typedValue))}onString1(e){return this.set(["string"],([t])=>e(t))}onString1Typed(e){return this.set(["string"],([t])=>e(t.typedValue))}onStringly1(e){return this.set(["string"],([t])=>e(t)).set(["langString"],([t])=>e(t))}onNumeric1(e){return this.set(["integer"],([t])=>e(t)).set(["decimal"],([t])=>e(t)).set(["float"],([t])=>e(t)).set(["double"],([t])=>e(t)).invalidLexicalForm(["nonlexical"],1)}onDateTime1(e){return this.set(["date"],([t])=>e(t)).invalidLexicalForm(["nonlexical"],1)}arithmetic(e){return this.numeric(t=>([r,n])=>h(e(r.typedValue,n.typedValue),t||s.TypeURL.XSD_FLOAT))}numberTest(e){return this.numeric(()=>([t,r])=>{return d(e(t.typedValue,r.typedValue))})}stringTest(e){return this.set(["string","string"],([t,r])=>{return d(e(t.typedValue,r.typedValue))}).invalidLexicalForm(["nonlexical","string"],1).invalidLexicalForm(["string","nonlexical"],2)}booleanTest(e){return this.set(["boolean","boolean"],([t,r])=>{return d(e(t.typedValue,r.typedValue))}).invalidLexicalForm(["nonlexical","boolean"],1).invalidLexicalForm(["boolean","nonlexical"],2)}dateTimeTest(e){return this.set(["date","date"],([t,r])=>{return d(e(t.typedValue,r.typedValue))}).invalidLexicalForm(["nonlexical","date"],1).invalidLexicalForm(["date","nonlexical"],2)}numeric(e){return this.set(["integer","integer"],e(s.TypeURL.XSD_INTEGER)).set(["integer","decimal"],e()).set(["integer","float"],e()).set(["integer","double"],e()).invalidLexicalForm(["integer","nonlexical"],2).set(["decimal","integer"],e()).set(["decimal","decimal"],e(s.TypeURL.XSD_DECIMAL)).set(["decimal","float"],e()).set(["decimal","double"],e()).invalidLexicalForm(["decimal","nonlexical"],2).set(["float","integer"],e()).set(["float","decimal"],e()).set(["float","float"],e(s.TypeURL.XSD_FLOAT)).set(["float","double"],e()).invalidLexicalForm(["float","nonlexical"],2).set(["double","integer"],e()).set(["double","decimal"],e()).set(["double","float"],e()).set(["double","double"],e(s.TypeURL.XSD_DOUBLE)).invalidLexicalForm(["double","nonlexical"],2).invalidLexicalForm(["nonlexical","integer"],1).invalidLexicalForm(["nonlexical","decimal"],1).invalidLexicalForm(["nonlexical","float"],1).invalidLexicalForm(["nonlexical","double"],1)}invalidLexicalForm(e,t){return this.set(e,e=>{throw new a.InvalidLexicalForm(e[t-1].toRDF())})}chain(e){return this.implementations=this.implementations.concat(e),this}}t.Builder=u;const c={types:[],func(){throw new a.UnexpectedError("Implementation not set yet declared as implemented")}};class l extends(n.Record(c)){constructor(e){super(e)}get(e){return super.get(e)}toPair(){return[this.get("types"),this.get("func")]}}function f(e){const t=e.map(e=>e.toPair());return n.Map(t)}function d(e){return new i.BooleanLiteral(e)}function h(e,t){return new i.NumericLiteral(e,o.make(t||s.TypeURL.XSD_FLOAT),void 0)}t.Impl=l,t.map=f,t.bool=d,t.number=h,t.numberFromString=function(e,t){const r=Number(e);return new i.NumericLiteral(r,o.make(t||s.TypeURL.XSD_FLOAT),void 0)},t.string=function(e){return new i.StringLiteral(e)},t.dateTime=function(e,t){return new i.DateTimeLiteral(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n{constructor(e,...t){this._isAsync=e.async,this._isFunction=e.function,this._dataProperties=t}static sync(...e){return new n({async:!1},...e)}static syncFunction(...e){return new n({async:!1,function:!0},...e)}static async(...e){return new n({async:!0},...e)}static asyncFunction(...e){return new n({async:!0,function:!0},...e)}handle(e){return this._isFunction?()=>this._resolveDataPath(e):this._resolveDataPath(e)}_resolveDataPath(e){if(!this._isAsync){for(const t of this._dataProperties)e=e&&e[t];return e}return new Promise(async t=>{for(const t of this._dataProperties)e=e&&await e[t];t(e)})}}t.default=n},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(82));t.default=class extends i.default{constructor(){super("DELETE",!0)}}},function(e,t){e.exports=function(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}},function(e,t){function r(){this.value=""}r.prototype.equals=function(e){return!!e&&e.termType===this.termType},r.prototype.termType="DefaultGraph",e.exports=r},function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="NamedNode",e.exports=r},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(275)),o=n(r(276)),a=n(r(118));t.default=class{handle(e,t){var r=this;return(0,o.default)(function*(){const{queryEngine:n}=e.settings;if(!n)throw new Error(`${e} has no queryEngine setting`);const o=yield(0,i.default)(t.sparql);if(!o)throw new Error(`${e} has no sparql property`);var s,u=!0,c=!1;try{for(var l,f,d=(0,a.default)(n.execute(o));u=(l=yield(0,i.default)(d.next())).done,f=yield(0,i.default)(l.value),!u;u=!0){const t=f;yield r.extractTerm(t,e)}}catch(e){c=!0,s=e}finally{try{u||null==d.return||(yield(0,i.default)(d.return()))}finally{if(c)throw s}}})()}extractTerm(e,t){if(1!==e.size)throw new Error("Only single-variable queries are supported");const r=e.values().next().value;return t.extendPath({subject:r},null)}}},function(e,t){e.exports=function(e){this.wrapped=e}},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(82));t.default=class extends i.default{constructor(){super("INSERT",!1)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(278),i=r(6),o=r(65);t.default=class{constructor(e){this._context=(new n.ContextParser).parse(e)}supports(e){return"string"==typeof e}resolve(e,t){const r={then:(0,o.getThen)(()=>this.expandProperty(e))};return t.extendPath({property:e,predicate:r})}async expandProperty(e){e=e.replace(/[_$]/,":");const t=n.ContextParser.expandTerm(e,await this._context,!0);if(!n.ContextParser.isValidIri(t))throw new Error(`The JSON-LD context cannot expand the '${e}' property`);return(0,i.namedNode)(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(281))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),r(44);t.FetchDocumentLoader=class{load(e){return n(this,void 0,void 0,function*(){const t=yield fetch(e,{headers:{accept:"application/ld+json"}});if(t.ok)return yield t.json();throw new Error(`No valid context was found at ${e}: ${t.statusText}`)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{async handle(e){const t=[];let r=e;for(;r;)r.mutationExpressions&&t.unshift(...await r.mutationExpressions),r=r.parent;return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{async handle(e){const t=[];let r=e;for(;r.parent;){if(r.predicate){const e=await r.predicate;t.unshift({predicate:e})}r=r.parent}if(!r.subject)throw new Error(`Expected root subject in ${r}`);const n=await r.subject;return t.unshift({subject:n}),t}}},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(130));const o=Object.create(null);t.default=class{constructor({handlers:e=o,resolvers:t=[]}={}){this._handlers=e,this._resolvers=t}createPath(e={},t){void 0===t&&([t,e]=[e,{}]);const r=(0,i.default)({settings:e},t),n=r.proxy=new Proxy(r,this);if(!r.extendPath){const t=this;r.extendPath=function r(n,o=this){return t.createPath(e,(0,i.default)({parent:o,extendPath:r},n))}}return n}get(e,t){const r=this._handlers[t];if(r&&"function"==typeof r.handle)return r.handle(e,e.proxy);for(const r of this._resolvers)if(r.supports(t))return r.resolve(t,e,e.proxy)}}},function(e,t,r){var n=r(282);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(116)),o=n(r(132)),a=n(r(128)),s=n(r(133)),u=n(r(121)),c=n(r(127)),l=n(r(123)),f=n(r(134)),d=n(r(135)),h=n(r(117)),p=n(r(136)),y=r(83),m=r(65),v={__esModule:()=>void 0,then:({subject:e},t)=>e?e.then&&(0,m.getThen)(()=>t.subject):(0,m.getThen)(()=>(0,y.getFirstItem)(t.results)),[Symbol.asyncIterator]:({subject:e},t)=>()=>e?(0,y.iteratorFor)(t.subject):t.results[Symbol.asyncIterator](),subject:new o.default,pathExpression:new a.default,sparql:new s.default,results:new u.default,mutationExpressions:new c.default,add:new l.default,set:new f.default,replace:new d.default,delete:new h.default,termType:i.default.sync("subject","termType"),value:i.default.sync("subject","value"),equals:i.default.sync("subject","equals"),language:i.default.sync("subject","language"),datatype:i.default.sync("subject","datatype"),toString:i.default.syncFunction("subject","value"),toPrimitive:i.default.syncFunction("subject","value"),resolve:new p.default};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{handle(e){let{subject:t,parent:r}=e;for(;!t&&r;)({subject:t,parent:r}=r);return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{async handle(e,t){const r=await t.mutationExpressions;if(Array.isArray(r)&&r.length)return r.map(e=>this.mutationExpressionToQuery(e)).join("\n;\n");const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(`${e} has no pathExpression property`);return this.pathExpressionToQuery(e,t,n)}pathExpressionToQuery(e,t,r){if(r.length<2)throw new Error(`${e} should at least contain a subject and a predicate`);const n=this.createVar(e.property);return`SELECT ${n} WHERE {\n  ${this.expressionToTriplePatterns(r,n).join("\n  ")}\n}`}mutationExpressionToQuery({mutationType:e,conditions:t,predicate:r,objects:n}){const i={};let o,a;if(1===t.length)o=this.termToString(t[0].subject),a=[];else{const e=t[t.length-1].predicate;o=this.createVar(e.value,i),a=this.expressionToTriplePatterns(t,o,i)}const s=n&&n.map(e=>this.termToString(e)).join(", "),u=s?`${o} ${this.termToString(r)} ${s}.`:a[a.length-1];return 0===a.length?`${e} DATA {\n  ${u}\n}`:`${e} {\n  ${u}\n} WHERE {\n  ${a.join("\n  ")}\n}`}expressionToTriplePatterns([e,...t],r,n={}){const i=t.length-1;let o=this.termToString(e.subject);return t.map((e,t)=>{const a=o,{predicate:s}=e;return o=t<i?this.createVar(`v${t}`,n):r,`${a} ${this.termToString(s)} ${o}.`})}createVar(e,t){let r=0,n=`?${e.match(/[a-z0-9]*$/i)[0]||"result"}`;if(t){for(;t[n];)n=`?${e}_${r++}`;t[n]=!0}return n}termToString(e){switch(e.termType){case"NamedNode":return`<${e.value}>`;case"BlankNode":return`_:${e.value}`;case"Literal":return`"${e.value.replace(/"/g,'\\"')}"`;default:throw new Error(`Could not convert a term of type ${e.termType}`)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{handle(e,t){return(...e)=>t.delete().add(...e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{handle(e,t){return function(e,...r){if(!e||!r.length)throw new Error("Replacing values requires at least two arguments, old value followed by all new values");return t.delete(e).add(...r)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{handle(e,t){return(e="",r=t)=>{const n=`"use strict";return ldflex${e.replace(/^(https?:\/\/[^()[\]'"]+)$/,'["$1"]').replace(/^(?=[a-z$_])/i,".").replace(/\[([^'"`\](]*)\]/g,'["$1"]')}`;let i;try{i=Function("ldflex",n)}catch({message:t}){throw new Error(`Expression "${e}" is invalid: ${t}`)}return i(r)}}}},function(e,t,r){var n=r(138),i=r(139);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(289)),i=a(r(23)),o=r(66);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.default=class extends n.default{executeUpdate(e,t){let r=!1;return{next:async()=>{if(r)return{done:r};r=!0;const n=await(t?this.toComunicaSources(t):this._sources);if(!n||1!==n.length)throw new Error("Can only update a single source.");const a=s(n,1)[0].value;if(!/^https?:\/\//.test(a))throw new Error("Can only update an HTTP(s) document.");const u=await i.default.fetch(a,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e}),c=u.ok,l=u.status,f=u.statusText;if(!c)throw new Error(`Update query failed (${l}): ${f}`);return await this.clearCache(a),{value:(0,o.createBindings)({ok:c})}},[Symbol.asyncIterator](){return this}}}async clearCache(e){await this._engine.invalidateHttpCache(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(292))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static getLevelOrdinal(e){return n.LEVELS[e]}}n.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},t.Logger=n,t.KEY_CONTEXT_LOG="@comunica/core:log"},function(e,t,r){"use strict";(function(t){r(5);const n=r(87),i=r(313);e.exports=r(149),e.exports.toNodeReadable=function(t){if(t instanceof e.exports.ReadableStream||t&&"function"==typeof t.getReader)return i.readable.webToNode(t);throw new TypeError("Expected a ReadableStream.")},e.exports.toWebReadableStream=function(e){if(n(e)&&e.readable)return i.readable.nodeToWeb(e);if(Array.isArray(e))return i.readable.arrayToWeb(e);if(t.isBuffer(e)||"string"==typeof e)return i.readable.arrayToWeb([e]);throw new TypeError("Expected a Node streams.Readable, an Array, Buffer or String.")}}).call(this,r(7).Buffer)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";(function(t,n){var i=r(67);e.exports=g;var o,a=r(144);g.ReadableState=b;r(54).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(146),c=r(3).Buffer,l=t.Uint8Array||function(){};var f=r(55);f.inherits=r(2);var d=r(303),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,y=r(304),m=r(147);f.inherits(g,u);var v=["error","close","destroy","pause","resume"];function b(e,t){o=o||r(37),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(68).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function g(e){if(o=o||r(37),!(this instanceof g))return new g(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(e,t,r,n,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,T(e)}(e,a)):(i||(o=function(e,t){var r;(function(e){return c.isBuffer(e)||e instanceof l})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):x(e,a)):w(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),x(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},g.prototype.unshift=function(e){return _(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return p||(p=r(68).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(O,e):O(e))}function O(e){h("emit readable"),e.emit("readable"),j(e)}function x(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(A,e,t))}function A(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){h("readable nexttick read 0"),e.read(0)}function N(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}g.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):T(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&R(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(r,t))),null===(n=e>0?k(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&R(this)),null!==n&&this.emit("data",n),n},g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:g;function c(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",v),e.removeListener("finish",b),e.removeListener("drain",f),e.removeListener("error",m),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",g),r.removeListener("data",y),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",f);var d=!1;var p=!1;function y(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!d&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(t){h("onerror",t),g(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",b),g()}function b(){h("onfinish"),e.removeListener("close",v),g()}function g(){h("unpipe"),r.unpipe(e)}return r.on("data",y),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",m),e.once("close",v),e.once("finish",b),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=D(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},g.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&T(this):i.nextTick(I,this))}return r},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(N,e,t))}(this,e)),this},g.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=k}).call(this,r(9),r(10))},function(e,t,r){e.exports=r(54).EventEmitter},function(e,t,r){"use strict";var n=r(67);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";e.exports=o;var n=r(37),i=r(55);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){s(e,t,r)}):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(2),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){(function(t){var r;e.exports=function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r||e)},f,f.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./spec/reference-implementation/lib/readable-stream"),i=n.ReadableStream,o=e("./spec/reference-implementation/lib/writable-stream"),a=o.WritableStream,s=e("./spec/reference-implementation/lib/byte-length-queuing-strategy"),u=e("./spec/reference-implementation/lib/count-queuing-strategy"),c=e("./spec/reference-implementation/lib/transform-stream");r.ByteLengthQueuingStrategy=s,r.CountQueuingStrategy=u,r.TransformStream=c,r.ReadableStream=i,r.WritableStream=a;var l={ReadableStream:i,WritableStream:a,ByteLengthQueuingStrategy:s,CountQueuingStrategy:u,TransformStream:c};r.default=l,"undefined"!=typeof window&&Object.assign(window,l)},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":7,"./spec/reference-implementation/lib/count-queuing-strategy":8,"./spec/reference-implementation/lib/readable-stream":11,"./spec/reference-implementation/lib/transform-stream":12,"./spec/reference-implementation/lib/writable-stream":14}],2:[function(e,t,r){function n(e,t){return f.isUndefined(t)?""+t:f.isNumber(t)&&!isFinite(t)?t.toString():f.isFunction(t)||f.isRegExp(t)?t.toString():t}function i(e,t){return f.isString(e)?e.length<t?e:e.slice(0,t):e}function o(e,t,r,n,i){throw new p.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function a(e,t){e||o(e,!0,t,"==",p.ok)}function s(e,t){if(e===t)return!0;if(f.isBuffer(e)&&f.isBuffer(t)){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return f.isDate(e)&&f.isDate(t)?e.getTime()===t.getTime():f.isRegExp(e)&&f.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:f.isObject(e)||f.isObject(t)?function(e,t){if(f.isNullOrUndefined(e)||f.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(f.isPrimitive(e)||f.isPrimitive(t))return e===t;var r=u(e),n=u(t);if(r&&!n||!r&&n)return!1;if(r)return e=d.call(e),t=d.call(t),s(e,t);var i,o,a=y(e),c=y(t);if(a.length!=c.length)return!1;for(a.sort(),c.sort(),o=a.length-1;o>=0;o--)if(a[o]!=c[o])return!1;for(o=a.length-1;o>=0;o--)if(i=a[o],!s(e[i],t[i]))return!1;return!0}(e,t):e==t}function u(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function c(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function l(e,t,r,n){var i;f.isString(r)&&(n=r,r=null);try{t()}catch(e){i=e}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&o(i,r,"Missing expected exception"+n),!e&&c(i,r)&&o(i,r,"Got unwanted exception"+n),e&&i&&r&&!c(i,r)||!e&&i)throw i}var f=e("util/"),d=Array.prototype.slice,h=Object.prototype.hasOwnProperty,p=t.exports=a;p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return i(JSON.stringify(e.actual,n),128)+" "+e.operator+" "+i(JSON.stringify(e.expected,n),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||o;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var a=r.stack,s=t.name,u=a.indexOf("\n"+s);if(u>=0){var c=a.indexOf("\n",u+1);a=a.substring(c+1)}this.stack=a}}},f.inherits(p.AssertionError,Error),p.fail=o,p.ok=a,p.equal=function(e,t,r){e!=t&&o(e,t,r,"==",p.equal)},p.notEqual=function(e,t,r){e==t&&o(e,t,r,"!=",p.notEqual)},p.deepEqual=function(e,t,r){s(e,t)||o(e,t,r,"deepEqual",p.deepEqual)},p.notDeepEqual=function(e,t,r){s(e,t)&&o(e,t,r,"notDeepEqual",p.notDeepEqual)},p.strictEqual=function(e,t,r){e!==t&&o(e,t,r,"===",p.strictEqual)},p.notStrictEqual=function(e,t,r){e===t&&o(e,t,r,"!==",p.notStrictEqual)},p.throws=function(e,t,r){l.apply(this,[!0].concat(d.call(arguments)))},p.doesNotThrow=function(e,t){l.apply(this,[!1].concat(d.call(arguments)))},p.ifError=function(e){if(e)throw e};var y=Object.keys||function(e){var t=[];for(var r in e)h.call(e,r)&&t.push(r);return t}},{"util/":6}],3:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],4:[function(e,t,r){function n(){d&&l&&(d=!1,l.length?f=l.concat(f):h=-1,f.length&&i())}function i(){if(!d){var e=s(n);d=!0;for(var t=f.length;t;){for(l=f,f=[];++h<t;)l&&l[h].run();h=-1,t=f.length}l=null,d=!1,u(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u,c=t.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var l,f=[],d=!1,h=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new o(e,t)),1!==f.length||d||s(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],5:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],6:[function(e,r,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(t)?r.showHidden=t:t&&n._extend(r,t),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,e,r.depth)}function o(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e,t){return e}function s(e,t,r){if(e.customInspect&&t&&_(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return p(i)||(i=s(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(p(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return h(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):d(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var a=Object.keys(t),v=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),g(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(t);if(0===a.length){if(_(t)){var w=t.name?": "+t.name:"";return e.stylize("[Function"+w+"]","special")}if(m(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(b(t))return e.stylize(Date.prototype.toString.call(t),"date");if(g(t))return u(t)}var E,T="",O=!1,x=["{","}"];if(l(t)&&(O=!0,x=["[","]"]),_(t)){var A=t.name?": "+t.name:"";T=" [Function"+A+"]"}return m(t)&&(T=" "+RegExp.prototype.toString.call(t)),b(t)&&(T=" "+Date.prototype.toUTCString.call(t)),g(t)&&(T=" "+u(t)),0!==a.length||O&&0!=t.length?r<0?m(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),E=O?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)S(t,String(a))?o.push(c(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(c(e,t,r,n,i,!0))}),o}(e,t,r,v,a):a.map(function(n){return c(e,t,r,v,n,O)}),e.seen.pop(),function(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(E,T,x)):x[0]+T+x[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,r,n,i,o){var a,u,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),S(n,i)||(a="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=d(r)?s(e,c.value,null):s(e,c.value,r-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function l(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function d(e){return null===e}function h(e){return"number"==typeof e}function p(e){return"string"==typeof e}function y(e){return void 0===e}function m(e){return v(e)&&"[object RegExp]"===w(e)}function v(e){return"object"==typeof e&&null!==e}function b(e){return v(e)&&"[object Date]"===w(e)}function g(e){return v(e)&&("[object Error]"===w(e)||e instanceof Error)}function _(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var T=/%[sdj%]/g;n.format=function(e){if(!p(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,a=String(e).replace(T,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<o;s=n[++r])a+=d(s)||!v(s)?" "+s:" "+i(s);return a},n.deprecate=function(e,i){if(y(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var O,x={};n.debuglog=function(e){if(y(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!x[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=t.pid;x[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else x[e]=function(){};return x[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=l,n.isBoolean=f,n.isNull=d,n.isNullOrUndefined=function(e){return null==e},n.isNumber=h,n.isString=p,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=y,n.isRegExp=m,n.isObject=v,n.isDate=b,n.isError=g,n.isFunction=_,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",function(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":5,_process:4,inherits:3}],7:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./helpers.js"),o=i.createDataProperty;t.exports=function(){function e(t){var r=t.highWaterMark;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),o(this,"highWaterMark",r)}return n(e,[{key:"size",value:function(e){return e.byteLength}}]),e}()},{"./helpers.js":9}],8:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./helpers.js"),o=i.createDataProperty;t.exports=function(){function e(t){var r=t.highWaterMark;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),o(this,"highWaterMark",r)}return n(e,[{key:"size",value:function(e){return 1}}]),e}()},{"./helpers.js":9}],9:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=e("assert");r.promiseCall=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];try{return Promise.resolve(e.apply(void 0,r))}catch(e){return Promise.reject(e)}},r.typeIsObject=function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e||"function"==typeof e},r.toInteger=function(e){return e=Number(e),isNaN(e)?0:e<0?-1*Math.floor(Math.abs(e)):Math.floor(Math.abs(e))},r.createDataProperty=function(e,t,n){i(r.typeIsObject(e)),e[t]=n},r.createArrayFromList=function(e){return e.slice()},r.ArrayBufferCopy=function(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)},r.CreateIterResultObject=function(e,t){return i("boolean"==typeof t),{value:e,done:t}},r.IsFiniteNonNegativeNumber=function(e){return!(Number.isNaN(e)||e===1/0||e<0)},r.InvokeOrNoop=function(e,t,r){var n=e[t];if(void 0!==n)return n.apply(e,r)},r.PromiseInvokeOrNoop=function(e,t,r){var n=void 0;try{return void 0===(n=e[t])?Promise.resolve(void 0):Promise.resolve(n.apply(e,r))}catch(e){return Promise.reject(e)}},r.PromiseInvokeOrFallbackOrNoop=function(e,t,n,i,o){var a=void 0;try{a=e[t]}catch(e){return Promise.reject(e)}if(void 0===a)return r.PromiseInvokeOrNoop(e,i,o);try{return Promise.resolve(a.apply(e,n))}catch(e){return Promise.reject(e)}},r.SameRealmTransfer=function(e){return e},r.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be nonnegative and non-NaN");return e},r.ValidateAndNormalizeQueuingStrategy=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return t=r.ValidateAndNormalizeHighWaterMark(t),{size:e,highWaterMark:t}}},{assert:2}],10:[function(e,t,r){"use strict";var n=e("assert"),i=e("./helpers.js"),o=i.IsFiniteNonNegativeNumber;r.DequeueValue=function(e){n(e.length>0,"Spec-level failure: should never dequeue from an empty queue.");var t=e.shift();return t.value},r.EnqueueValueWithSize=function(e,t,r){if(r=Number(r),!o(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e.push({value:t,size:r})},r.GetTotalQueueSize=function(e){var t=0;return e.forEach(function(e){n("number"==typeof e.size&&!Number.isNaN(e.size)&&e.size!==1/0&&e.size!==-1/0,"Spec-level failure: should never find an invalid size in the queue."),t+=e.size}),t},r.PeekQueueValue=function(e){n(e.length>0,"Spec-level failure: should never peek at an empty queue.");var t=e[0];return t.value}},{"./helpers.js":9,assert:2}],11:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new be(e)}function o(e){return!!ue(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function a(e){return X(!0===o(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function s(e,t){X(!0===o(e)),X("boolean"==typeof t);var r=i(e),n={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};n.promise=new Promise(function(e){return n._resolve=e});var a=function e(){var t=e._reader,r=e._branch1,n=e._branch2,i=e._teeState;return T(t).then(function(e){X(ue(e));var t=e.value,o=e.done;if(X("boolean"==typeof o),!0===o&&!1===i.closedOrErrored&&(!1===i.canceled1&&A(r),!1===i.canceled2&&A(n),i.closedOrErrored=!0),!0!==i.closedOrErrored){if(!1===i.canceled1){var a=t;I(r,a)}if(!1===i.canceled2){var s=t;I(n,s)}}})};a._reader=r,a._teeState=n,a._shouldClone=t;var s=function e(t){var r=e._stream,n=e._teeState;if(n.canceled1=!0,n.reason1=t,!0===n.canceled2){var i=ae([n.reason1,n.reason2]),o=l(r,i);n._resolve(o)}return n.promise};s._stream=e,s._teeState=n;var u=function e(t){var r=e._stream,n=e._teeState;if(n.canceled2=!0,n.reason2=t,!0===n.canceled1){var i=ae([n.reason1,n.reason2]),o=l(r,i);n._resolve(o)}return n.promise};u._stream=e,u._teeState=n;var c=Object.create(Object.prototype);se(c,"pull",a),se(c,"cancel",s);var f=new ve(c),d=Object.create(Object.prototype);se(d,"pull",a),se(d,"cancel",u);var h=new ve(d);return a._branch1=f._readableStreamController,a._branch2=h._readableStreamController,r._closedPromise.catch(function(e){!0!==n.closedOrErrored&&(N(a._branch1,e),N(a._branch2,e),n.closedOrErrored=!0)}),[f,h]}function u(e){X(!0===b(e._reader)),X("readable"===e._state||"closed"===e._state);var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._reader._readIntoRequests.push(n)});return t}function c(e){X(!0===g(e._reader)),X("readable"===e._state);var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._reader._readRequests.push(n)});return t}function l(e,t){if(e._disturbed=!0,"closed"===e._state)return Promise.resolve(void 0);if("errored"===e._state)return Promise.reject(e._storedError);f(e);var r=e._readableStreamController[ye](t);return r.then(function(){})}function f(e){X("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===g(t)){var r=!0,n=!1,i=void 0;try{for(var o,a=t._readRequests[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value._resolve;s(W(void 0,!0))}}catch(e){n=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}t._readRequests=[]}t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}}function d(e,t){X(!0===o(e),"stream must be ReadableStream"),X("readable"===e._state,"state must be readable"),e._state="errored",e._storedError=t;var r=e._reader;if(void 0!==r){if(!0===g(r)){var n=!0,i=!1,a=void 0;try{for(var s,u=r._readRequests[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;c._reject(t)}}catch(e){i=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}r._readRequests=[]}else{X(b(r),"reader must be ReadableStreamBYOBReader");var l=!0,f=!1,d=void 0;try{for(var h,p=r._readIntoRequests[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value;y._reject(t)}}catch(e){f=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(f)throw d}}r._readIntoRequests=[]}r._closedPromise_reject(t),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0}}function h(e,t,r){var n=e._reader;X(n._readRequests.length>0);var i=n._readRequests.shift();i._resolve(W(t,r))}function p(e){return e._reader._readIntoRequests.length}function y(e){return e._reader._readRequests.length}function m(e){var t=e._reader;return void 0!==t&&!1!==b(t)}function v(e){var t=e._reader;return void 0!==t&&!1!==g(t)}function b(e){return!!ue(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function g(e){return!!ue(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function _(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r}):"closed"===t._state?(e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0):(X("errored"===t._state,"state must be errored"),e._closedPromise=Promise.reject(t._storedError),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function w(e,t){var r=e._ownerReadableStream;return X(void 0!==r),l(r,t)}function E(e){X(void 0!==e._ownerReadableStream),X(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?e._closedPromise_reject(new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):e._closedPromise=Promise.reject(new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function S(e,t){var r=e._ownerReadableStream;return X(void 0!==r),r._disturbed=!0,"errored"===r._state?Promise.reject(r._storedError):function(e,t){var r=e._controlledReadableStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return o.buffer=re(o.buffer),e._pendingPullIntos.push(o),u(r);if("closed"===r._state){var a=new t.constructor(t.buffer,t.byteOffset,0);return Promise.resolve(W(a,!0))}if(e._totalQueuedBytes>0){if(!0===F(e,o)){var s=C(o);return q(e),Promise.resolve(W(s,!1))}if(!0===e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return G(e,c),Promise.reject(c)}}o.buffer=re(o.buffer),e._pendingPullIntos.push(o);var l=u(r);return P(e),l}(r._readableStreamController,t)}function T(e){var t=e._ownerReadableStream;return X(void 0!==t),t._disturbed=!0,"closed"===t._state?Promise.resolve(W(void 0,!0)):"errored"===t._state?Promise.reject(t._storedError):(X("readable"===t._state),t._readableStreamController[me]())}function O(e){return!!ue(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function x(e){var t=function(e){var t=e._controlledReadableStream;return"closed"!==t._state&&"errored"!==t._state&&!0!==e._closeRequested&&!1!==e._started&&(!0===a(t)&&y(t)>0||j(e)>0)}(e);if(!1!==t){if(!0===e._pulling)return void(e._pullAgain=!0);e._pulling=!0;var r=te(e._underlyingSource,"pull",[e]);r.then(function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,x(e)},function(t){if("readable"===e._controlledReadableStream._state)return N(e,t)}).catch(le)}}function A(e){var t=e._controlledReadableStream;X(!1===e._closeRequested),X("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&f(t)}function I(e,t){var r=e._controlledReadableStream;if(X(!1===e._closeRequested),X("readable"===r._state),!0===a(r)&&y(r)>0)h(r,t,!1);else{var n=1;if(void 0!==e._strategySize)try{n=e._strategySize(t)}catch(t){throw"readable"===r._state&&N(e,t),t}try{he(e._queue,t,n)}catch(t){throw"readable"===r._state&&N(e,t),t}}x(e)}function N(e,t){var r=e._controlledReadableStream;X("readable"===r._state),e._queue=[],d(r,t)}function j(e){var t=pe(e._queue);return e._strategyHWM-t}function k(e){return!!ue(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function R(e){return!!ue(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function P(e){var t=function(e){var t=e._controlledReadableStream;return"readable"===t._state&&!0!==e._closeRequested&&!1!==e._started&&(!!(v(t)&&y(t)>0)||!!(m(t)&&p(t)>0)||H(e)>0)}(e);if(!1!==t){if(!0===e._pulling)return void(e._pullAgain=!0);e._pullAgain=!1,e._pulling=!0;var r=te(e._underlyingByteSource,"pull",[e]);r.then(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,P(e))},function(t){"readable"===e._controlledReadableStream._state&&G(e,t)}).catch(le)}}function D(e){U(e),e._pendingPullIntos=[]}function M(e,t){X("errored"!==e._state,"state must not be errored");var r=!1;"closed"===e._state&&(X(0===t.bytesFilled),r=!0);var n=C(t);"default"===t.readerType?h(e,n,r):(X("byob"===t.readerType),function(e,t,r){var n=e._reader;X(n._readIntoRequests.length>0),n._readIntoRequests.shift()._resolve(W(t,r))}(e,n,r))}function C(e){var t=e.bytesFilled,r=e.elementSize;return X(t<=e.byteLength),X(t%r==0),new e.ctor(e.buffer,e.byteOffset,t/r)}function L(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._totalQueuedBytes+=n}function F(e,t){var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._totalQueuedBytes,t.byteLength-t.bytesFilled),o=t.bytesFilled+i,a=o-o%r,s=i,u=!1;a>n&&(s=a-t.bytesFilled,u=!0);for(var c=e._queue;s>0;){var l=c[0],f=Math.min(s,l.byteLength),d=t.byteOffset+t.bytesFilled;K(t.buffer,d,l.buffer,l.byteOffset,f),l.byteLength===f?c.shift():(l.byteOffset+=f,l.byteLength-=f),e._totalQueuedBytes-=f,B(e,f,t),s-=f}return!1===u&&(X(0===e._totalQueuedBytes,"queue must be empty"),X(t.bytesFilled>0),X(t.bytesFilled<t.elementSize)),u}function B(e,t,r){X(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===r),U(e),r.bytesFilled+=t}function q(e){X("readable"===e._controlledReadableStream._state),0===e._totalQueuedBytes&&!0===e._closeRequested?f(e._controlledReadableStream):P(e)}function U(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function V(e){for(X(!1===e._closeRequested);e._pendingPullIntos.length>0;){if(0===e._totalQueuedBytes)return;var t=e._pendingPullIntos[0];!0===F(e,t)&&(Q(e),M(e._controlledReadableStream,t))}}function z(e,t){var r=e._pendingPullIntos[0],n=e._controlledReadableStream;if("closed"===n._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=re(t.buffer),X(0===t.bytesFilled,"bytesFilled must be 0");for(var r=e._controlledReadableStream;p(r)>0;){var n=Q(e);M(r,n)}}(e,r)}else X("readable"===n._state),function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(B(e,t,r),!(r.bytesFilled<r.elementSize)){Q(e);var n=r.bytesFilled%r.elementSize;if(n>0){var i=r.byteOffset+r.bytesFilled,o=r.buffer.slice(i-n,i);L(e,o,0,o.byteLength)}r.buffer=re(r.buffer),r.bytesFilled-=n,M(e._controlledReadableStream,r),V(e)}}(e,t,r)}function Q(e){var t=e._pendingPullIntos.shift();return U(e),t}function G(e,t){var r=e._controlledReadableStream;X("readable"===r._state),D(e),e._queue=[],d(r,t)}function H(e){return e._strategyHWM-e._totalQueuedBytes}var $=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},J=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),X=e("assert"),Y=e("./helpers.js"),K=Y.ArrayBufferCopy,W=Y.CreateIterResultObject,Z=Y.IsFiniteNonNegativeNumber,ee=Y.InvokeOrNoop,te=Y.PromiseInvokeOrNoop,re=Y.SameRealmTransfer,ne=Y.ValidateAndNormalizeQueuingStrategy,ie=Y.ValidateAndNormalizeHighWaterMark,oe=e("./helpers.js"),ae=oe.createArrayFromList,se=oe.createDataProperty,ue=oe.typeIsObject,ce=e("./utils.js"),le=ce.rethrowAssertionErrorRejection,fe=e("./queue-with-sizes.js"),de=fe.DequeueValue,he=fe.EnqueueValueWithSize,pe=fe.GetTotalQueueSize,ye=Symbol("[[Cancel]]"),me=Symbol("[[Pull]]"),ve=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=r.size,o=r.highWaterMark;n(this,e),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var a=t.type,s=String(a);if("bytes"===s)void 0===o&&(o=0),this._readableStreamController=new Ee(this,t,o);else{if(void 0!==a)throw new RangeError("Invalid type is specified");void 0===o&&(o=1),this._readableStreamController=new _e(this,t,i,o)}}return J(e,[{key:"cancel",value:function(e){return!1===o(this)?Promise.reject(new TypeError("ReadableStream.prototype.cancel can only be used on a ReadableStream")):!0===a(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):l(this,e)}},{key:"getReader",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.mode;if(!1===o(this))throw new TypeError("ReadableStream.prototype.getReader can only be used on a ReadableStream");if("byob"===t){if(!1===k(this._readableStreamController))throw new TypeError("Cannot get a ReadableStreamBYOBReader for a stream not constructed with a byte source");return function(e){return new ge(e)}(this)}if(void 0===t)return i(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(e,t){var r=e.writable,n=e.readable;return this.pipeTo(r,t),n}},{key:"pipeTo",value:function(e){function t(){l=c.read(),Promise.all([l,e.ready]).then(function(r){var n=$(r,1),i=n[0],a=i.value,s=i.done;!0===Boolean(s)?function(){c.releaseLock();var t=e.state;!1!==o||"waiting"!==t&&"writable"!==t?void 0!==f?f.then(h,p):h():(d=!0,e.close().then(h,p))}():"writable"===e.state&&(f=e.write(a),t())}).catch(le)}function r(e){!1===s?(c.cancel(e),c.releaseLock(),p(e)):l.then(function(){c.releaseLock(),p(e)})}function n(t){c.releaseLock(),!1===a&&e.abort(t),p(t)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=i.preventClose,a=i.preventAbort,s=i.preventCancel;o=Boolean(o),a=Boolean(a),s=Boolean(s);var u=this,c=void 0,l=void 0,f=void 0,d=!1,h=void 0,p=void 0;return new Promise(function(i,o){h=i,p=o,(c=u.getReader()).closed.catch(n),e.closed.then(function(){d||r(new TypeError("destination is closing or closed and cannot be piped to anymore"))},r),t()})}},{key:"tee",value:function(){if(!1===o(this))throw new TypeError("ReadableStream.prototype.tee can only be used on a ReadableStream");var e=s(this,!1);return ae(e)}},{key:"locked",get:function(){if(!1===o(this))throw new TypeError("ReadableStream.prototype.locked can only be used on a ReadableStream");return a(this)}}]),e}();r.ReadableStream=ve,r.IsReadableStreamDisturbed=function(e){return X(!0===o(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed};var be=function(){function e(t){if(n(this,e),!1===o(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===a(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");_(this,t),this._readRequests=[]}return J(e,[{key:"cancel",value:function(e){return!1===g(this)?Promise.reject(new TypeError("ReadableStreamDefaultReader.prototype.cancel can only be used on a ReadableStreamDefaultReader")):void 0===this._ownerReadableStream?Promise.reject(new TypeError("Cannot cancel a stream using a released reader")):w(this,e)}},{key:"read",value:function(){return!1===g(this)?Promise.reject(new TypeError("ReadableStreamDefaultReader.prototype.read can only be used on a ReadableStreamDefaultReader")):void 0===this._ownerReadableStream?Promise.reject(new TypeError("Cannot read from a released reader")):T(this)}},{key:"releaseLock",value:function(){if(!1===g(this))throw new TypeError("ReadableStreamDefaultReader.prototype.releaseLock can only be used on a ReadableStreamDefaultReader");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}},{key:"closed",get:function(){return!1===g(this)?Promise.reject(new TypeError("ReadableStreamDefaultReader.prototype.closed can only be used on a ReadableStreamDefaultReader")):this._closedPromise}}]),e}(),ge=function(){function e(t){if(n(this,e),!o(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(a(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");_(this,t),this._readIntoRequests=[]}return J(e,[{key:"cancel",value:function(e){return b(this)?void 0===this._ownerReadableStream?Promise.reject(new TypeError("Cannot cancel a stream using a released reader")):w(this,e):Promise.reject(new TypeError("ReadableStreamBYOBReader.prototype.cancel can only be used on a ReadableStreamBYOBReader"))}},{key:"read",value:function(e){return b(this)?void 0===this._ownerReadableStream?Promise.reject(new TypeError("Cannot read from a released reader")):ArrayBuffer.isView(e)?0===e.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):S(this,e):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(new TypeError("ReadableStreamBYOBReader.prototype.read can only be used on a ReadableStreamBYOBReader"))}},{key:"releaseLock",value:function(){if(!b(this))throw new TypeError("ReadableStreamBYOBReader.prototype.releaseLock can only be used on a ReadableStreamBYOBReader");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}},{key:"closed",get:function(){return b(this)?this._closedPromise:Promise.reject(new TypeError("ReadableStreamBYOBReader.prototype.closed can only be used on a ReadableStreamBYOBReader"))}}]),e}(),_e=function(){function e(t,r,i,a){if(n(this,e),!1===o(t))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==t._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=t,this._underlyingSource=r,this._queue=[],this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var s=ne(i,a);this._strategySize=s.size,this._strategyHWM=s.highWaterMark;var u=this,c=ee(r,"start",[this]);Promise.resolve(c).then(function(){u._started=!0,x(u)},function(e){"readable"===t._state&&N(u,e)}).catch(le)}return J(e,[{key:"close",value:function(){if(!1===O(this))throw new TypeError("ReadableStreamDefaultController.prototype.close can only be used on a ReadableStreamDefaultController");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");A(this)}},{key:"enqueue",value:function(e){if(!1===O(this))throw new TypeError("ReadableStreamDefaultController.prototype.enqueue can only be used on a ReadableStreamDefaultController");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");return I(this,e)}},{key:"error",value:function(e){if(!1===O(this))throw new TypeError("ReadableStreamDefaultController.prototype.error can only be used on a ReadableStreamDefaultController");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");N(this,e)}},{key:ye,value:function(e){return this._queue=[],te(this._underlyingSource,"cancel",[e])}},{key:me,value:function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=de(this._queue);return!0===this._closeRequested&&0===this._queue.length?f(e):x(this),Promise.resolve(W(t,!1))}var r=c(e);return x(this),r}},{key:"desiredSize",get:function(){if(!1===O(this))throw new TypeError("ReadableStreamDefaultController.prototype.desiredSize can only be used on a ReadableStreamDefaultController");return j(this)}}]),e}(),we=function(){function e(t,r){n(this,e),this._associatedReadableByteStreamController=t,this._view=r}return J(e,[{key:"respond",value:function(e){if(!1===R(this))throw new TypeError("ReadableByteStreamController.prototype.respond can only be used on a ReadableByteStreamController");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){if(t=Number(t),!1===Z(t))throw new RangeError("bytesWritten must be a finite");X(e._pendingPullIntos.length>0),z(e,t)}(this._associatedReadableByteStreamController,e)}},{key:"respondWithNewView",value:function(e){if(!1===R(this))throw new TypeError("ReadableByteStreamController.prototype.respond can only be used on a ReadableByteStreamController");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");!function(e,t){X(e._pendingPullIntos.length>0);var r=e._pendingPullIntos[0];if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,z(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}},{key:"view",get:function(){return this._view}}]),e}(),Ee=function(){function e(t,r,i){if(n(this,e),!1===o(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=r,this._pullAgain=!1,this._pulling=!1,D(this),this._queue=[],this._totalQueuedBytes=0,this._closeRequested=!1,this._started=!1,this._strategyHWM=ie(i);var a=r.autoAllocateChunkSize;if(void 0!==a&&(!1===Number.isInteger(a)||a<0))throw new RangeError("autoAllocateChunkSize must be a non negative integer");this._autoAllocateChunkSize=a,this._pendingPullIntos=[];var s=this,u=ee(r,"start",[this]);Promise.resolve(u).then(function(){s._started=!0,X(!1===s._pulling),X(!1===s._pullAgain),P(s)},function(e){"readable"===t._state&&G(s,e)}).catch(le)}return J(e,[{key:"close",value:function(){if(!1===k(this))throw new TypeError("ReadableByteStreamController.prototype.close can only be used on a ReadableByteStreamController");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableStream;if(X(!1===e._closeRequested),X("readable"===t._state),e._totalQueuedBytes>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos[0];if(r.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw G(e,n),n}}f(t)}}(this)}},{key:"enqueue",value:function(e){if(!1===k(this))throw new TypeError("ReadableByteStreamController.prototype.enqueue can only be used on a ReadableByteStreamController");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(e,t){var r=e._controlledReadableStream;X(!1===e._closeRequested),X("readable"===r._state);var n=t.buffer,i=t.byteOffset,o=t.byteLength,s=re(n);if(!0===v(r))if(0===y(r))L(e,s,i,o);else{X(0===e._queue.length);var u=new Uint8Array(s,i,o);h(r,u,!1)}else!0===m(r)?(L(e,s,i,o),V(e)):(X(!1===a(r),"stream must not be locked"),L(e,s,i,o))}(this,e)}},{key:"error",value:function(e){if(!1===k(this))throw new TypeError("ReadableByteStreamController.prototype.error can only be used on a ReadableByteStreamController");var t=this._controlledReadableStream;if("readable"!==t._state)throw new TypeError("The stream is "+t._state+" and so cannot be errored");G(this,e)}},{key:ye,value:function(e){if(this._pendingPullIntos.length>0){var t=this._pendingPullIntos[0];t.bytesFilled=0}return this._queue=[],this._totalQueuedBytes=0,te(this._underlyingByteSource,"cancel",[e])}},{key:me,value:function(){var e=this._controlledReadableStream;if(0===y(e)){if(this._totalQueuedBytes>0){var t=this._queue.shift();this._totalQueuedBytes-=t.byteLength,q(this);var r=void 0;try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(W(r,!1))}var n=this._autoAllocateChunkSize;if(void 0!==n){var i=void 0;try{i=new ArrayBuffer(n)}catch(e){return Promise.reject(e)}var o={buffer:i,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}}else X(void 0===this._autoAllocateChunkSize);var a=c(e);return P(this),a}},{key:"byobRequest",get:function(){if(!1===k(this))throw new TypeError("ReadableByteStreamController.prototype.byobRequest can only be used on a ReadableByteStreamController");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos[0],t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);this._byobRequest=new we(this,t)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===k(this))throw new TypeError("ReadableByteStreamController.prototype.desiredSize can only be used on a ReadableByteStreamController");return H(this)}}]),e}()},{"./helpers.js":9,"./queue-with-sizes.js":10,"./utils.js":13,assert:2}],12:[function(e,t,r){"use strict";var n=e("./readable-stream.js"),i=n.ReadableStream,o=e("./writable-stream.js"),a=o.WritableStream;t.exports=function e(t){function r(){if(!1===c){c=!0;try{t.transform(o,f,n),o=void 0,l=!1}catch(e){c=!1,u(e),h(e)}}}function n(){c=!1,s()}if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t.flush&&(t.flush=function(e,t){return t()}),"function"!=typeof t.transform)throw new TypeError("transform must be a function");var o=void 0,s=void 0,u=void 0,c=!1,l=!1;this.writable=new a({start:function(e){u=e},write:function(e){o=e,l=!0;var t=new Promise(function(e){return s=e});return r(),t},close:function(){try{t.flush(f,d)}catch(e){u(e),h(e)}}},t.writableStrategy);var f=void 0,d=void 0,h=void 0;this.readable=new i({start:function(e){f=e.enqueue.bind(e),d=e.close.bind(e),h=e.error.bind(e)},pull:function(){!0===l&&r()}},t.readableStrategy)}},{"./readable-stream.js":11,"./writable-stream.js":14}],13:[function(e,t,r){"use strict";var n=e("assert");r.rethrowAssertionErrorRejection=function(e){e&&e.constructor===n.AssertionError&&setTimeout(function(){throw e},0)}},{assert:2}],14:[function(e,t,r){"use strict";function n(e){return!1===e._started?void e._startedPromise.then(function(){s(e)}).catch(v):!0===e._started?s(e):void 0}function i(e,t){if("closed"!==e._state&&"errored"!==e._state){for(;e._queue.length>0;){var r=g(e._queue);"close"!==r&&r._reject(t)}e._storedError=t,"waiting"===e._state&&e._readyPromise_resolve(void 0),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._state="errored"}}function o(e){return!!y(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSink")}function a(e){if("closing"!==e._state){c("writable"===e._state||"waiting"===e._state,"stream must be in a writable or waiting state while calling SyncWritableStreamStateWithQueue");var t=w(e._queue),r=t>e._strategyHWM;!0===r&&"writable"===e._state&&(e._state="waiting",e._readyPromise=new Promise(function(t,r){e._readyPromise_resolve=t})),!1===r&&"waiting"===e._state&&(e._state="writable",e._readyPromise_resolve(void 0))}}function s(e){if(0!==e._queue.length&&!0!==e._writing){var t=E(e._queue);return"close"===t?(c("closing"===e._state,"can't process final write record unless already closing"),g(e._queue),c(0===e._queue.length,"queue must be empty once the final write record is dequeued"),function(e){c("closing"===e._state,"stream must be in closing state while calling CloseWritableStream"),d(e._underlyingSink,"close").then(function(){"errored"!==e._state&&(c("closing"===e._state),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._state="closed")},function(t){return i(e,t)}).catch(v)}(e)):(e._writing=!0,void d(e._underlyingSink,"write",[t.chunk]).then(function(){"errored"!==e._state&&(e._writing=!1,t._resolve(void 0),g(e._queue),a(e),s(e))},function(t){return i(e,t)}).catch(v))}}var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("assert"),l=e("./helpers.js"),f=l.InvokeOrNoop,d=l.PromiseInvokeOrNoop,h=l.PromiseInvokeOrFallbackOrNoop,p=l.ValidateAndNormalizeQueuingStrategy,y=l.typeIsObject,m=e("./utils.js"),v=m.rethrowAssertionErrorRejection,b=e("./queue-with-sizes.js"),g=b.DequeueValue,_=b.EnqueueValueWithSize,w=b.GetTotalQueueSize,E=b.PeekQueueValue,S=(e("./count-queuing-strategy.js"),function(){function e(){var t=this,r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.size,s=n.highWaterMark,u=void 0===s?0:s;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._underlyingSink=r,this._closedPromise=new Promise(function(e,r){t._closedPromise_resolve=e,t._closedPromise_reject=r}),this._readyPromise=Promise.resolve(void 0),this._readyPromise_resolve=null,this._queue=[],this._state="writable",this._started=!1,this._writing=!1;var c=p(o,u);this._strategySize=c.size,this._strategyHWM=c.highWaterMark,a(this);var l=function e(t){return i(e._stream,t)};l._stream=this;var d=f(r,"start",[l]);this._startedPromise=Promise.resolve(d),this._startedPromise.then(function(){t._started=!0,t._startedPromise=void 0}),this._startedPromise.catch(function(e){return i(t,e)}).catch(v)}return u(e,[{key:"abort",value:function(e){if(!o(this))return Promise.reject(new TypeError("WritableStream.prototype.abort can only be used on a WritableStream"));if("closed"===this._state)return Promise.resolve(void 0);if("errored"===this._state)return Promise.reject(this._storedError);i(this,e);var t=h(this._underlyingSink,"abort",[e],"close",[]);return t.then(function(){})}},{key:"close",value:function(){return o(this)?"closing"===this._state?Promise.reject(new TypeError("cannot close an already-closing stream")):"closed"===this._state?Promise.reject(new TypeError("cannot close an already-closed stream")):"errored"===this._state?Promise.reject(this._storedError):("waiting"===this._state&&this._readyPromise_resolve(void 0),this._state="closing",_(this._queue,"close",0),n(this),this._closedPromise):Promise.reject(new TypeError("WritableStream.prototype.close can only be used on a WritableStream"))}},{key:"write",value:function(e){if(!o(this))return Promise.reject(new TypeError("WritableStream.prototype.write can only be used on a WritableStream"));if("closing"===this._state)return Promise.reject(new TypeError("cannot write while stream is closing"));if("closed"===this._state)return Promise.reject(new TypeError("cannot write after stream is closed"));if("errored"===this._state)return Promise.reject(this._storedError);c("waiting"===this._state||"writable"===this._state);var t=1;if(void 0!==this._strategySize)try{t=this._strategySize(e)}catch(e){return i(this,e),Promise.reject(e)}var r=void 0,s=void 0,u=new Promise(function(e,t){r=e,s=t}),l={promise:u,chunk:e,_resolve:r,_reject:s};try{_(this._queue,l,t)}catch(e){return i(this,e),Promise.reject(e)}return a(this),n(this),u}},{key:"closed",get:function(){return o(this)?this._closedPromise:Promise.reject(new TypeError("WritableStream.prototype.closed can only be used on a WritableStream"))}},{key:"state",get:function(){if(!o(this))throw new TypeError("WritableStream.prototype.state can only be used on a WritableStream");return this._state}},{key:"ready",get:function(){return o(this)?this._readyPromise:Promise.reject(new TypeError("WritableStream.prototype.ready can only be used on a WritableStream"))}}]),e}());r.WritableStream=S,r.IsWritableStream=o},{"./count-queuing-strategy.js":8,"./helpers.js":9,"./queue-with-sizes.js":10,"./utils.js":13,assert:2}]},{},[1])(1)}).call(this,r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(318))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorAbstractMediaTyped=class extends n.Actor{constructor(e){super(e)}async run(e){if("handle"in e){const t=e;return{handle:await this.runHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};throw new Error("Either a handle or mediaType action needs to be provided")}async test(e){if("handle"in e){const t=e;return{handle:await this.testHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.testMediaType(e.context)};throw new Error("Either a handle or mediaType action needs to be provided")}}},function(e,t,r){(function(e,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,c=9007199254740991,l="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",p="[object Error]",y="[object Function]",m="[object GeneratorFunction]",v="[object Map]",b="[object Number]",g="[object Object]",_="[object RegExp]",w="[object Set]",E="[object String]",S="[object Symbol]",T="[object ArrayBuffer]",O="[object DataView]",x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,I=/^\./,N=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/\\(\\)?/g,k=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[l]=P[f]=P[T]=P[d]=P[O]=P[h]=P[p]=P[y]=P[v]=P[b]=P[g]=P[_]=P[w]=P[E]=P["[object WeakMap]"]=!1;var D="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,C=D||M||Function("return this")(),L=t&&!t.nodeType&&t,F=L&&"object"==typeof r&&r&&!r.nodeType&&r,B=F&&F.exports===L&&D.process,q=function(){try{return B&&B.binding("util")}catch(e){}}(),U=q&&q.isTypedArray;function V(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function Q(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function G(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var H=Array.prototype,$=Function.prototype,J=Object.prototype,X=C["__core-js_shared__"],Y=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),K=$.toString,W=J.hasOwnProperty,Z=J.toString,ee=RegExp("^"+K.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=C.Symbol,re=C.Uint8Array,ne=J.propertyIsEnumerable,ie=H.splice,oe=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ae=Le(C,"DataView"),se=Le(C,"Map"),ue=Le(C,"Promise"),ce=Le(C,"Set"),le=Le(C,"WeakMap"),fe=Le(Object,"create"),de=Ge(ae),he=Ge(se),pe=Ge(ue),ye=Ge(ce),me=Ge(le),ve=te?te.prototype:void 0,be=ve?ve.valueOf:void 0,ge=ve?ve.toString:void 0;function _e(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function we(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ee;++t<r;)this.add(e[t])}function Te(e){this.__data__=new we(e)}function Oe(e,t){var r=Xe(e)||Je(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!W.call(e,o)||i&&("length"==o||Be(o,n))||r.push(o);return r}function xe(e,t){for(var r=e.length;r--;)if($e(e[r][0],t))return r;return-1}_e.prototype.clear=function(){this.__data__=fe?fe(null):{}},_e.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},_e.prototype.get=function(e){var t=this.__data__;if(fe){var r=t[e];return r===o?void 0:r}return W.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return fe?void 0!==t[e]:W.call(t,e)},_e.prototype.set=function(e,t){return this.__data__[e]=fe&&void 0===t?o:t,this},we.prototype.clear=function(){this.__data__=[]},we.prototype.delete=function(e){var t=this.__data__,r=xe(t,e);return!(r<0||(r==t.length-1?t.pop():ie.call(t,r,1),0))},we.prototype.get=function(e){var t=this.__data__,r=xe(t,e);return r<0?void 0:t[r][1]},we.prototype.has=function(e){return xe(this.__data__,e)>-1},we.prototype.set=function(e,t){var r=this.__data__,n=xe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ee.prototype.clear=function(){this.__data__={hash:new _e,map:new(se||we),string:new _e}},Ee.prototype.delete=function(e){return Ce(this,e).delete(e)},Ee.prototype.get=function(e){return Ce(this,e).get(e)},Ee.prototype.has=function(e){return Ce(this,e).has(e)},Ee.prototype.set=function(e,t){return Ce(this,e).set(e,t),this},Se.prototype.add=Se.prototype.push=function(e){return this.__data__.set(e,o),this},Se.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new we},Te.prototype.delete=function(e){return this.__data__.delete(e)},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var r=this.__data__;if(r instanceof we){var i=r.__data__;if(!se||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new Ee(i)}return r.set(e,t),this};var Ae=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}();function Ie(e,t){for(var r=0,n=(t=qe(t,e)?[t]:De(t)).length;null!=e&&r<n;)e=e[Qe(t[r++])];return r&&r==n?e:void 0}function Ne(e,t){return null!=e&&t in Object(e)}function je(e,t,r,n,i){return e===t||(null==e||null==t||!Ze(e)&&!et(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var u=Xe(e),c=Xe(t),y=f,m=f;u||(y=(y=Fe(e))==l?g:y);c||(m=(m=Fe(t))==l?g:m);var x=y==g&&!z(e),A=m==g&&!z(t),I=y==m;if(I&&!x)return o||(o=new Te),u||rt(e)?Me(e,t,r,n,i,o):function(e,t,r,n,i,o,u){switch(r){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!n(new re(e),new re(t)));case d:case h:case b:return $e(+e,+t);case p:return e.name==t.name&&e.message==t.message;case _:case E:return e==t+"";case v:var c=Q;case w:var l=o&s;if(c||(c=G),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;o|=a,u.set(e,t);var y=Me(c(e),c(t),n,i,o,u);return u.delete(e),y;case S:if(be)return be.call(e)==be.call(t)}return!1}(e,t,y,r,n,i,o);if(!(i&s)){var N=x&&W.call(e,"__wrapped__"),j=A&&W.call(t,"__wrapped__");if(N||j){var k=N?e.value():e,R=j?t.value():t;return o||(o=new Te),r(k,R,n,i,o)}}if(!I)return!1;return o||(o=new Te),function(e,t,r,n,i,o){var a=i&s,u=nt(e),c=u.length,l=nt(t).length;if(c!=l&&!a)return!1;for(var f=c;f--;){var d=u[f];if(!(a?d in t:W.call(t,d)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var p=!0;o.set(e,t),o.set(t,e);for(var y=a;++f<c;){d=u[f];var m=e[d],v=t[d];if(n)var b=a?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(!(void 0===b?m===v||r(m,v,n,i,o):b)){p=!1;break}y||(y="constructor"==d)}if(p&&!y){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,n,i,o)}(e,t,je,r,n,i))}function ke(e){return!(!Ze(e)||function(e){return!!Y&&Y in e}(e))&&(Ke(e)||z(e)?ee:k).test(Ge(e))}function Re(e){return"function"==typeof e?e:null==e?it:"object"==typeof e?Xe(e)?function(e,t){if(qe(e)&&Ue(t))return Ve(Qe(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Ie(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){var n,i=-1,o=(t=qe(t,e)?[t]:De(t)).length;for(;++i<o;){var a=Qe(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;return!!(o=e?e.length:0)&&We(o)&&Be(a,o)&&(Xe(e)||Je(e))}(e,t,Ne)}(r,e):je(t,n,void 0,a|s)}}(e[0],e[1]):function(e){var t=function(e){var t=nt(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Ue(i)]}return t}(e);if(1==t.length&&t[0][2])return Ve(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,u=!n;if(null==e)return!o;for(e=Object(e);i--;){var c=r[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var l=(c=r[i])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new Te;if(n)var p=n(f,d,l,e,t,h);if(!(void 0===p?je(d,f,n,a|s,h):p))return!1}}return!0}(r,e,t)}}(e):function(e){return qe(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Qe(e)):function(e){return function(t){return Ie(t,e)}}(e)}(e)}function Pe(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||J;return e===r}(e))return oe(e);var t=[];for(var r in Object(e))W.call(e,r)&&"constructor"!=r&&t.push(r);return t}function De(e){return Xe(e)?e:ze(e)}function Me(e,t,r,n,i,o){var u=i&s,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=o.get(e);if(f&&o.get(t))return f==t;var d=-1,h=!0,p=i&a?new Se:void 0;for(o.set(e,t),o.set(t,e);++d<c;){var y=e[d],m=t[d];if(n)var v=u?n(m,y,d,t,e,o):n(y,m,d,e,t,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!V(t,function(e,t){if(!p.has(t)&&(y===e||r(y,e,n,i,o)))return p.add(t)})){h=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Ce(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ke(r)?r:void 0}var Fe=function(e){return Z.call(e)};function Be(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||R.test(e))&&e>-1&&e%1==0&&e<t}function qe(e,t){if(Xe(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!tt(e))||(A.test(e)||!x.test(e)||null!=t&&e in Object(t))}function Ue(e){return e==e&&!Ze(e)}function Ve(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(ae&&Fe(new ae(new ArrayBuffer(1)))!=O||se&&Fe(new se)!=v||ue&&"[object Promise]"!=Fe(ue.resolve())||ce&&Fe(new ce)!=w||le&&"[object WeakMap]"!=Fe(new le))&&(Fe=function(e){var t=Z.call(e),r=t==g?e.constructor:void 0,n=r?Ge(r):void 0;if(n)switch(n){case de:return O;case he:return v;case pe:return"[object Promise]";case ye:return w;case me:return"[object WeakMap]"}return t});var ze=He(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(tt(e))return ge?ge.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}(e)}(e);var t=[];return I.test(e)&&t.push(""),e.replace(N,function(e,r,n,i){t.push(n?i.replace(j,"$1"):r||e)}),t});function Qe(e){if("string"==typeof e||tt(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function Ge(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(He.Cache||Ee),r}function $e(e,t){return e===t||e!=e&&t!=t}function Je(e){return function(e){return et(e)&&Ye(e)}(e)&&W.call(e,"callee")&&(!ne.call(e,"callee")||Z.call(e)==l)}He.Cache=Ee;var Xe=Array.isArray;function Ye(e){return null!=e&&We(e.length)&&!Ke(e)}function Ke(e){var t=Ze(e)?Z.call(e):"";return t==y||t==m}function We(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function Ze(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function et(e){return!!e&&"object"==typeof e}function tt(e){return"symbol"==typeof e||et(e)&&Z.call(e)==S}var rt=U?function(e){return function(t){return e(t)}}(U):function(e){return et(e)&&We(e.length)&&!!P[Z.call(e)]};function nt(e){return Ye(e)?Oe(e):Pe(e)}function it(e){return e}r.exports=function(e,t){var r={};return t=Re(t),function(e,t){e&&Ae(e,t,nt)}(e,function(e,n,i){r[n]=t(e,n,i)}),r}}).call(this,r(9),r(38)(e))},function(e,t,r){(function(t,n){var i=r(71).xsd,o=String.fromCharCode,a="function"==typeof t?t:function(e){setTimeout(e,0)},s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,l={_iri:!0,_unescapedIri:!0,_unescapedQuote:!0,_singleQuote:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/;function d(e){if(!(this instanceof d))return new d(e);if(e=e||{},this._lineMode=!!e.lineMode)for(var t in this._n3Mode=!1,this)!(t in l)&&this[t]instanceof RegExp&&(this[t]=f);else this._n3Mode=!1!==e.n3;this._comments=!!e.comments}d.prototype={_iri:/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,_unescapedQuote:/^"([^"\\\r\n]+)"/,_unescapedApos:/^'([^'\\\r\n]+)'/,_singleQuote:/^"((?:[^"\\\r\n]|\\.)*)"(?=[^"])/,_singleApos:/^'((?:[^'\\\r\n]|\\.)*)'(?=[^'])/,_tripleQuote:/^"""([^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*)"""/,_tripleApos:/^'''([^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*)'''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,_variable:/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/i,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_comment:/#([^\n\r]*)/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){for(var r=this._input,n=this._comments;;){for(var o,a;o=this._newline.exec(r);)n&&(a=this._comment.exec(o[0]))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),r=r.substr(o[0].length,r.length),this._line++;if((o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return t&&(n&&(a=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var s=this._line,u="",l="",f="",d=r[0],h=null,p=0,y=!1;switch(d){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(p=1,u="^");break}if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){y=!0;break}case"<":if(h=this._unescapedIri.exec(r))u="IRI",l=h[1];else if(h=this._iri.exec(r)){if(null===(l=this._unescape(h[1]))||c.test(l))return v(this);u="IRI"}else this._n3Mode&&r.length>1&&"="===r[1]&&(u="inverse",p=2,l=">");break;case"_":((h=this._blank.exec(r))||t&&(h=this._blank.exec(r+" ")))&&(u="blank",f="_",l=h[1]);break;case'"':if(h=this._unescapedQuote.exec(r))l=h[1];else if(r.indexOf('"',1)>0&&((h=this._singleQuote.exec(r))?l=this._unescape(h[1]):(h=this._tripleQuote.exec(r))&&(l=h[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return v(this);null!==h&&(u="literal");break;case"'":if(h=this._unescapedApos.exec(r))l=h[1];else if(r.indexOf("'",1)>0&&((h=this._singleApos.exec(r))?l=this._unescape(h[1]):(h=this._tripleApos.exec(r))&&(l=h[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return v(this);null!==h&&(u="literal");break;case"?":this._n3Mode&&(h=this._variable.exec(r))&&(u="var",l=h[0]);break;case"@":"literal"===this._previousMarker&&(h=this._langcode.exec(r))?(u="langcode",l=h[1]):(h=this._keyword.exec(r))&&(u=h[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){u=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(r)||t&&(h=this._number.exec(r+" ")))&&(u="literal",l=h[0],f=h[1]?i.double:/^[+\-]?\d+$/.test(h[0])?i.integer:i.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(r))?u=h[0].toUpperCase():y=!0;break;case"f":case"t":(h=this._boolean.exec(r))?(u="literal",l=h[0],f=i.boolean):y=!0;break;case"a":(h=this._shortPredicates.exec(r))?(u="abbreviation",l="a"):y=!0;break;case"=":this._n3Mode&&r.length>1&&(u="abbreviation",">"!==r[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,u=d);break;default:y=!0}if(y&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(h=this._prefix.exec(r))?((h=this._prefixed.exec(r))||t&&(h=this._prefixed.exec(r+" ")))&&(u="prefixed",f=h[1]||"",l=this._unescape(h[2])):(u="prefix",l=h[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?v(this):this._input=r;var m={line:s,type:u,value:l,prefix:f};e(null,m),this.previousToken=m,this._previousMarker=u,r=r.substr(p||h[0].length,r.length)}function v(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}},_unescape:function(e){try{return e.replace(s,function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return o(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<=65535?o(i):o(55296+(i-=65536)/1024,56320+(1023&i))}var a=u[n];if(!a)throw new Error;return a})}catch(e){return null}},_syntaxError:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t},tokenize:function(e,t){var r=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof t){var i,o=[];if(this._tokenizeToEnd(function(e,t){e?i=e:o.push(t)},!0),i)throw i;return o}a(function(){r._tokenizeToEnd(t,!0)})}else this._input="",this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(e){null!==r._input&&0!==e.length&&(r._pendingBuffer&&(e=n.concat([r._pendingBuffer,e]),r._pendingBuffer=null),128&e[e.length-1]?r._pendingBuffer=e:(r._input+=e,r._tokenizeToEnd(t,!1)))}),e.on("end",function(){null!==r._input&&r._tokenizeToEnd(t,!0)}),e.on("error",t)}},e.exports=d}).call(this,r(16).setImmediate,r(7).Buffer)},function(e,t,r){var n=r(153),i=r(56),o=r(71),a=0,s=0;function u(e){if(!(this instanceof u))return new u(e);this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&l(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r="turtle"===t,i="trig"===t,o=/triple/.test(t),a=/quad/.test(t),s=this._n3Mode=/n3/.test(t),c=o||a;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||s),c&&(this._resolveRelativeIRI=function(e){return""}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new n({lineMode:c,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}function c(){}function l(e,t){var r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(o.rdf.first),e.RDF_REST=r(o.rdf.rest),e.RDF_NIL=r(o.rdf.nil),e.N3_FORALL=r(o.r.forAll),e.N3_FORSOME=r(o.r.forSome),e.ABBREVIATIONS={a:r(o.rdf.type),"=":r(o.owl.sameAs),">":r(o.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}u._resetBlankNodeIds=function(){a=s=0},u.prototype={_blank:function(){return this._blankNode("b"+s++)},_setBase:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base=null},_saveContext:function(e,t,r,n,i){var o=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))},_restoreContext:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readEntity:function(e,t){var r;switch(e.type){case"IRI":case"typeIRI":var n=this._resolveIRI(e.value);if(""===n)return this._error("Invalid IRI",e);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);r=this._namedNode(i+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r},_readSubject:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blank(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blank(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject},_readObject:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blank()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blank()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()},_readPredicateAfterBlank:function(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}},_readListItem:function(e){var t=null,r=null,n=this._subject,i=this._contextStack,o=i[i.length-1],a=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blank(),this.RDF_FIRST,this._subject=t=this._blank()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blank(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blank()),null===n?null===o.predicate?o.subject=r:o.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return a},_readDataTypeOrLang:function(e){return this._completeLiteral(e,!1)},_readListItemDataTypeOrLang:function(e){return this._completeLiteral(e,!0)},_completeLiteral:function(e,t){switch(e.type){case"type":case"typeIRI":var r=this._readEntity(e);if(void 0===r)return;this._object=this._literal(this._literalValue,r),e=null;break;case"langcode":this._object=this._literal(this._literalValue,e.value),e=null;break;default:this._object=this._literal(this._literalValue)}return t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===e?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(e))},_readFormulaTail:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())},_readPunctuation:function(e){var t,r=this._subject,n=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==r){var o=this._predicate,a=this._object;i?this._emit(a,o,r,n):this._emit(r,o,a,n)}return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blank(),this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_readQuantifierList:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blank(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blank(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier("b"+s++),this._readQuantifierPunctuation},_readQuantifierPunctuation:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))},_getPathReader:function(e){return this._afterPath=e,this._readPath},_readPath:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}},_readForwardPath:function(e){var t,r,n=this._blank();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath},_readBackwardPath:function(e){var t,r,n=this._blank();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,t,r,this._graph),this._readPath},_getContextEndReader:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}},_emit:function(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))},_error:function(e,t){var r=new Error(e+" on line "+t.line+".");r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=c},_resolveIRI:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)},_resolveRelativeIRI:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?"":this._removeDotSegments(this._basePath+e)}},_removeDotSegments:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",r=e.length,n=-1,i=-1,o=0,a="/";n<r;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<r&&"/"!==e[i];)n=i;break;case"?":case"#":n=r;break;case"/":if("."===e[n+1])switch(a=e[++n+1]){case"/":t+=e.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return t+e.substring(o,n)+e.substr(n+1);case".":if(void 0===(a=e[++n+1])||"/"===a||"?"===a||"#"===a){if((o=(t+=e.substring(o,n-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==a)return t+"/"+e.substr(n+1);o=n+1}}}a=e[++n]}return t+e.substring(o)},parse:function(e,t,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+a+++"_",this._prefixCallback=r||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every(function(e){return n._readCallback=n._readCallback(e)}),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,function(e,t){null!==e?(n._callback(e),n._callback=c):n._readCallback&&(n._readCallback=n._readCallback(t))})}},l(u.prototype,i),e.exports=u},function(e,t,r){var n=r(71),i=r(56),o=i.defaultGraph(),a=n.rdf,s=n.xsd,u=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function f(e,t){if(!(this instanceof f))return new f(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var r="";this._outputStream={write:function(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=o,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function d(e){var t=l[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function h(e){this.id=e}f.prototype={get _inDefaultGraph(){return o.equals(this._graph)},_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeQuad:function(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(o.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(e){i&&i(e)}},_writeQuadLine:function(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)},quadToString:function(e,t,r,n){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(r)+(n&&n.value?" "+this._encodeIriOrBlank(n)+" .\n":" .\n")},quadsToString:function(e){return e.map(function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)},this).join("")},_encodeIriOrBlank:function(e){if("NamedNode"!==e.termType)return"id"in e?e.id:"_:"+e.value;var t=e.value;u.test(t)&&(t=t.replace(c,d));var r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:"<"+t+">"},_encodeLiteral:function(e){var t=e.value;return u.test(t)&&(t=t.replace(c,d)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==s.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'},_encodePredicate:function(e){return e.value===a.type?"a":this._encodeIriOrBlank(e)},_encodeObject:function(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addQuad:function(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof n?this._writeQuad(e,t,r,o,n):this._writeQuad(e,t,r,n||o,i)},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},addPrefix:function(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)},addPrefixes:function(e,t){var r=this._prefixIRIs,n=!1;for(var i in e){var o=e[i];"string"!=typeof o&&(o=o.value),/[#\/]$/.test(o)&&r[o]!==(i+=":")&&(n=!0,r[o]=i,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(n){var a="",s="";for(var u in r)a+=a?"|"+u:u,s+=(s?"|":"")+r[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)},blank:function(e,t){var r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new h("[]");case 1:if(!((r=i[0]).object instanceof h))return new h("[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]");default:for(var o="[",a=0;a<n;a++)(r=i[a]).predicate.equals(e)?o+=", "+this._encodeObject(r.object):(o+=(a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return new h(o+"\n]")}},list:function(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new h("("+r.join(" ")+")")},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}},i.internal.Term.subclass(h),h.prototype.equals=function(){return!1},e.exports=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(326))},function(e,t,r){(function(t,n){
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2017 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const i=r(91),o=r(18),a=o.IdentifierIssuer,s=r(31),u=r(337),c=r(338),{expand:l}=r(340),{flatten:f}=r(342),{fromRDF:d}=r(343),{toRDF:h}=r(344),{frameMergedOrDefault:p}=r(345),{isArray:y,isObject:m,isString:v}=r(21),{isSubjectReference:b}=r(30),{getInitialContext:g,process:_,getAllContexts:w,expandIri:E}=r(40),{compact:S,compactIri:T,removePreserve:O}=r(346),{createNodeMap:x,createMergedNodeMap:A,mergeNodeMaps:I}=r(72),N=void 0!==t&&t.versions&&t.versions.node,j=!N&&("undefined"!=typeof window||"undefined"!=typeof self),k=function(e){e.compact=o.callbackify(async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new s("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;(n=E(n,{base:v(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b")})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?t:await e.expand(t,n);const u=await e.processContext(g(n),r,n);let c=S({activeCtx:u,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&y(c)?1===c.length?c=c[0]:0===c.length&&(c={}):n.graph&&m(c)&&(c=[c]),m(r)&&"@context"in r&&(r=r["@context"]),r=o.clone(r),y(r)||(r=[r]);const l=r;r=[];for(let e=0;e<l.length;++e)(!m(l[e])||Object.keys(l[e]).length>0)&&r.push(l[e]);const f=r.length>0;if(1===r.length&&(r=r[0]),y(c)){const e=T({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),t=c;c={},f&&(c["@context"]=r),c[e]=t}else if(m(c)&&f){const e=c;c={"@context":r};for(const t in e)c[t]=e[t]}if(n.framing){const e=T({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}});
// remove @preserve from results
n.link={},c[e]=O(u,c[e],n)}return c}),e.expand=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(r=E(r,{keepFreeFloatingNodes:!1})).expansionMap&&(r.expansionMap=void 0);const n={},i=[];if("expandContext"in r){const e=o.clone(r.expandContext);m(e)&&"@context"in e?n.expandContext=e:n.expandContext={"@context":e},i.push(n.expandContext)}let a;if(v(t)){const o=await e.get(t,r);a=o.documentUrl,n.input=o.document,o.contextUrl&&(n.remoteContext={"@context":o.contextUrl},i.push(n.remoteContext))}else n.input=o.clone(t);"base"in r||(r.base=a||""),await w(n,r);let s=g(r);i.forEach(e=>{s=_({activeCtx:s,localCtx:e,options:r})});let u=l({activeCtx:s,element:n.input,options:r,expansionMap:r.expansionMap});return m(u)&&"@graph"in u&&1===Object.keys(u).length?u=u["@graph"]:null===u&&(u=[]),y(u)||(u=[u]),u}),e.flatten=o.callbackify(async function(t,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,n=E(n,{base:v(t)?t:""});const i=await e.expand(t,n),o=f(i);return null===r?o:(n.graph=!0,n.skipExpansion=!0,await e.compact(o,r,n))}),e.frame=o.callbackify(async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=E(n,{base:v(t)?t:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),v(r)){const t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?y(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}const i=r&&r["@context"]||{},a=await e.expand(t,n),s=o.clone(n);s.isFrame=!0,s.keepFreeFloatingNodes=!0;const u=await e.expand(r,s);let c;return s.merged=!("@graph"in r),c=p(a,u,s),s.graph=!0,s.skipExpansion=!0,s.link={},s.framing=!0,await e.compact(c,i,s)}),e.link=o.callbackify(async function(t,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)}),e.normalize=e.canonize=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=E(r,{base:v(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new s("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return i.canonize(e,r)}const n=o.clone(r);delete n.format,n.produceGeneralizedRdf=!1;const a=await e.toRDF(t,n);return i.canonize(a,r)}),e.fromRDF=o.callbackify(async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=E(r,{format:v(e)?"application/n-quads":void 0});let n,{format:i,rdfParser:o}=r;if(i){if(!(o=o||t[i]))throw new s("Unknown input format.","jsonld.UnknownFormat",{format:i})}else o=(()=>e);return n=o.length>1?new Promise((t,r)=>{o(e,(e,n)=>{e?r(e):t(n)})}):Promise.resolve(o(e)),n=await n,Array.isArray(n)||(n=u.legacyDatasetToQuads(n)),d(n,r)}),e.toRDF=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;n=(r=E(r,{base:v(t)?t:"",skipExpansion:!1})).skipExpansion?t:await e.expand(t,r);const i=h(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return await u.serialize(i);throw new s("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i}),e.createNodeMap=o.callbackify(async function(t,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=E(r,{base:v(t)?t:""});const n=await e.expand(t,r);return A(n,r)}),e.merge=o.callbackify(async function(t,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!y(t))throw new TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,n=E(n,{});const i=await Promise.all(t.map(t=>{const r=Object.assign({},n);return e.expand(t,r)}));let s=!0;"mergeNodes"in n&&(s=n.mergeNodes);const u=n.issuer||new a("_:b"),c={"@default":{}};for(let e=0;e<i.length;++e){const t=o.relabelBlankNodes(i[e],{issuer:new a("_:b"+e+"-")}),r=s||0===e?c:{"@default":{}};if(x(t,r,"@default",u),r!==c)for(const e in r){const t=r[e];if(!(e in c)){c[e]=t;continue}const n=c[e];for(const e in t)e in n||(n[e]=t[e])}}const l=I(c),f=[],d=Object.keys(l).sort();for(let e=0;e<d.length;++e){const t=l[d[e]];b(t)||f.push(t)}return null===r?f:(n.graph=!0,n.skipExpansion=!0,await e.compact(f,r,n))}),Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=o.normalizeDocumentLoader(t)}),e.documentLoader=(async e=>{throw new s("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})}),e.loadDocument=o.callbackify(async function(){return e.documentLoader.apply(null,arguments)}),e.get=o.callbackify(async function(t,r){let n;n="function"==typeof r.documentLoader?o.normalizeDocumentLoader(r.documentLoader):e.documentLoader;const i=await n(t);try{if(!i.document)throw new s("No remote document found at the given URL.","jsonld.NullRemoteDocument");v(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new s("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i}),e.processContext=o.callbackify(async function(e,t,r){if(r=E(r,{base:""}),null===t)return g(r);t=o.clone(t),m(t)&&"@context"in t||(t={"@context":t});const n=await w(t,r);return _({activeCtx:e,localCtx:n,options:r})}),e.getContextValue=r(40).getContextValue,e.documentLoaders={},e.documentLoaders.node=r(347),e.documentLoaders.xhr=r(350),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new s('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))};const t={};function E(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.registerRDFParser("rdfa-api",c.parse),e.url=r(59),e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=r(95),e.JsonLdProcessor=r(351)(e),j&&void 0===n.JsonLdProcessor&&Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),N?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},R=function(){return k(function(){return R()})};k(R),e.exports=R}).call(this,r(10),r(9))},function(e,t,r){"use strict";const n=r(330),i=r(92),o=r(159),a=r(161),s=r(94),u=r(39),c={subject:"s",object:"o",graph:"g"};e.exports=class extends n{constructor(e){super(e=e||{}),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e,t){const r=this;let n;r.schedule.start=Date.now(),r.quads=e;const o={};r.waterfall([t=>{r.forEach(e,(e,t,n)=>{r.forEachComponent(e,t=>{if("BlankNode"!==t.termType)return;const n=t.value;n in r.blankNodeInfo?r.blankNodeInfo[n].quads.push(e):(o[n]=!0,r.blankNodeInfo[n]={quads:[e]})}),n()},t)},e=>{let t=!0;r.whilst(()=>t,e=>{t=!1,r.hashToBlankNodes={},r.waterfall([e=>{r.forEach(o,(e,t,n)=>{r.hashFirstDegreeQuads(t,(e,i)=>{if(e)return n(e);i in r.hashToBlankNodes?r.hashToBlankNodes[i].push(t):r.hashToBlankNodes[i]=[t],n()})},e)},e=>{const n=Object.keys(r.hashToBlankNodes).sort();r.forEach(n,(e,n,i)=>{const a=r.hashToBlankNodes[e];if(a.length>1)return i();const s=a[0];r.canonicalIssuer.getId(s),delete o[s],delete r.hashToBlankNodes[e],t=!0,i()},e)}],e)},e)},e=>{const t=Object.keys(r.hashToBlankNodes).sort();r.forEach(t,(e,t,n)=>{const o=[],a=r.hashToBlankNodes[e];r.waterfall([e=>{r.forEach(a,(e,t,n)=>{if(r.canonicalIssuer.hasId(e))return n();const a=new i("_:b");a.getId(e),r.hashNDegreeQuads(e,a,(e,t)=>{if(e)return n(e);o.push(t),n()})},e)},e=>{o.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),r.forEach(o,(e,t,n)=>{for(const t in e.issuer.existing)r.canonicalIssuer.getId(t);n()},e)}],n)},e)},e=>{const t=[];r.waterfall([e=>{r.forEach(r.quads,(e,n,i)=>{r.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(r.canonicalIssuer.prefix)||(e.value=r.canonicalIssuer.getId(e.value))}),t.push(s.serializeQuad(e)),i()},e)},e=>(t.sort(),n=t.join(""),e())],e)}],e=>t(e,n))}hashFirstDegreeQuads(e,t){const r=this,n=r.blankNodeInfo[e];if("hash"in n)return t(null,n.hash);const i=[],a=n.quads;r.forEach(a,(t,n,o)=>{const a={predicate:t.predicate};r.forEachComponent(t,(t,n)=>{a[n]=r.modifyFirstDegreeComponent(e,t,n)}),i.push(s.serializeQuad(a)),o()},e=>{if(e)return t(e);i.sort();const a=new o(r.hashAlgorithm);for(let e=0;e<i.length;++e)a.update(i[e]);n.hash=a.digest(),t(null,n.hash)})}hashRelatedBlankNode(e,t,r,n,i){const a=this;let s;a.waterfall([t=>a.canonicalIssuer.hasId(e)?(s=a.canonicalIssuer.getId(e),t()):r.hasId(e)?(s=r.getId(e),t()):void a.hashFirstDegreeQuads(e,(e,r)=>{if(e)return t(e);s=r,t()})],e=>{if(e)return i(e);const r=new o(a.hashAlgorithm);return r.update(n),"g"!==n&&r.update(a.getRelatedPredicate(t)),r.update(s),i(null,r.digest())})}hashNDegreeQuads(e,t,r){const n=this;let i;const s=new o(n.hashAlgorithm);n.waterfall([r=>n.createHashToRelated(e,t,(e,t)=>{if(e)return r(e);i=t,r()}),e=>{const r=Object.keys(i).sort();n.forEach(r,(e,r,o)=>{s.update(e);let u,c="";const l=new a(i[e]);n.whilst(()=>l.hasNext(),e=>{const r=l.next();let i=t.clone(),o="";const a=[];n.waterfall([t=>{n.forEach(r,(t,r,s)=>{if(n.canonicalIssuer.hasId(t)?o+=n.canonicalIssuer.getId(t):(i.hasId(t)||a.push(t),o+=i.getId(t)),0!==c.length&&o.length>=c.length&&o>c)return e();s()},t)},t=>{n.forEach(a,(t,r,a)=>{n.hashNDegreeQuads(t,i,(r,n)=>r?a(r):(o+=i.getId(t),o+="<"+n.hash+">",i=n.issuer,0!==c.length&&o.length>=c.length&&o>c?e():void a()))},t)},e=>{(0===c.length||o<c)&&(c=o,u=i),e()}],e)},e=>{if(e)return o(e);s.update(c),t=u,o()})},e)}],e=>{r(e,{hash:s.digest(),issuer:t})})}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=u.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,(r,o,a)=>{n.forEach(r,(o,a,s)=>{if("predicate"===a||"BlankNode"!==o.termType||o.value===e)return s();const u=o.value,l=c[a];n.hashRelatedBlankNode(u,r,t,l,(e,t)=>{if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()})},a)},e=>r(e,i))}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}}},function(e,t,r){"use strict";const n=r(57);r(93),r(331),r(333),e.exports=class{constructor(e){this.md=n.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}}},function(e,t,r){(function(t,n,i,o){var a=r(57),s=r(332),u=e.exports=a.util=a.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function l(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(u.isArrayBuffer(e)||u.isArrayBufferView(e))if(void 0!==o&&e instanceof o)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof l||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick&&!t.browser)return u.nextTick=t.nextTick,void(u.setImmediate="function"==typeof n?n:u.nextTick);if("function"==typeof n)return u.setImmediate=function(){return n.apply(void 0,arguments)},void(u.nextTick=function(e){return n(e)});if(u.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];u.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,a=document.createElement("div");r=[];new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})}).observe(a,{attributes:!0});var s=u.setImmediate;u.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),s(e)):(r.push(e),1===r.length&&a.setAttribute("a",o=!o))}}u.nextTick=u.setImmediate}(),u.isNodejs=void 0!==t&&t.versions&&t.versions.node,u.globalScope=u.isNodejs?i:"undefined"==typeof self?window:self,u.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},u.isArrayBufferView=function(e){return e&&u.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},u.ByteBuffer=l,u.ByteStringBuffer=l;u.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},u.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},u.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},u.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},u.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},u.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},u.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(u.encodeUtf8(e))},u.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},u.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},u.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},u.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},u.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},u.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},u.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},u.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},u.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},u.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},u.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},u.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},u.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},u.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},u.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},u.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},u.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},u.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},u.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},u.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},u.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},u.ByteStringBuffer.prototype.copy=function(){var e=u.createBuffer(this.data);return e.read=this.read,e},u.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},u.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},u.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},u.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},u.ByteStringBuffer.prototype.toString=function(){return u.decodeUtf8(this.bytes())},u.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=u.isArrayBuffer(e),n=u.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},u.DataBuffer.prototype.length=function(){return this.write-this.read},u.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},u.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},u.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},u.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},u.DataBuffer.prototype.putBytes=function(e,t){if(u.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(u.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof u.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&u.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof u.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=u.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=u.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=u.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},u.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},u.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},u.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},u.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},u.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},u.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},u.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},u.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},u.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},u.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},u.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},u.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},u.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},u.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},u.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},u.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},u.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},u.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},u.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},u.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},u.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},u.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},u.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},u.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},u.DataBuffer.prototype.copy=function(){return new u.DataBuffer(this)},u.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},u.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},u.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},u.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},u.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return u.binary.raw.encode(t);if("hex"===e)return u.binary.hex.encode(t);if("base64"===e)return u.binary.base64.encode(t);if("utf8"===e)return u.text.utf8.decode(t);if("utf16"===e)return u.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},u.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=u.encodeUtf8(e)),new u.ByteBuffer(e)},u.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},u.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o},u.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},u.bytesToHex=function(e){return u.createBuffer(e).toHex()},u.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";u.encode64=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},u.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,o="",a=0;a<e.length;)t=d[e.charCodeAt(a++)-43],r=d[e.charCodeAt(a++)-43],n=d[e.charCodeAt(a++)-43],i=d[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},u.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},u.decodeUtf8=function(e){return decodeURIComponent(escape(e))},u.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},u.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},u.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},u.binary.hex.encode=u.bytesToHex,u.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=r=r||0;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},u.binary.base64.encode=function(e,t){for(var r,n,i,o="",a="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],i=e[s++],o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},u.binary.base64.decode=function(e,t,r){var n,i,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=r=r||0;u<e.length;)n=d[e.charCodeAt(u++)-43],i=d[e.charCodeAt(u++)-43],o=d[e.charCodeAt(u++)-43],a=d[e.charCodeAt(u++)-43],s[c++]=n<<2|i>>4,64!==o&&(s[c++]=(15&i)<<4|o>>2,64!==a&&(s[c++]=(3&o)<<6|a));return t?c-r:s.subarray(0,c)},u.binary.base58.encode=function(e,t){return u.binary.baseN.encode(e,h,t)},u.binary.base58.decode=function(e,t){return u.binary.baseN.decode(e,h,t)},u.text={utf8:{},utf16:{}},u.text.utf8.encode=function(e,t,r){e=u.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},u.text.utf8.decode=function(e){return u.decodeUtf8(String.fromCharCode.apply(null,e))},u.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,a=r,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-r:n},u.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},u.deflate=function(e,t,r){if(t=u.decode64(e.deflate(u.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},u.inflate=function(e,t,r){var n=e.inflate(u.encode64(t)).rval;return null===n?null:u.decode64(n)};var p=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=u.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},y=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(u.decode64(r))),r},m=function(e,t,r,n){var i=y(e,t);null===i&&(i={}),i[r]=n,p(e,t,i)},v=function(e,t,r){var n=y(e,t);return null!==n&&(n=r in n?n[r]:null),n},b=function(e,t,r){var n=y(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),p(e,t,n)}},g=function(e,t){p(e,t,null)},_=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return i};u.setItem=function(e,t,r,n,i){_(m,arguments,i)},u.getItem=function(e,t,r,n){return _(v,arguments,n)},u.removeItem=function(e,t,r,n){_(b,arguments,n)},u.clearItems=function(e,t,r){_(g,arguments,r)},u.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var w=null;u.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),o=r[n].substring(a+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===w&&(w="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=w):t=r(e),t},u.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:u.getQueryVariables(r)}},u.makeRequest=function(e){var t=u.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},u.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},u.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var o=t[n++];if(n==i)e[o]=r;else{var a=o in e;(!a||a&&"object"!=typeof e[o]||a&&null===e[o])&&(e[o]={}),e=e[o]}}},u.getPath=function(e,t,r){for(var n=0,i=t.length,o=!0;o&&n<i&&"object"==typeof e&&null!==e;){var a=t[n++];(o=a in e)&&(e=e[a])}return o?e:r},u.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},u.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},u.format=function(e){for(var t,r,n=/%./g,i=0,o=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&o.push(r),a=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},u.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")},u.formatSize=function(e){return e=e>=1073741824?u.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?u.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?u.formatNumber(e/1024,0)+" KiB":u.formatNumber(e,0)+" bytes"},u.bytesFromIP=function(e){return-1!==e.indexOf(".")?u.bytesFromIPv4(e):-1!==e.indexOf(":")?u.bytesFromIPv6(e):null},u.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=u.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},u.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),n=u.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=u.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},u.bytesToIP=function(e){return 4===e.length?u.bytesToIPv4(e):16===e.length?u.bytesToIPv6(e):null},u.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},u.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=u.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=r[r.length-1],s=t.length;a&&s===a.end+1?(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:s,end:s})}t.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},u.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in u&&!e.update)return t(null,u.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return u.cores=navigator.hardwareConcurrency,t(null,u.cores);if("undefined"==typeof Worker)return u.cores=1,t(null,u.cores);if("undefined"==typeof Blob)return u.cores=2,t(null,u.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,o){if(0===i){var a=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return u.cores=Math.max(1,a),URL.revokeObjectURL(r),t(null,u.cores)}!function(e,t){for(var n=[],i=[],o=0;o<e;++o){var a=new Worker(r);a.addEventListener("message",function(r){if(i.push(r.data),i.length===e){for(var o=0;o<e;++o)n[o].terminate();t(null,i)}}),n.push(a)}for(var o=0;o<e;++o)n[o].postMessage(o)}(o,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],a=0;a<e;++a)if(n!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(o,r)),e(n,i-1,o)})}([],5,16)}}).call(this,r(10),r(16).setImmediate,r(9),r(7).Buffer)},function(e,t,r){"use strict";e.exports=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,r=0;const n=this.list.length;for(let e=0;e<n;++e){const i=this.list[e],o=this.left[i];(null===t||i>t)&&(o&&e>0&&i>this.list[e-1]||!o&&e<n-1&&i>this.list[e+1])&&(t=i,r=e)}if(null===t)this.done=!0;else{const e=this.left[t]?r-1:r+1;this.list[r]=this.list[e],this.list[e]=t;for(let e=0;e<n;++e)this.list[e]>t&&(this.left[this.list[e]]=!this.left[this.list[e]])}return e}}},function(e,t,r){"use strict";const n=r(92),i=r(159),o=r(161),a=r(94),s=r(39),u={subject:"s",object:"o",graph:"g"};e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e){const t=this;t.quads=e;const r={};for(const n of e)t.forEachComponent(n,e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(n):(r[i]=!0,t.blankNodeInfo[i]={quads:[n]})});let i=!0;for(;i;){i=!1,t.hashToBlankNodes={};for(const e in r){const r=t.hashFirstDegreeQuads(e);r in t.hashToBlankNodes?t.hashToBlankNodes[r].push(e):t.hashToBlankNodes[r]=[e]}const e=Object.keys(t.hashToBlankNodes).sort();for(let n=0;n<e.length;++n){const o=e[n],a=t.hashToBlankNodes[o];if(a.length>1)continue;const s=a[0];t.canonicalIssuer.getId(s),delete r[s],delete t.hashToBlankNodes[o],i=!0}}const o=Object.keys(t.hashToBlankNodes).sort();for(let e=0;e<o.length;++e){const r=[],i=o[e],a=t.hashToBlankNodes[i];for(let e=0;e<a.length;++e){const i=a[e];if(t.canonicalIssuer.hasId(i))continue;const o=new n("_:b");o.getId(i);const s=t.hashNDegreeQuads(i,o);r.push(s)}r.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0);for(let e=0;e<r.length;++e){const n=r[e];for(const e in n.issuer.existing)t.canonicalIssuer.getId(e)}}const s=[];for(let e=0;e<t.quads.length;++e){const r=t.quads[e];t.forEachComponent(r,e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))}),s.push(a.serializeQuad(r))}return s.sort(),s.join("")}hashFirstDegreeQuads(e){const t=this,r=t.blankNodeInfo[e];if("hash"in r)return r.hash;const n=[],o=r.quads;for(let r=0;r<o.length;++r){const i=o[r],s={predicate:i.predicate};t.forEachComponent(i,(r,n)=>{s[n]=t.modifyFirstDegreeComponent(e,r,n)}),n.push(a.serializeQuad(s))}n.sort();const s=new i(t.hashAlgorithm);for(let e=0;e<n.length;++e)s.update(n[e]);return r.hash=s.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){const o=this;let a;a=o.canonicalIssuer.hasId(e)?o.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):o.hashFirstDegreeQuads(e);const s=new i(o.hashAlgorithm);return s.update(n),"g"!==n&&s.update(o.getRelatedPredicate(t)),s.update(a),s.digest()}hashNDegreeQuads(e,t){const r=this,n=new i(r.hashAlgorithm),a=r.createHashToRelated(e,t),s=Object.keys(a).sort();for(let e=0;e<s.length;++e){const i=s[e];n.update(i);let u,c="";const l=new o(a[i]);for(;l.hasNext();){const e=l.next();let n=t.clone(),i="";const o=[];let a=!1;for(let t=0;t<e.length;++t){const s=e[t];if(r.canonicalIssuer.hasId(s)?i+=r.canonicalIssuer.getId(s):(n.hasId(s)||o.push(s),i+=n.getId(s)),0!==c.length&&i.length>=c.length&&i>c){a=!0;break}}if(!a){for(let e=0;e<o.length;++e){const t=o[e],s=r.hashNDegreeQuads(t,n);if(i+=n.getId(t),i+="<"+s.hash+">",n=s.issuer,0!==c.length&&i.length>=c.length&&i>c){a=!0;break}}a||(0===c.length||i<c)&&(c=i,u=n)}}n.update(c),t=u}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=s.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];for(const i in a){const o=a[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const s=o.value,c=u[i],l=r.hashRelatedBlankNode(s,a,t,c);l in n?n[l].push(s):n[l]=[s]}}return n}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}}},function(e,t,r){var n=r(352);e.exports=function(e,t,r){"function"==typeof t&&(r=t,t=null),r=r||function(){};var i="";return new n(function(n,o){e.on("data",function(e){i+="string"==typeof t?e.toString(t):e.toString()}),e.on("end",function(){n(i),r(null,i)}),e.on("error",function(e){o(e),r(e)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(353))},function(e,t,r){(function(e){!function(t){t.parser=function(e,t){return new o(e,t)},t.SAXParser=o,t.SAXStream=s,t.createStream=function(e,t){return new s(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,r){if(!(this instanceof o))return new o(e,r);!function(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=r||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=E.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(d)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),T(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),o.prototype={end:function(){N(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return I(this,"Cannot write after close. Assign an onready handler.");if(null===e)return N(this);"object"==typeof e&&(e=e.toString());var r=0,n="";for(;n=F(e,r++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case E.BEGIN:if(this.state=E.BEGIN_WHITESPACE,"\ufeff"===n)continue;L(this,n);continue;case E.BEGIN_WHITESPACE:L(this,n);continue;case E.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=r-1;n&&"<"!==n&&"&"!==n;)(n=F(e,r++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(o,r-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(v(n)||this.sawRoot&&!this.closedRoot||j(this,"Text data outside of root node."),"&"===n?this.state=E.TEXT_ENTITY:this.textNode+=n):(this.state=E.OPEN_WAKA,this.startTagPosition=this.position);continue;case E.SCRIPT:"<"===n?this.state=E.SCRIPT_ENDING:this.script+=n;continue;case E.SCRIPT_ENDING:"/"===n?this.state=E.CLOSE_TAG:(this.script+="<"+n,this.state=E.SCRIPT);continue;case E.OPEN_WAKA:if("!"===n)this.state=E.SGML_DECL,this.sgmlDecl="";else if(v(n));else if(_(h,n))this.state=E.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=E.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=E.PROC_INST,this.procInstName=this.procInstBody="";else{if(j(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;n=new Array(a).join(" ")+n}this.textNode+="<"+n,this.state=E.TEXT}continue;case E.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===u?(O(this,"onopencdata"),this.state=E.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=E.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+n).toUpperCase()===c?(this.state=E.DOCTYPE,(this.doctype||this.sawRoot)&&j(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(O(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=E.TEXT):b(n)?(this.state=E.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case E.SGML_DECL_QUOTED:n===this.q&&(this.state=E.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case E.DOCTYPE:">"===n?(this.state=E.TEXT,O(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=E.DOCTYPE_DTD:b(n)&&(this.state=E.DOCTYPE_QUOTED,this.q=n));continue;case E.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=E.DOCTYPE:b(n)&&(this.state=E.DOCTYPE_DTD_QUOTED,this.q=n);continue;case E.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=E.DOCTYPE_DTD,this.q="");continue;case E.COMMENT:"-"===n?this.state=E.COMMENT_ENDING:this.comment+=n;continue;case E.COMMENT_ENDING:"-"===n?(this.state=E.COMMENT_ENDED,this.comment=A(this.opt,this.comment),this.comment&&O(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=E.COMMENT);continue;case E.COMMENT_ENDED:">"!==n?(j(this,"Malformed comment"),this.comment+="--"+n,this.state=E.COMMENT):this.state=E.TEXT;continue;case E.CDATA:"]"===n?this.state=E.CDATA_ENDING:this.cdata+=n;continue;case E.CDATA_ENDING:"]"===n?this.state=E.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=E.CDATA);continue;case E.CDATA_ENDING_2:">"===n?(this.cdata&&O(this,"oncdata",this.cdata),O(this,"onclosecdata"),this.cdata="",this.state=E.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=E.CDATA);continue;case E.PROC_INST:"?"===n?this.state=E.PROC_INST_ENDING:v(n)?this.state=E.PROC_INST_BODY:this.procInstName+=n;continue;case E.PROC_INST_BODY:if(!this.procInstBody&&v(n))continue;"?"===n?this.state=E.PROC_INST_ENDING:this.procInstBody+=n;continue;case E.PROC_INST_ENDING:">"===n?(O(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=E.TEXT):(this.procInstBody+="?"+n,this.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:_(p,n)?this.tagName+=n:(k(this),">"===n?D(this):"/"===n?this.state=E.OPEN_TAG_SLASH:(v(n)||j(this,"Invalid character in tag name"),this.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:">"===n?(D(this,!0),M(this)):(j(this,"Forward-slash in opening tag not followed by >"),this.state=E.ATTRIB);continue;case E.ATTRIB:if(v(n))continue;">"===n?D(this):"/"===n?this.state=E.OPEN_TAG_SLASH:_(h,n)?(this.attribName=n,this.attribValue="",this.state=E.ATTRIB_NAME):j(this,"Invalid attribute name");continue;case E.ATTRIB_NAME:"="===n?this.state=E.ATTRIB_VALUE:">"===n?(j(this,"Attribute without value"),this.attribValue=this.attribName,P(this),D(this)):v(n)?this.state=E.ATTRIB_NAME_SAW_WHITE:_(p,n)?this.attribName+=n:j(this,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=E.ATTRIB_VALUE;else{if(v(n))continue;j(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",O(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?D(this):_(h,n)?(this.attribName=n,this.state=E.ATTRIB_NAME):(j(this,"Invalid attribute name"),this.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(v(n))continue;b(n)?(this.q=n,this.state=E.ATTRIB_VALUE_QUOTED):(j(this,"Unquoted attribute value"),this.state=E.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case E.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=E.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}P(this),this.q="",this.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:v(n)?this.state=E.ATTRIB:">"===n?D(this):"/"===n?this.state=E.OPEN_TAG_SLASH:_(h,n)?(j(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=E.ATTRIB_NAME):j(this,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!g(n)){"&"===n?this.state=E.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}P(this),">"===n?D(this):this.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(this.tagName)">"===n?M(this):_(p,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=E.SCRIPT):(v(n)||j(this,"Invalid tagname in closing tag"),this.state=E.CLOSE_TAG_SAW_WHITE);else{if(v(n))continue;w(h,n)?this.script?(this.script+="</"+n,this.state=E.SCRIPT):j(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case E.CLOSE_TAG_SAW_WHITE:if(v(n))continue;">"===n?M(this):j(this,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var s,l;switch(this.state){case E.TEXT_ENTITY:s=E.TEXT,l="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:s=E.ATTRIB_VALUE_QUOTED,l="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:s=E.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===n?(this[l]+=C(this),this.entity="",this.state=s):_(this.entity.length?m:y,n)?this.entity+=n:(j(this,"Invalid character in entity name"),this[l]+="&"+this.entity+n,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,o=0,a=i.length;o<a;o++){var s=e[i[o]].length;if(s>r)switch(i[o]){case"textNode":x(e);break;case"cdata":O(e,"oncdata",e.cdata),e.cdata="";break;case"script":O(e,"onscript",e.script),e.script="";break;default:I(e,"Max buffer length exceeded: "+i[o])}n=Math.max(n,s)}var u=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=u+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function(e){x(e),""!==e.cdata&&(O(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(O(e,"onscript",e.script),e.script="")}(this)}};try{n=r(5).Stream}catch(e){n=function(){}}var a=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function s(e,t){if(!(this instanceof s))return new s(e,t);n.apply(this),this._parser=new o(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,a.forEach(function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})})}s.prototype=Object.create(n.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r(68).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===a.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var u="[CDATA[",c="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",d={xml:l,xmlns:f},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function v(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function b(e){return'"'===e||"'"===e}function g(e){return">"===e||v(e)}function _(e,t){return e.test(t)}function w(e,t){return!_(e,t)}var E=0;for(var S in t.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n}),t.STATE)t.STATE[t.STATE[S]]=S;function T(e,t,r){e[t]&&e[t](r)}function O(e,t,r){e.textNode&&x(e),T(e,t,r)}function x(e){e.textNode=A(e.opt,e.textNode),e.textNode&&T(e,"ontext",e.textNode),e.textNode=""}function A(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return x(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,T(e,"onerror",t),e}function N(e){return e.sawRoot&&!e.closedRoot&&j(e,"Unclosed root tag"),e.state!==E.BEGIN&&e.state!==E.BEGIN_WHITESPACE&&e.state!==E.TEXT&&I(e,"Unexpected end"),x(e),e.c="",e.closed=!0,T(e,"onend"),o.call(e,e.strict,e.opt),e}function j(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&I(e,t)}function k(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,O(e,"onopentagstart",r)}function R(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function P(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=R(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)j(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==f)j(e,"xmlns: prefix must be bound to "+f+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,O(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function D(e,t){if(e.opt.xmlns){var r=e.tag,n=R(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(j(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){O(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var o=0,a=e.attribList.length;o<a;o++){var s=e.attribList[o],u=s[0],c=s[1],l=R(u,!0),f=l.prefix,d=l.local,h=""===f?"":r.ns[f]||"",p={name:u,value:c,prefix:f,local:d,uri:h};f&&"xmlns"!==f&&!h&&(j(e,"Unbound namespace prefix: "+JSON.stringify(f)),p.uri=f),e.tag.attributes[u]=p,O(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),O(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=E.TEXT:e.state=E.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function M(e){if(!e.tagName)return j(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=E.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=E.SCRIPT);O(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;j(e,"Unexpected close tag")}if(t<0)return j(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=E.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,O(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach(function(t){var r=o.ns[t];O(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=E.TEXT}function C(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r?(j(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function L(e,t){"<"===t?(e.state=E.OPEN_WAKA,e.startTagPosition=e.position):v(t)||(j(e,"Non-whitespace before first tag."),e.textNode=t,e.state=E.TEXT)}function F(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}E=t.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,r=function(){var r,n,i=[],o=-1,a=arguments.length;if(!a)return"";for(var s="";++o<a;){var u=Number(arguments[o]);if(!isFinite(u)||u<0||u>1114111||t(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?i.push(u):(r=55296+((u-=65536)>>10),n=u%1024+56320,i.push(r,n)),(o+1===a||i.length>16384)&&(s+=e.apply(null,i),i.length=0)}return s};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()}(t)}).call(this,r(7).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(356))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(357))},function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Function]",s="[object GeneratorFunction]",u=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")();function d(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,y,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function h(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function p(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function y(e){return e!=e}function m(e,t){return e.has(t)}function v(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var b=Array.prototype,g=Function.prototype,_=Object.prototype,w=f["__core-js_shared__"],E=function(){var e=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),S=g.toString,T=_.hasOwnProperty,O=_.toString,x=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=f.Symbol,I=_.propertyIsEnumerable,N=b.splice,j=A?A.isConcatSpreadable:void 0,k=Math.max,R=z(f,"Map"),P=z(f,"Set"),D=z(Object,"create");function M(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function C(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function F(e){var t=-1,r=e?e.length:0;for(this.__data__=new L;++t<r;)this.add(e[t])}function B(e,t){for(var r=e.length;r--;)if(H(e[r][0],t))return r;return-1}function q(e){return!(!K(e)||function(e){return!!E&&E in e}(e))&&(Y(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?x:u).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}M.prototype.clear=function(){this.__data__=D?D(null):{}},M.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},M.prototype.get=function(e){var t=this.__data__;if(D){var r=t[e];return r===n?void 0:r}return T.call(t,e)?t[e]:void 0},M.prototype.has=function(e){var t=this.__data__;return D?void 0!==t[e]:T.call(t,e)},M.prototype.set=function(e,t){return this.__data__[e]=D&&void 0===t?n:t,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(e){var t=this.__data__,r=B(t,e);return!(r<0||(r==t.length-1?t.pop():N.call(t,r,1),0))},C.prototype.get=function(e){var t=this.__data__,r=B(t,e);return r<0?void 0:t[r][1]},C.prototype.has=function(e){return B(this.__data__,e)>-1},C.prototype.set=function(e,t){var r=this.__data__,n=B(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},L.prototype.clear=function(){this.__data__={hash:new M,map:new(R||C),string:new M}},L.prototype.delete=function(e){return V(this,e).delete(e)},L.prototype.get=function(e){return V(this,e).get(e)},L.prototype.has=function(e){return V(this,e).has(e)},L.prototype.set=function(e,t){return V(this,e).set(e,t),this},F.prototype.add=F.prototype.push=function(e){return this.__data__.set(e,n),this},F.prototype.has=function(e){return this.__data__.has(e)};var U=P&&1/v(new P([,-0]))[1]==1/0?function(e){return new P(e)}:function(){};function V(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function z(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return q(r)?r:void 0}function Q(e){return $(e)||function(e){return X(e)&&T.call(e,"callee")&&(!I.call(e,"callee")||O.call(e)==o)}(e)||!!(j&&e&&e[j])}var G=function(e,t){return t=k(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=k(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=o,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}(function(e){return function(e,t,n){var i=-1,o=d,a=e.length,s=!0,u=[],c=u;if(n)s=!1,o=h;else if(a>=r){var l=t?null:U(e);if(l)return v(l);s=!1,o=m,c=new F}else c=t?[]:u;e:for(;++i<a;){var f=e[i],p=t?t(f):f;if(f=n||0!==f?f:0,s&&p==p){for(var y=c.length;y--;)if(c[y]===p)continue e;t&&c.push(p),u.push(f)}else o(c,p,n)||(c!==u&&c.push(p),u.push(f))}return u}(function e(t,r,n,i,o){var a=-1,s=t.length;for(n||(n=Q),o||(o=[]);++a<s;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,i,o):p(o,u):i||(o[o.length]=u)}return o}(e,1,X,!0))});function H(e,t){return e===t||e!=e&&t!=t}var $=Array.isArray;function J(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Y(e)}function X(e){return function(e){return!!e&&"object"==typeof e}(e)&&J(e)}function Y(e){var t=K(e)?O.call(e):"";return t==a||t==s}function K(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=G}).call(this,r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorRdfResolveQuadPattern=class extends n.Actor{constructor(e){super(e)}static cachifyMetadata(e){let t=null;return()=>t||(t=e())}getContextSources(e){return e?e.get(t.KEY_CONTEXT_SOURCES):null}getContextSource(e){return e?e.get(t.KEY_CONTEXT_SOURCE):null}hasContextSingleSource(e,t){const r=this.getContextSource(t);return!(!r||r.type!==e||!r.value)}},t.KEY_CONTEXT_SOURCES="@comunica/bus-rdf-resolve-quad-pattern:sources",t.KEY_CONTEXT_SOURCE="@comunica/bus-rdf-resolve-quad-pattern:source"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorHttpInvalidate=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(370))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(371))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);class i extends n.Actor{constructor(e){super(e)}static getSafeBindings(e){return i.validateQueryOutput(e,"bindings"),e}static getSafeQuads(e){return i.validateQueryOutput(e,"quads"),e}static getSafeBoolean(e){return i.validateQueryOutput(e,"boolean"),e}static cachifyMetadata(e){let t=null;return()=>t||(t=e())}static validateQueryOutput(e,t){if(e.type!==t)throw new Error("Invalid query output type: Expected '"+t+"' but got '"+e.type+"'")}}t.ActorQueryOperation=i,t.KEY_CONTEXT_BGP_CURRENTMETADATA="@comunica/bus-query-operation:bgpCurrentMetadata",t.KEY_CONTEXT_BGP_PARENTMETADATA="@comunica/bus-query-operation:bgpParentMetadata",t.KEY_CONTEXT_BGP_PATTERNBINDINGS="@comunica/bus-query-operation:bgpPatternBindings",t.KEY_CONTEXT_PATTERN_PARENTMETADATA="@comunica/bus-query-operation:patternParentMetadata"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(173);t.ActorQueryOperationTyped=class extends n.ActorQueryOperation{constructor(e,t){if(super(e),this.operationName=t,!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in the query operation action: "+r(36).inspect(e));if(e.operation.type!==this.operationName)throw new Error("Actor "+this.name+" only supports "+this.operationName+" operations, but got "+e.operation.type);const t=e.operation;return this.testOperation(t,e.context)}async run(e){const t=e.operation,r=await this.runOperation(t,e.context);return r.metadata&&(r.metadata=n.ActorQueryOperation.cachifyMetadata(r.metadata)),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(374))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(376))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(74),i=r(97);class o{static inScopeVariables(e){const t=[];function r(e){t.find(t=>e.value===t.value)||t.push(e)}return o.recurseOperation(e,{[n.types.EXPRESSION]:e=>{let t=e;if("aggregate"===t.expressionType&&t.variable){r(t.variable)}return!0},[n.types.EXTEND]:e=>{return r(e.variable),!0},[n.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.GROUP]:e=>{return e.variables.forEach(r),!0},[n.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),!0},[n.types.PATTERN]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.predicate.termType&&r(t.predicate),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),!0},[n.types.PROJECT]:e=>{return e.variables.forEach(r),!1},[n.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.VALUES]:e=>{return e.variables.forEach(r),!0}}),t}static recurseOperation(e,t){let r=e,i=!0;if(t[e.type]&&(i=t[e.type](e)),!i)return;let a=e=>o.recurseOperation(e,t);switch(r.type){case n.types.ALT:const e=r;a(e.left),a(e.right);break;case n.types.ASK:a(r.input);break;case n.types.BGP:r.patterns.forEach(a);break;case n.types.CONSTRUCT:const t=r;a(t.input),t.template.map(a);break;case n.types.DESCRIBE:a(r.input);break;case n.types.DISTINCT:a(r.input);break;case n.types.EXPRESSION:const i=r;if(i.expressionType===n.expressionTypes.EXISTENCE){a(i.input)}break;case n.types.EXTEND:const o=r;a(o.input),a(o.expression);break;case n.types.FILTER:const s=r;a(s.input),a(s.expression);break;case n.types.FROM:a(r.input);break;case n.types.GRAPH:a(r.input);break;case n.types.GROUP:const u=r;a(u.input),u.aggregates.forEach(a);break;case n.types.INV:a(r.path);break;case n.types.JOIN:const c=r;a(c.left),a(c.right);break;case n.types.LEFT_JOIN:const l=r;a(l.left),a(l.right),l.expression&&a(l.expression);break;case n.types.LINK:break;case n.types.MINUS:const f=r;a(f.left),a(f.right);break;case n.types.NPS:break;case n.types.ONE_OR_MORE_PATH:a(r.path);break;case n.types.ORDER_BY:const d=r;a(d.input),d.expressions.forEach(a);break;case n.types.PATH:a(r.predicate);break;case n.types.PATTERN:break;case n.types.PROJECT:a(r.input);break;case n.types.REDUCED:a(r.input);break;case n.types.SEQ:const h=r;a(h.left),a(h.right);break;case n.types.SERVICE:a(r.input);break;case n.types.SLICE:a(r.input);break;case n.types.UNION:const p=r;a(p.left),a(p.right);break;case n.types.VALUES:break;case n.types.ZERO_OR_MORE_PATH:a(r.path);break;case n.types.ZERO_OR_ONE_PATH:a(r.path);break;default:throw new Error("Unknown Operation type "+r.type)}}static mapOperation(e,t,r){let a=e,s=!0;if(r=r||new i.default,t[e.type]&&({result:a,recurse:s}=t[e.type](e,r)),!s)return a;let u=e=>o.mapOperation(e,t,r);switch(a.type){case n.types.ALT:const e=a;return r.createAlt(u(e.left),u(e.right));case n.types.ASK:const i=a;return r.createAsk(u(i.input));case n.types.BGP:const s=a;return r.createBgp(s.patterns.map(u));case n.types.CONSTRUCT:const c=a;return r.createConstruct(u(c.input),c.template.map(u));case n.types.DESCRIBE:const l=a;return r.createDescribe(u(l.input),l.terms);case n.types.DISTINCT:const f=a;return r.createDistinct(u(f.input));case n.types.EXPRESSION:const d=a;return o.mapExpression(d,t,r);case n.types.EXTEND:const h=a;return r.createExtend(u(h.input),h.variable,u(h.expression));case n.types.FILTER:const p=a;return r.createFilter(u(p.input),u(p.expression));case n.types.FROM:const y=a;return r.createFrom(u(y.input),[].concat(y.default),[].concat(y.named));case n.types.GRAPH:const m=a;return r.createGraph(u(m.input),m.name);case n.types.GROUP:const v=a;return r.createGroup(u(v.input),[].concat(v.variables),v.aggregates.map(u));case n.types.INV:const b=a;return r.createInv(u(b.path));case n.types.JOIN:const g=a;return r.createJoin(u(g.left),u(g.right));case n.types.LEFT_JOIN:const _=a;return r.createLeftJoin(u(_.left),u(_.right),_.expression?u(_.expression):void 0);case n.types.LINK:const w=a;return r.createLink(w.iri);case n.types.MINUS:const E=a;return r.createMinus(u(E.left),u(E.right));case n.types.NPS:const S=a;return r.createNps([].concat(S.iris));case n.types.ONE_OR_MORE_PATH:const T=a;return r.createOneOrMorePath(u(T.path));case n.types.ORDER_BY:const O=a;return r.createOrderBy(u(O.input),O.expressions.map(u));case n.types.PATH:const x=a;return r.createPath(x.subject,u(x.predicate),x.object,x.graph);case n.types.PATTERN:const A=a;return r.createPattern(A.subject,A.predicate,A.object,A.graph);case n.types.PROJECT:const I=a;return r.createProject(u(I.input),[].concat(I.variables));case n.types.REDUCED:const N=a;return r.createReduced(u(N.input));case n.types.SEQ:const j=a;return r.createSeq(u(j.left),u(j.right));case n.types.SERVICE:const k=a;return r.createService(u(k.input),k.name,k.silent);case n.types.SLICE:const R=a;return r.createSlice(u(R.input),R.start,R.length);case n.types.UNION:const P=a;return r.createUnion(u(P.left),u(P.right));case n.types.VALUES:const D=a;return r.createValues([].concat(D.variables),D.bindings.map(e=>Object.assign({},e)));case n.types.ZERO_OR_MORE_PATH:const M=a;return r.createZeroOrMorePath(u(M.path));case n.types.ZERO_OR_ONE_PATH:const C=a;return r.createZeroOrOnePath(u(C.path));default:throw new Error("Unknown Operation type "+a.type)}}static mapExpression(e,t,r){let i=e=>o.mapOperation(e,t,r);switch(e.expressionType){case n.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,i(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,i(t.expression),t.distinct,t.separator);case n.expressionTypes.EXISTENCE:const o=e;return r.createExistenceExpression(o.not,i(o.input));case n.expressionTypes.NAMED:const a=e;return r.createNamedExpression(a.name,a.args.map(i));case n.expressionTypes.OPERATOR:const s=e;return r.createOperatorExpression(s.operator,s.args.map(i));case n.expressionTypes.TERM:const u=e;return r.createTermExpression(u.term);default:throw new Error("Unknown Expression type "+e.expressionType)}}static createUniqueVariable(e,t,r){let n=0,i=e;for(;t[i];)i=e+n++;return r.variable(i)}}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(386))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(387))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(388))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(390))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(391))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(392))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5);t.SparqlJsonBindingsTransformer=class extends n.Transform{constructor(e){super({objectMode:!0}),this.parser=e}_transform(e,t,r){r(null,this.parser.parseJsonBindings(e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(397))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(398))},function(e,t){e.exports=function(e){return new Promise(function(t,r){var n=[];e.on("data",function(e){n.push(e)}),e.on("error",r),e.on("end",function(){t(n)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5);t.SparqlXmlBindingsTransformer=class extends n.Transform{constructor(e){super({objectMode:!0}),this.parser=e}_transform(e,t,r){let n;try{n=this.parser.parseXmlBindings(e)}catch(e){return r(e)}r(null,n)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(409))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorRdfDereference=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(412))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(415))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(416))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(420))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8);class i extends n.BufferedIterator{constructor(e,t,r,n,o){super(),this.store=e,this.subject=i.nullifyVariables(t),this.predicate=i.nullifyVariables(r),this.object=i.nullifyVariables(n),this.graph=i.nullifyVariables(o)}static nullifyVariables(e){return e&&"Variable"!==e.termType?e:null}_read(e,t){this.store.forEach(e=>this._push(e),this.subject,this.predicate,this.object,this.graph),t(),this.close()}}t.N3StoreIterator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(425))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(6),o=r(8),a=r(12),s=r(14);class u extends n.ActorQueryOperationTypedMediated{constructor(e,t){super(e,"path"),this.predicateType=t}async testOperation(e,t){if(e.predicate.type!==this.predicateType)throw new Error("This Actor only supports "+this.predicateType+" Path operations.");return!0}generateBlankNode(e,t){return t?!e||e.subject.value!==t&&e.object.value!==t?i.blankNode(t):this.generateBlankNode(e,t+"b"):this.generateBlankNode(e,"b")}async ALPeval(e,t,r){const n=new o.BufferedIterator;return await this.ALP(e,t,r,{},n,{count:0}),n}async ALP(e,t,r,i,o,s){const c=a.termToString(e);if(i[c])return;o._push(e),i[c]=e;const l=this.generateBlankNode(),f=a.termToString(l),d=u.FACTORY.createPath(e,t,l),h=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:d,context:r}));s.count++,h.bindingsStream.on("data",async e=>{const n=e.get(f);await this.ALP(n,t,r,i,o,s)}),h.bindingsStream.on("end",()=>{0==--s.count&&o.close()})}}u.FACTORY=new s.Factory,t.ActorAbstractPath=u},function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,d,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function f(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function d(e){return e!=e}function h(e,t){return e.has(t)}function p(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var y=Array.prototype,m=Function.prototype,v=Object.prototype,b=c["__core-js_shared__"],g=function(){var e=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=m.toString,w=v.hasOwnProperty,E=v.toString,S=RegExp("^"+_.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=y.splice,O=C(c,"Map"),x=C(c,"Set"),A=C(Object,"create");function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,r=e?e.length:0;for(this.__data__=new j;++t<r;)this.add(e[t])}function R(e,t){for(var r=e.length;r--;)if(L(e[r][0],t))return r;return-1}function P(e){return!(!F(e)||function(e){return!!g&&g in e}(e))&&(function(e){var t=F(e)?E.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:a).test(function(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}I.prototype.clear=function(){this.__data__=A?A(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(A){var r=t[e];return r===n?void 0:r}return w.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return A?void 0!==t[e]:w.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=A&&void 0===t?n:t,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(e){var t=this.__data__,r=R(t,e);return!(r<0||(r==t.length-1?t.pop():T.call(t,r,1),0))},N.prototype.get=function(e){var t=this.__data__,r=R(t,e);return r<0?void 0:t[r][1]},N.prototype.has=function(e){return R(this.__data__,e)>-1},N.prototype.set=function(e,t){var r=this.__data__,n=R(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new I,map:new(O||N),string:new I}},j.prototype.delete=function(e){return M(this,e).delete(e)},j.prototype.get=function(e){return M(this,e).get(e)},j.prototype.has=function(e){return M(this,e).has(e)},j.prototype.set=function(e,t){return M(this,e).set(e,t),this},k.prototype.add=k.prototype.push=function(e){return this.__data__.set(e,n),this},k.prototype.has=function(e){return this.__data__.has(e)};var D=x&&1/p(new x([,-0]))[1]==1/0?function(e){return new x(e)}:function(){};function M(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function C(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return P(r)?r:void 0}function L(e,t){return e===t||e!=e&&t!=t}function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return e&&e.length?function(e,t,n){var i=-1,o=l,a=e.length,s=!0,u=[],c=u;if(n)s=!1,o=f;else if(a>=r){var d=t?null:D(e);if(d)return p(d);s=!1,o=h,c=new k}else c=t?[]:u;e:for(;++i<a;){var y=e[i],m=t?t(y):y;if(y=n||0!==y?y:0,s&&m==m){for(var v=c.length;v--;)if(c[v]===m)continue e;t&&c.push(m),u.push(y)}else o(c,m,n)||(c!==u&&c.push(m),u.push(y))}return u}(e):[]}}).call(this,r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(426))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(427))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(428))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(429))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(430))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(431))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(432))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(433))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(434))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(435))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(436))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(437))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(438))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(440))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(442))},function(e,t,r){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(49),t.createHash=t.Hash=r(50),t.createHmac=t.Hmac=r(218);var n=r(449),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=r(221);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=r(451);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var u=r(468);t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var c=r(473);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=r(511);var l=r(512);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var f=r(515);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,r){"use strict";var n=r(3).Buffer,i=r(5).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(2)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,r){var n=r(2),i=r(51),o=r(3).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,u=0|this._f,y=0|this._g,m=0|this._h,v=0;v<16;++v)t[v]=e.readInt32BE(4*v);for(;v<64;++v)t[v]=p(t[v-2])+t[v-7]+h(t[v-15])+t[v-16]|0;for(var b=0;b<64;++b){var g=m+d(s)+c(s,u,y)+a[b]+t[b]|0,_=f(r)+l(r,n,i)|0;m=y,y=u,u=s,s=o+g|0,o=i,i=n,n=r,r=g+_|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=u+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},function(e,t,r){var n=r(2),i=r(51),o=r(3).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function c(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,b=0|this._gh,g=0|this._hh,_=0|this._al,w=0|this._bl,E=0|this._cl,S=0|this._dl,T=0|this._el,O=0|this._fl,x=0|this._gl,A=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var N=t[I-30],j=t[I-30+1],k=h(N,j),R=p(j,N),P=y(N=t[I-4],j=t[I-4+1]),D=m(j,N),M=t[I-14],C=t[I-14+1],L=t[I-32],F=t[I-32+1],B=R+C|0,q=k+M+v(B,R)|0;q=(q=q+P+v(B=B+D|0,D)|0)+L+v(B=B+F|0,F)|0,t[I]=q,t[I+1]=B}for(var U=0;U<160;U+=2){q=t[U],B=t[U+1];var V=l(r,n,i),z=l(_,w,E),Q=f(r,_),G=f(_,r),H=d(s,T),$=d(T,s),J=a[U],X=a[U+1],Y=c(s,u,b),K=c(T,O,x),W=A+$|0,Z=g+H+v(W,A)|0;Z=(Z=(Z=Z+Y+v(W=W+K|0,K)|0)+J+v(W=W+X|0,X)|0)+q+v(W=W+B|0,B)|0;var ee=G+z|0,te=Q+V+v(ee,G)|0;g=b,A=x,b=u,x=O,u=s,O=T,s=o+Z+v(T=S+W|0,S)|0,o=i,S=E,i=n,E=w,n=r,w=_,r=Z+te+v(_=W+ee|0,W)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+T|0,this._fl=this._fl+O|0,this._gl=this._gl+x|0,this._hl=this._hl+A|0,this._ah=this._ah+r+v(this._al,_)|0,this._bh=this._bh+n+v(this._bl,w)|0,this._ch=this._ch+i+v(this._cl,E)|0,this._dh=this._dh+o+v(this._dl,S)|0,this._eh=this._eh+s+v(this._el,T)|0,this._fh=this._fh+u+v(this._fl,O)|0,this._gh=this._gh+b+v(this._gl,x)|0,this._hh=this._hh+g+v(this._hl,A)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},function(e,t,r){"use strict";var n=r(2),i=r(448),o=r(34),a=r(3).Buffer,s=r(219),u=r(106),c=r(107),l=a.alloc(128);function f(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new u:c(e)).update(t).digest():t.length<r&&(t=a.concat([t,l],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),s=0;s<r;s++)n[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new u:c(e),this._hash.update(n)}n(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(s,t):new f(e,t)}},function(e,t,r){var n=r(105);e.exports=function(e){return(new n).update(e).digest()}},function(e){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,r){t.pbkdf2=r(450),t.pbkdf2Sync=r(224)},function(e,t,r){(function(t){var r=Math.pow(2,30)-1;function n(e,r){if("string"!=typeof e&&!t.isBuffer(e))throw new TypeError(r+" must be a buffer or string")}e.exports=function(e,t,i,o){if(n(e,"Password"),n(t,"Salt"),"number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>r||o!=o)throw new TypeError("Bad key length")}}).call(this,r(7).Buffer)},function(e,t,r){(function(t){var r;t.browser?r="utf-8":r=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=r}).call(this,r(10))},function(e,t,r){var n=r(219),i=r(106),o=r(107),a=r(222),s=r(223),u=r(3).Buffer,c=u.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,r){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?n:function(t){return o(e).update(t).digest()}}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=a(t):t.length<s&&(t=u.concat([t,c],s));for(var f=u.allocUnsafe(s+l[e]),d=u.allocUnsafe(s+l[e]),h=0;h<s;h++)f[h]=54^t[h],d[h]=92^t[h];var p=u.allocUnsafe(s+r+4);f.copy(p,0,0,s),this.ipad1=p,this.ipad2=f,this.opad=d,this.alg=e,this.blocksize=s,this.hash=a,this.size=l[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){a(e,t,r,n),u.isBuffer(e)||(e=u.from(e,s)),u.isBuffer(t)||(t=u.from(t,s));var o=new f(i=i||"sha1",e,t.length),c=u.allocUnsafe(n),d=u.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var h=0,p=l[i],y=Math.ceil(n/p),m=1;m<=y;m++){d.writeUInt32BE(m,t.length);for(var v=o.run(d,o.ipad1),b=v,g=1;g<r;g++){b=o.run(b,o.ipad2);for(var _=0;_<p;_++)v[_]^=b[_]}v.copy(c,h),h+=p}return c}},function(e,t,r){var n=r(60),i=r(3).Buffer,o=r(226);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var s=0;s<r;s++){var u=a(e),c=o+16*s;e._cache.writeUInt32BE(u[0],c+0),e._cache.writeUInt32BE(u[1],c+4),e._cache.writeUInt32BE(u[2],c+8),e._cache.writeUInt32BE(u[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}},function(e,t){e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},function(e){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,r){var n=r(76),i=r(3).Buffer,o=r(34),a=r(2),s=r(465),u=r(60),c=r(226);function l(e,t,r,a){o.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(t);var l=this._cipher.encryptBlock(u);this._ghash=new s(l),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new s(r),o=t.length,a=o%16;n.update(t),a&&(a=16-a,n.update(i.alloc(a,0))),n.update(i.alloc(8,0));var u=8*o,l=i.alloc(8);l.writeUIntBE(u,0,8),n.update(l),e._finID=n.state;var f=i.from(e._finID);return c(f),f}(this,r,l),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,o),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e,t,r){var n=r(76),i=r(3).Buffer,o=r(34);function a(e,t,r,a){o.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}r(2)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,r){var n=r(49);e.exports=b,b.simpleSieve=m,b.fermatTest=v;var i=r(11),o=new i(24),a=new(r(231)),s=new i(1),u=new i(2),c=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function y(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function m(e){for(var t=y(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function v(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(s),r.testn(1)||r.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;r.mod(l).cmp(f);)r.iadd(h)}else for(;r.mod(o).cmp(d);)r.iadd(h);if(m(p=r.shrn(1))&&m(r)&&v(p)&&v(r)&&a.test(p)&&a.test(r))return r}}},function(e,t,r){var n=r(11),i=r(232);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var c=e.shrn(u),l=s.toRed(o);t>0;t--){var f=this._randrange(new n(2),s);r&&r(f);var d=f.toRed(o).redPow(c);if(0!==d.cmp(a)&&0!==d.cmp(l)){for(var h=1;h<u;h++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(l))break}if(h===u)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),c=a.toRed(i);t>0;t--){var l=this._randrange(new n(2),a),f=e.gcd(l);if(0!==f.cmpn(1))return f;var d=l.toRed(i).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,r){var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(470);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,r){"use strict";var n=t;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},n.zero2=i,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,r){"use strict";var n=r(24).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function a(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?a(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(24),i=r(61),o=r(234),a=r(20),s=n.sum32,u=n.sum32_4,c=n.sum32_5,l=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,y=o.g1_256,m=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(b,m),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(y(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],v=this.h[3],b=this.h[4],g=this.h[5],_=this.h[6],w=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var E=c(w,h(b),l(b,g,_),this.k[n],r[n]),S=s(d(i),f(i,o,m));w=_,_=g,g=b,b=s(v,E),v=m,m=o,o=i,i=s(E,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],v),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],g),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],w)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(24),i=r(61),o=r(20),a=n.rotr64_hi,s=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,l=n.sum64,f=n.sum64_hi,d=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,y=n.sum64_5_hi,m=n.sum64_5_lo,v=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function _(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function E(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function S(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function T(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function N(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function j(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,19)^s(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(g,v),e.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=j(r[n-4],r[n-3]),o=k(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],u=I(r[n-30],r[n-29]),c=N(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=h(i,o,a,s,u,c,l,f),r[n+1]=p(i,o,a,s,u,c,l,f)}},g.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],v=this.h[8],b=this.h[9],g=this.h[10],I=this.h[11],N=this.h[12],j=this.h[13],k=this.h[14],R=this.h[15];o(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var D=k,M=R,C=x(v,b),L=A(v,b),F=_(v,b,g,I,N),B=w(v,b,g,I,N,j),q=this.k[P],U=this.k[P+1],V=r[P],z=r[P+1],Q=y(D,M,C,L,F,B,q,U,V,z),G=m(D,M,C,L,F,B,q,U,V,z);D=T(n,i),M=O(n,i),C=E(n,i,a,s,u),L=S(n,i,a,s,u,c);var H=f(D,M,C,L),$=d(D,M,C,L);k=N,R=j,N=g,j=I,g=v,I=b,v=f(h,p,Q,G),b=d(p,p,Q,G),h=u,p=c,u=a,c=s,a=n,s=i,n=f(Q,G,H,$),i=d(Q,G,H,$)}l(this.h,0,n,i),l(this.h,2,a,s),l(this.h,4,u,c),l(this.h,6,h,p),l(this.h,8,v,b),l(this.h,10,g,I),l(this.h,12,N,j),l(this.h,14,k,R)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){var n=r(2),i=r(63).Reporter,o=r(7).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(a,i),t.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new a(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,r){var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r}),t},n.der=r(502)},function(e,t,r){var n=r(2),i=r(62),o=i.base,a=i.bignum,s=i.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function l(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=s.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var o=r;for(r=0;128==(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:s.tag[r]}}function f(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}e.exports=u,u.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(c,o.Node),c.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},c.prototype._decodeTag=function(e,t,r){var n=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=f(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var r=l(e,t);if(e.isError(r))return r;var n,i=f(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},c.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=r.decode(e,"der",n);if(e.isError(a)&&o)break;i.push(a)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,r){for(var n,i=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(n=r?i:[s,u].concat(i.slice(1)),t){var c=t[n.join(" ")];void 0===c&&(c=t[n.join(".")]),void 0!==c&&(n=c)}return n},c.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),u=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,u,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var r=e.raw(),n=new a(r);return t&&(n=t[n.toString(10)]||n),n},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,r){var n=r(2),i=r(7).Buffer,o=r(62),a=o.base,s=o.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=u,u.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,a.Node),c.prototype._encodeComposite=function(e,t,r,n){var o,a=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=s.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=a,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var u=1,c=n.length;c>=256;c>>=8)u++;(o=new i(2+u))[0]=a,o[1]=128|u;c=1+u;for(var l=n.length;l>0;c--,l>>=8)o[c]=255&l;return this._createEncoderBuffer([o,n])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(n=0;n<e.length;n++){var a=e[n];for(o++;a>=128;a>>=7)o++}var s=new i(o),u=s.length-1;for(n=e.length-1;n>=0;n--){a=e[n];for(s[u--]=127&a;(a>>=7)>0;)s[u--]=128|127&a}return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[l(n.getFullYear()),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[l(n.getFullYear()%100),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new i(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var a=e;a>=256;a>>=8)n++;for(a=(o=new Array(n)).length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},function(e){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,r){var n=r(50),i=r(3).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,a=i.alloc(0),s=0;a.length<t;)r=o(s++),a=i.concat([a,n("sha1").update(e).update(r).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},function(e,t,r){var n=r(11),i=r(3).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},function(e,t,r){var n="undefined"!=typeof JSON?JSON:r(516);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var a="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},u=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]},o={key:n,value:t[n]};return e(i,o)}}}(t.cmp),c=[];return function e(t,l,f,d){var h=r?"\n"+new Array(d+1).join(r):"",p=r?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),void 0!==(f=s.call(t,l,f))){if("object"!=typeof f||null===f)return n.stringify(f);if(i(f)){for(var y=[],m=0;m<f.length;m++){var v=e(f,m,f[m],d+1)||n.stringify(null);y.push(h+r+v)}return"["+y.join(",")+h+"]"}if(-1!==c.indexOf(f)){if(a)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(f);var b=o(f).sort(u&&u(f));for(y=[],m=0;m<b.length;m++){var g=e(f,l=b[m],f[l],d+1);if(g){var _=n.stringify(l)+p+g;y.push(h+r+_)}}return c.splice(c.indexOf(f),1),"{"+y.join(",")+h+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(520))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(248),i=r(529),o=r(530),a=r(534);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(248)),t.regularFunctions=o.definitions.map((e,t)=>new n.RegularFunction(t,e)).toMap(),t.specialFunctions=a.specialDefinitions.map((e,t)=>new n.SpecialFunction(t,e)).toMap(),t.namedFunctions=i.namedDefinitions.map((e,t)=>new n.NamedFunction(t,e)).toMap()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28),i=r(27);class o{constructor(e,t){this.operator=e,this.apply=(e=>{return(this.monomorph(e)||this.handleInvalidTypes(e))(e)}),this.arity=t.arity,this.overloads=t.overloads}monomorph(e){return this.overloads.get(a.asConcreteTypes(e))||this.overloads.get(a.asTermTypes(e))||this.overloads.get(a.asGenericTerms(e))}}t.OverloadedFunction=o;class a{static asConcreteTypes(e){return n.List(e.map(e=>e.type||e.termType))}static asTermTypes(e){return n.List(e.map(e=>e.termType))}static asGenericTerms(e){return n.List(Array(e.length).fill("term"))}}t.RegularFunction=class extends o{constructor(e,t){super(e,t),this.functionClass="regular"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}};t.NamedFunction=class extends o{constructor(e,t){super(e,t),this.functionClass="named"}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}};t.SpecialFunction=class{constructor(e,t){this.operator=e,this.functionClass="special",this.arity=t.arity,this.applySync=t.applySync,this.applyAsync=t.applyAsync,this.checkArity=t.checkArity||function(e){return t=>e===1/0||(Array.isArray(e)?e.indexOf(t.length)>=0:t.length===e)}(this.arity)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(536))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(540))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(541))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(543))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(544))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(545))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(547))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(548))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(549));var n=r(258);function i(){return r(556)}t.bindingsStreamToGraphQl=n.bindingsStreamToGraphQl,t.newEngine=i,t.evaluateQuery=function(e,t){return i().query(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(259));const n=r(259).ActorSparqlSerializeTree.bindingsStreamToGraphQl;t.bindingsStreamToGraphQl=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(1),o=r(28),a=r(554),s=r(5);var u=o.Map.isMap;class c extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingsStreamToGraphQl(e,t,r){const n=u(t)?t:i.ActionContext(t);return new Promise((t,i)=>{const o=[],s=new a.Converter(r),u={singularizeVariables:{}};if(n&&n.has("@context"))for(const e of Object.keys(n.get("@context")))n.get("@context")[e]["@singular"]&&(u.singularizeVariables[e]=!0);e.on("error",i),e.on("data",e=>{const t=e.toJS(),r={};for(const e in t){const n=t[e];n&&(r[e.substr(1)]=n)}o.push(r)}),e.on("end",()=>{t(s.bindingsToTree(o,u))})})}async testHandleChecked(e){if("bindings"!==e.type)throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,t){const r=new s.Readable;r._read=(()=>{});const n=e.bindingsStream;return n.on("error",e=>r.emit("error",e)),c.bindingsStreamToGraphQl(n,e.context,{materializeRdfJsTerms:!0}).then(e=>{r.push(JSON.stringify(e,null,"  ")),r.push(null)}),{data:r}}}t.ActorSparqlSerializeTree=c},function(e,t,r){"use strict";var n=r(261),i=r(562),o=r(565);function a(e){return e&&e.rel}function s(e,t){return t.rel.split(/\s+/).forEach(function(r){e[r]=o(t,{rel:r})}),e}function u(e,t){var r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function c(e){try{var t=e.match(/<?([^>]*)>(.*)/),r=t[1],a=t[2].split(";"),s=i.parse(r),c=n.parse(s.query);a.shift();var l=a.reduce(u,{});return(l=o(c,l)).url=r,l}catch(e){return null}}e.exports=function(e){return e?e.split(/,\s*</).map(c).filter(a).reduce(s,{}):null}},function(e,t,r){"use strict";t.decode=t.parse=r(560),t.encode=t.stringify=r(561)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(568)),n(r(569))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(264)),n(r(579))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorRdfMetadata=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(584))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(41),o=r(12),a=r(29);class s{constructor(e,t,r){this.mediatorRdfDereferencePaged=e,this.uriConstructor=t,this.context=r}static matchPattern(e,t){for(const r of a.QUAD_TERM_NAMES){const n=e[r];if(n&&"Variable"!==n.termType){const e=t[r];if(!n.equals(e))return!1}}return!0}getDuplicateElementLinks(e,t,r,n){const i={};let a=!1;const s={subject:e,predicate:t,object:r,graph:n};for(const e of Object.keys(s))if(s[e]&&"Variable"===s[e].termType){const t=o.termToString(s[e]),r=(i[t]||(i[t]=[])).push(e);a=a||r>1}if(!a)return null;const u={};for(const e in i){const t=i[e],r=t.slice(1);r.length&&(u[t[0]]=r)}return u}matchLazy(t,r,o,u){if(t instanceof RegExp||r instanceof RegExp||o instanceof RegExp||u instanceof RegExp)throw new Error("MediatedQuadSource does not support matching by regular expressions.");const c=new i.PromiseProxyIterator(async()=>{const e=await this.uriConstructor(t,r,o,u),i=await this.mediatorRdfDereferencePaged.mediate({context:this.context,url:e});c.emit("metadata",i.firstPageMetadata);let l=i.data.filter(s.matchPattern.bind(null,n.quad(t,r,o,u||n.variable("v"))));const f=this.getDuplicateElementLinks(t,r,o,u);return f&&(l=l.filter(e=>{for(const t of a.TRIPLE_TERM_NAMES)for(const r of f[t]||[])if(!e[t].equals(e[r]))return!1;return!0})),l});return c.on("newListener",t=>{"metadata"===t&&e(()=>c._fillBuffer())}),c}match(e,t,r,n){return this.matchLazy(e,t,r,n)}}t.MediatedQuadSource=s}).call(this,r(16).setImmediate)},function(e,t){e.exports=function(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}},function(e,t,r){"use strict";
/** @license React v16.8.4
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(269),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,y=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t=arguments.length-1,r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,r,n,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,o,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",r)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||g}function E(){}function S(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=w.prototype;var T=S.prototype=new E;T.constructor=S,n(T,w.prototype),T.isPureReactComponent=!0;var O={current:null},x={current:null},A=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var n=void 0,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,n)&&!I.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===i[n]&&(i[n]=u[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:x.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,R=[];function P(e,t,r,n){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function M(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return n(i,t,""===r?"."+C(t,0):r),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=r+C(s=t[c],c);u+=e(s,l,n,i)}else if(l=null===t||"object"!=typeof t?null:"function"==typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=r+C(s,c++),n,i);else"object"===s&&b("31","[object Object]"==(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return u}(e,"",t,r)}function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,n,r,function(e){return e}):null!=e&&(j(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+r)),n.push(e))}function B(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(k,"$&/")+"/"),M(e,F,t=P(t,o,n,i)),D(t)}function q(){var e=O.current;return null===e&&b("307"),e}var U={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return B(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;M(e,L,t=P(null,null,t,r)),D(t)},count:function(e){return M(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){return j(e)||b("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return q().useCallback(e,t)},useContext:function(e,t){return q().useContext(e,t)},useEffect:function(e,t){return q().useEffect(e,t)},useImperativeHandle:function(e,t,r){return q().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return q().useLayoutEffect(e,t)},useMemo:function(e,t){return q().useMemo(e,t)},useReducer:function(e,t,r){return q().useReducer(e,t,r)},useRef:function(e){return q().useRef(e)},useState:function(e){return q().useState(e)},Fragment:s,StrictMode:u,Suspense:p,createElement:N,cloneElement:function(e,t,r){(null===e||void 0===e)&&b("267",e);var i=void 0,a=n({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=x.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)A.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))a.children=r;else if(1<i){l=Array(i);for(var f=0;f<i;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=N.bind(null,e);return t.type=e,t},isValidElement:j,version:"16.8.4",unstable_ConcurrentMode:d,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:O,ReactCurrentOwner:x,assign:n}},V={default:U},z=V&&U||V;e.exports=z.default||z},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(s[c]=r[c]);if(n){a=n(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s}},function(e,t,r){var n=r(271),i=r(119),o=r(272),a=r(120),s=r(273),u=r(274);function c(){}c.namedNode=function(e){return new a(e)},c.blankNode=function(e){return new n(e)},c.literal=function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new o(e,t):new o(e,null,c.namedNode(t)):new o(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,r){return c.quad(e,t,r)},c.quad=function(e,t,r,n){return new s(e,t,r,n||c.defaultGraphInstance)},c.defaultGraphInstance=new i,e.exports=c},function(e,t){function r(e){this.value=e||"b"+ ++r.nextId}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="BlankNode",r.nextId=0,e.exports=r},function(e,t,r){var n=r(120);function i(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},function(e,t,r){var n=r(119);function i(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}i.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},e.exports=i},function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="Variable",e.exports=r},function(e,t,r){var n=r(122);e.exports=function(e){return new n(e)}},function(e,t,r){var n=r(277);e.exports=function(e){return function(){return new n(e.apply(this,arguments))}}},function(e,t,r){var n=r(122);function i(e){var t,r;function i(t,r){try{var a=e[t](r),s=a.value,u=s instanceof n;Promise.resolve(u?s.wrapped:s).then(function(e){u?i("next",e):o(a.done?"return":"normal",e)},function(e){i("throw",e)})}catch(e){o("throw",e)}}function o(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(o,a){var s={key:e,arg:n,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,i(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(279)),n(r(126))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),r(44);const i=r(125),o=r(126);class a{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validate=!e.skipValidation,this.expandContentTypeToBase=e.expandContentTypeToBase}static getPrefix(e,t){const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"==typeof e)return e;const t=e["@id"];return t||null}static expandTerm(e,t,r){const n=t[e];if(null===n||n&&null===n["@id"])return null;if(n&&r){const t=this.getContextValueId(n);if(t&&t!==e)return t}const o=a.getPrefix(e,t);if(o){const r=this.getContextValueId(t[o]);if(r)return r+e.substr(o.length+1)}else{if(r&&t["@vocab"]&&"@"!==e.charAt(0)&&e.indexOf(":")<0)return t["@vocab"]+e;if(!r&&t["@base"]&&"@"!==e.charAt(0)&&e.indexOf(":")<0)return i.resolve(e,t["@base"])}return e}static isPrefixValue(e){return e&&("string"==typeof e||e["@id"]||e["@type"])}static isValidIri(e){return a.IRI_REGEX.test(e)}static idifyReverseTerms(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"==typeof r&&r["@reverse"]&&!r["@id"]){if("string"!=typeof r["@reverse"])throw new Error(`Invalid @reverse value: '${r["@reverse"]}'`);r["@id"]=r["@reverse"],r["@reverse"]=!0}}return e}static expandPrefixedTerms(e,t){for(const r of Object.keys(e))if(a.EXPAND_KEYS_BLACKLIST.indexOf(r)<0){if("@"===r[0]&&a.ALIAS_KEYS_BLACKLIST.indexOf(r)>=0)throw new Error(`Keywords can not be aliased to something else.\nTried mapping ${r} to ${e[r]}`);for(;a.isPrefixValue(e[r]);){const n=e[r];let i=!1;if("string"==typeof n)e[r]=a.expandTerm(n,e,!0),i=i||n!==e[r];else{const o=n["@id"],s=n["@type"];o&&(e[r]["@id"]=a.expandTerm(o,e,!0),i=i||o!==e[r]["@id"]),s&&"@vocab"!==s&&(e[r]["@type"]=a.expandTerm(s,e,!0),t&&s===e[r]["@type"]&&(e[r]["@type"]=a.expandTerm(s,e,!1)),i=i||s!==e[r]["@type"])}if(!i)break}}return e}static validate(e){for(const t of Object.keys(e)){const r=e[t],n=typeof r;if("@"===t[0])switch(t.substr(1)){case"vocab":if(null!==r&&"string"!==n)throw new Error(`Found an invalid @vocab IRI: ${r}`);break;case"base":if(null!==r&&"string"!==n)throw new Error(`Found an invalid @base IRI: ${e[t]}`);break;case"language":if(null!==r&&"string"!==n)throw new Error(`Found an invalid @language string: ${r}`)}if(null!==r)switch(n){case"string":break;case"object":if(t.indexOf(":")<0&&!("@id"in r)&&("@id"===r["@type"]?!e["@base"]:!e["@vocab"]))throw new Error(`Missing @id in context entry: '${t}': '${JSON.stringify(r)}'`);for(const e of Object.keys(r)){const n=r[e];if(n)switch(e){case"@id":if("@"===n[0]&&"@type"!==n&&"@id"!==n)throw new Error(`Illegal keyword alias in term value, found: '${t}': '${JSON.stringify(r)}'`);break;case"@type":if("@id"!==n&&"@vocab"!==n&&("_"===n[0]||!a.isValidIri(n)))throw new Error(`A context @type must be an absolute IRI, found: '${t}': '${n}'`);break;case"@reverse":if("string"==typeof n&&r["@id"]&&r["@id"]!==n)throw new Error(`Found non-matching @id and @reverse term values in '${t}':'${n}' and '${r["@id"]}'`);break;case"@container":if("@list"===n&&r["@reverse"])throw new Error(`Term value can not be @container: @list and @reverse at the same time on '${t}'`);if(a.CONTAINERS.indexOf(n)<0)throw new Error(`Invalid term @container for '${t}' ('${n}'), must be one of ${a.CONTAINERS.join(", ")}`);break;case"@language":if(null!==n&&"string"!=typeof n)throw new Error(`Found an invalid term @language string in: '${t}': '${JSON.stringify(r)}'`)}}break;default:throw new Error(`Found an invalid term value: '${t}': '${r}'`)}}}parse(e,{baseIri:t,parentContext:r,external:o}={}){return n(this,void 0,void 0,function*(){if(null===e||void 0===e)return t?{"@base":t}:{};if("string"==typeof e){if(!a.isValidIri(e)&&(e=i.resolve(e,t),!a.isValidIri(e)))throw new Error(`Invalid context IRI: ${e}`);return this.parse(yield this.load(e),{baseIri:t,parentContext:r,external:!0})}if(Array.isArray(e)){return(yield Promise.all(e.map(e=>"string"==typeof e?this.load(e):e))).reduce((e,r)=>e.then(e=>this.parse(r,{baseIri:t,parentContext:e,external:o})),Promise.resolve(r))}if("object"==typeof e){if(e["@context"])return yield this.parse(e["@context"],{baseIri:t,parentContext:r,external:o});let n={};return o&&delete e["@base"],!t||"@base"in n||(n["@base"]=t),n=Object.assign({},n,r,e),a.idifyReverseTerms(n),a.expandPrefixedTerms(n,this.expandContentTypeToBase),this.validate&&a.validate(n),n}throw new Error(`Tried parsing a context that is not a string, array or object, but got ${e}`)})}load(e){return n(this,void 0,void 0,function*(){const t=this.documentCache[e];return t?Array.isArray(t)?t.slice():Object.assign({},t):this.documentCache[e]=(yield this.documentLoader.load(e))["@context"]})}}a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language"],a.ALIAS_KEYS_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value"],a.CONTAINERS=["@list","@set","@index","@language"],t.ContextParser=a},function(e,t,r){"use strict";r.r(t),r.d(t,"Headers",function(){return c}),r.d(t,"Request",function(){return m}),r.d(t,"Response",function(){return b}),r.d(t,"DOMException",function(){return _}),r.d(t,"fetch",function(){return w});var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=f(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=a(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[a(e)]},c.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},c.prototype.set=function(e,t){this.map[a(e)]=s(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),u(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),u(e)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var r=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},p.call(m.prototype),p.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];b.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var _=self.DOMException;try{new _}catch(e){(_=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function w(e,t){return new Promise(function(r,i){var o=new m(e,t);if(o.signal&&o.signal.aborted)return i(new _("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new c;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new b(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new _("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=c,self.Request=m,self.Response=b)},function(e,t,r){"use strict";function n(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!o(e[r+3])){t[t.length-1].push(e.substr(r)),r=e.length;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!o(e[r+2])){t[t.length-1].push(e.substr(r)),r=e.length;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map(e=>e.join("")).join("/")}function i(e,t){let r=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(r=t+3):"/"===e[0]&&"/"===e[1]&&(r=2);const i=e.indexOf("/",r);return i<0?e:e.substr(0,i)+n(e.substr(i))}function o(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=function(e,t){const r=(t=t||"").indexOf("#");if(r>0&&(t=t.substr(0,r)),!e.length)return t;if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length)return i(e,e.indexOf(":"));const o=e.indexOf(":");if(o>=0)return i(e,o);const a=t.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const s=t.substr(0,a+1);if(0===e.indexOf("//"))return s+i(e,o);let u;if(t.indexOf("//",a)!==a+1)return u=t.indexOf("/",a+1),t.length>a+1?t+"/"+i(e,o):s+i(e,o);if((u=t.indexOf("/",a+3))<0)return t.length>a+3?t+"/"+i(e,o):s+i(e,o);if(0===e.indexOf("/"))return t.substr(0,u)+n(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=n(e=c+e),t.substr(0,u)+e},t.removeDotSegments=n,t.removeDotSegmentsOfPath=i},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=r(33);Object.defineProperty(t,"__esModule",{value:!0}),t.toHandler=c,t.toResolver=l,t.default=void 0;var i=n(r(130)),o=n(r(129)),a=n(r(124)),s=n(r(131));class u{constructor(e,t){this._settings=e=(0,i.default)({},e),this._data=t=(0,i.default)({},t);const r=e.handlers||s.default;for(const e in r)r[e]=c(r[e]);for(const e of Object.getOwnPropertySymbols(r))r[e]=c(r[e]);const n=(e.resolvers||[]).map(l);e.context&&n.push(new a.default(e.context)),this._pathProxy=new o.default({handlers:r,resolvers:n}),delete e.handlers,delete e.resolvers,delete e.context}create(e={},t){return t||([t,e]=[e,null]),this._pathProxy.createPath(Object.assign(Object.create(null),this._settings,e),Object.assign(Object.create(null),this._data,t))}}function c(e){return"function"==typeof e.handle?e:{handle:e}}function l(e){return"function"==typeof e.resolve?e:{supports:f,resolve:e}}function f(){return!0}t.default=u,u.defaultHandlers=s.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(64);t.default=class extends n.DeleteFunctionHandler{async extractObjects(e,t,r){const n=await super.extractObjects(e,t,r),i=[];var o,a=!0,s=!1;try{for(var u,c,l=function(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(t);a=(u=await l.next()).done,c=await u.value,!a;a=!0){const e=c;"BlankNode"!==e.termType&&i.push(e)}}catch(e){s=!0,o=e}finally{try{a||null==l.return||await l.return()}finally{if(s)throw o}}return n?i.filter(e=>n.some(t=>t.equals(e))):i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(85)),i=r(66);function o(e){return new s(e)}function a(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then(function(e){u?n("next",e):i(o.done?"return":"normal",e)},function(e){n("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)};const u="SELECT ?activity WHERE {\n  ?activity a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n}\n";t.default=class extends n.default{constructor(){super(...arguments),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"requireUser",!1)}createResults(e,t,r){return function(e){return function(){return new a(e.apply(this,arguments))}}(function*(){const n=(0,i.replaceVariables)(u,e);var a,s=!0,c=!1;try{for(var l,f,d=function(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(r.execute(n,t));s=(l=yield o(d.next())).done,f=yield o(l.value),!s;s=!0)yield f.values().next().value}catch(e){c=!0,a=e}finally{try{s||null==d.return||(yield o(d.return()))}finally{if(c)throw a}}})()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(85)),i=r(66),o=r(6),a=u(r(137)),s=u(r(84));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,s=a instanceof f;Promise.resolve(s?a.wrapped:a).then(function(e){s?n("next",e):i(o.done?"return":"normal",e)},function(e){n("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function f(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(l.prototype[Symbol.asyncIterator]=function(){return this}),l.prototype.next=function(e){return this._invoke("next",e)},l.prototype.throw=function(e){return this._invoke("throw",e)},l.prototype.return=function(e){return this._invoke("return",e)};const d="_:id a _:type;\n    <https://www.w3.org/ns/activitystreams#actor> _:actor;\n    <https://www.w3.org/ns/activitystreams#object> _:object;\n    <https://www.w3.org/ns/activitystreams#published> _:published.\n",h=s.default["@context"].xsd;t.default=class extends n.default{createResults(e,t){return function(e){return function(){return new l(e.apply(this,arguments))}}(function*(){const r=(0,o.namedNode)(new URL(`#${(0,a.default)()}`,t).href),n=(0,o.literal)((new Date).toISOString(),`${h}dateTime`);e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c(e,t,r[t])})}return e}({id:r,published:n},e),yield{id:r,insert:(0,i.replaceVariables)(d,e)}})()}async processResults(e,t,r){const n=`INSERT {\n${e.map(e=>e.insert).join("")}}`;return await r.executeUpdate(n,t).next(),e.map(e=>e.id)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(85)),i=r(66);function o(e){return new s(e)}function a(e){var t,r;function n(t,r){try{var o=e[t](r),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then(function(e){u?n("next",e):i(o.done?"return":"normal",e)},function(e){n("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(o,a){var s={key:e,arg:i,resolve:o,reject:a,next:null};r?r=r.next=s:(t=r=s,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function s(e){this.wrapped=e}"function"==typeof Symbol&&Symbol.asyncIterator&&(a.prototype[Symbol.asyncIterator]=function(){return this}),a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)};const u="SELECT ?subject ?predicate ?object WHERE {\n  ?subject a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n  ?subject ?predicate ?object.\n}\n",c=["?subject","?predicate","?object"];t.default=class extends n.default{createResults(e,t,r){return function(e){return function(){return new a(e.apply(this,arguments))}}(function*(){const n=(0,i.replaceVariables)(u,e);var a,s=!0,l=!1;try{for(var f,d,h=function(e){var t;if("function"==typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}(r.execute(n,t));s=(f=yield o(h.next())).done,d=yield o(f.value),!s;s=!0){const e=d;yield`${c.map(t=>(0,i.serializeTerm)(e.get(t))).join(" ")}.\n`}}catch(e){l=!0,a=e}finally{try{s||null==h.return||(yield o(h.return()))}finally{if(l)throw a}}})()}async processResults(e,t,r){const n=`DELETE {\n${e.join("")}}`;return await r.executeUpdate(n,t).next(),[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(64),i=function(e){return e&&e.__esModule?e:{default:e}}(r(86));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(e){this._paths=e}handle(){return e=>this._createSourcePathFactory(e)}_createSourcePathFactory(e){return new n.PathFactory({handlers:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}({},n.defaultHandlers),resolvers:[new i.default(this._paths,e)]}).create()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(290)).default;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=r(291);t.default=class{constructor(e){this._engine=n,this._sources=this.toComunicaSources(e)}execute(e,t){if(e.startsWith("INSERT")||e.startsWith("DELETE"))return this.executeUpdate(e);let r;return{next:async()=>{if(!r){const n=await(t?this.toComunicaSources(t):this._sources),i=await this._engine.query(e,{sources:n});r=i.bindingsStream}return new Promise(n)},[Symbol.asyncIterator](){return this}};function n(e){const t=()=>e({done:!0});r.ended?t():(r.once("data",n=>{e({value:n}),r.removeListener("end",t)}),r.on("end",t))}}executeUpdate(e,t){throw new Error(`Comunica does not support SPARQL UPDATE queries, received: ${e}`)}async toComunicaSources(e){let t=await e;return t?("string"==typeof t.value&&(t=t.value),(t="string"==typeof t?[t.replace(/#.*/,"")]:Array.isArray(t)?await Promise.all(t):[t]).map(e=>({value:e,type:"string"==typeof e?"file":"rdfjsSource"}))):null}}},function(e,t,r){const n=new(r(141).LoggerVoid)({}),i=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),o=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/Bus/Http"}),a=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/Bus/RdfParse"}),s=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference/Bus/RdfDereference"}),u=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),c=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),l=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-source-identifier/Bus/RdfSourceIdentifier"}),f=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),d=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),h=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),p=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),y=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),m=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),v=(new(r(298).ActorHttpSolidAuthFetch)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpFetcher",bus:o}),new(r(46).MediatorNumber)({field:"time",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#mediatorHttp",bus:o})),b=new(r(47).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseMediatypes",bus:a}),g=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseHandle",bus:a}),_=(new(r(150).ActorRdfParseN3)({mediaTypes:{"application/trig":"1.0","application/n-quads":"0.7","text/turtle":"0.6","application/n-triples":"0.3","text/n3":"0.2"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserN3",bus:a}),new(r(156).ActorRdfParseJsonLd)({mediaTypes:{"application/ld+json":"1.0","application/json":"0.1"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserJsonLd",bus:a}),new(r(164).ActorRdfParseRdfXml)({mediaTypes:{"application/rdf+xml":"1.0"},priorityScale:"9.5E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserRdfXml",bus:a}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-file.json#mediatorRdfDereference",bus:s})),w=(new(r(166).ActorRdfJoinNestedLoop)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActor",bus:u}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:u})),E=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:c}),S=(new(r(365).ActorRdfResolveQuadPatternRdfJsSource)({name:"https://linkedsoftwaredependencies.org/bundles/npm/ldflex-comunica/^2.0.0/config/sets/resolve-rdfjssource.json#myQuadPatternRdfJsSourceResolver",bus:c}),new(r(46).MediatorNumber)({field:"priority",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/context-preprocess-rdf-source-identifiers.json#mediatorRdfSourceIdentifier",bus:l})),T=new(r(73).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:f}),O=new(r(96).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Actor/RdfResolveQuadPattern/httpInvalidator#default",bus:d}),x=new(r(171).MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:d}),A=new(r(46).MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:h}),I=(new(r(172).ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:h}),new(r(175).ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:h}),new(r(176).ActorOptimizeQueryOperationJoinBgp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",bus:p}),new(r(73).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:p})),N=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:y}),j=(new(r(178).ActorSparqlParseAlgebra)({prefixes:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dc:"http://purl.org/dc/terms/",dcterms:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",bus:y}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:m})),k=new(r(47).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode237",bus:m}),R=(new(r(180).ActorRdfSourceIdentifierHypermediaQpf)({mediatorHttp:v,acceptHeader:"application/trig;q=1.0,application/n-quads;q=0.7,text/n3;q=0.6,application/n-triples;q=0.3,text/n3;q=0.2",toContain:["http://www.w3.org/ns/hydra/core#","search","template","mapping","variable","property"],priority:.9,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-source-identifiers.json#myActorRdfSourceIdentifierHypermediaQpf",bus:l}),new(r(181).ActorRdfSourceIdentifierSparql)({mediatorHttp:v,priority:.5,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-source-identifiers.json#myActorRdfSourceIdentifierSparql",bus:l}),new(r(182).ActorRdfSourceIdentifierFileContentType)({mediatorHttp:v,allowedMediaTypes:["application/trig","application/n-quads","text/turtle","application/n-triples","text/n3","application/ld+json","application/json","application/rdf+xml"],priority:.1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-source-identifiers.json#myActorRdfSourceIdentifierFileContentType",bus:l}),new(r(183).ActorRdfResolveQuadPatternSparqlJson)({mediatorHttp:v,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlQuadPatternResolver",bus:c}),new(r(185).ActorQueryOperationSparqlEndpoint)({mediatorHttp:v,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlEndpointResolver",bus:h}),new(r(189).ActorRdfDereferenceHttpParse)({mediatorHttp:v,mediatorRdfParseMediatypes:b,mediatorRdfParseHandle:g,mediaMappings:{ttl:"text/turtle",turtle:"text/turtle",nt:"application/n-triples",ntriples:"application/n-triples",nq:"application/n-quads",nquads:"application/n-quads",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",trig:"application/trig",jsonld:"application/ld+json",json:"application/json"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencer",bus:s}),new(r(191).ActorRdfResolveQuadPatternFederated)({mediatorResolveQuadPattern:E,skipEmptyPatterns:"true",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",bus:c}),new(r(192).ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:E,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:h}),new(r(193).ActorContextPreprocessRdfSourceIdentifier)({mediatorRdfSourceIdentifier:S,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/context-preprocess-rdf-source-identifiers.json#myContextPreprocessRdfSourceIdentifier",bus:f}),new(r(194).ActorRdfResolveQuadPatternFile)({mediatorRdfDereference:_,cacheSize:100,httpInvalidator:O,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-file.json#myQuadPatternFileResolver",bus:c}),new(r(196).ActorQueryOperationPathAlt)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:h}),new(r(199).ActorQueryOperationPathInv)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:h}),new(r(200).ActorQueryOperationPathLink)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:h}),new(r(201).ActorQueryOperationPathNps)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:h}),new(r(202).ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:h}),new(r(203).ActorQueryOperationPathSeq)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:h}),new(r(204).ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:h}),new(r(205).ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:h}),new(r(206).ActorQueryOperationAsk)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:h}),new(r(207).ActorQueryOperationService)({mediatorRdfSourceIdentifier:S,forceSparqlEndpoint:!1,mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:h}),new(r(208).ActorQueryOperationSlice)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:h}),new(r(209).ActorQueryOperationBgpSingle)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:h}),new(r(210).ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:h}),new(r(211).ActorQueryOperationConstruct)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:h}),new(r(212).ActorQueryOperationDescribeSubject)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:h}),new(r(213).ActorQueryOperationDistinctHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:h}),new(r(246).ActorQueryOperationExtend)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:h}),new(r(249).ActorQueryOperationReducedHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",cacheSize:["100"],mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:h}),new(r(250).ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:h}),new(r(251).ActorQueryOperationFromQuad)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:h}),new(r(252).ActorQueryOperationJoin)({mediatorJoin:w,mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:h}),new(r(253).ActorQueryOperationLeftJoinNestedLoop)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:h}),new(r(254).ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:h}),new(r(255).ActorQueryOperationProject)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:h}),new(r(103).ActorQueryOperationUnion)({mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:h}),new(r(256).ActorQueryOperationMinus)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:A,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:h}),new(r(257).ActorInitSparql)({mediatorOptimizeQueryOperation:I,mediatorQueryOperation:A,mediatorSparqlParse:N,mediatorSparqlSerialize:j,mediatorSparqlSerializeMediaTypeCombiner:k,mediatorContextPreprocess:T,mediatorHttpInvalidate:x,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime"},name:"urn:comunica:sparqlinit",bus:i}));e.exports=R},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.LoggerVoid=class extends n.Logger{debug(e,t){}error(e,t){}fatal(e,t){}info(e,t){}trace(e,t){}warn(e,t){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Bus=class{constructor(e){this.actors=[],this.observers=[],r(53)(this,e)}subscribe(e){this.actors.push(e)}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const t=this.actors.indexOf(e);return t>=0&&(this.actors.splice(t,1),!0)}unsubscribeObserver(e){const t=this.observers.indexOf(e);return t>=0&&(this.observers.splice(t,1),!0)}publish(e){return this.actors.map(t=>({actor:t,reply:t.test(e)}))}onRun(e,t,r){for(const n of this.observers)n.onRun(e,t,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ActionObserver=class{constructor(e){r(53)(this,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28),i=r(142);class o{constructor(e){r(53)(this,e),this.bus.subscribe(this)}static getContextLogger(e){return e?e.get(i.KEY_CONTEXT_LOG):null}runObservable(e){const t=this.run(e);return this.bus.onRun(this,e,t),t}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,t){return t||(t={}),t.actor=this.name,t}logTrace(e,t,r){const n=o.getContextLogger(e);n&&n.trace(t,this.getDefaultLogData(e,r))}logDebug(e,t,r){const n=o.getContextLogger(e);n&&n.debug(t,this.getDefaultLogData(e,r))}logInfo(e,t,r){const n=o.getContextLogger(e);n&&n.info(t,this.getDefaultLogData(e,r))}logWarn(e,t,r){const n=o.getContextLogger(e);n&&n.warn(t,this.getDefaultLogData(e,r))}logError(e,t,r){const n=o.getContextLogger(e);n&&n.error(t,this.getDefaultLogData(e,r))}logFatal(e,t,r){const n=o.getContextLogger(e);n&&n.fatal(t,this.getDefaultLogData(e,r))}}t.Actor=o,t.ActionContext=function(e){return n.Map(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(36);t.Mediator=class{constructor(e){r(53)(this,e)}publish(e){const t=this.bus.publish(e);if(!t.length)throw new Error("No actors are able to reply to the message in the bus "+this.bus.name+": "+n.inspect(e));return t}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(299))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45),i=r(23);t.ActorHttpSolidAuthFetch=class extends n.ActorHttp{constructor(e){super(e)}async test(e){return{time:1/0}}run(e){return i.fetch(e.input,e.init)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorHttp=class extends n.Actor{constructor(e){super(e)}static toNodeReadable(e){return r(87)(e)?e:r(143).toNodeReadable(e)}}},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),u=0,l=a>0?n-4:n,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[u++]=255&t);1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*y}},function(e,t){},function(e,t,r){"use strict";var n=r(3).Buffer,i=r(305);function o(e,t,r){e.copy(t,r)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)o(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return o[i]=a,n(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(9),r(10))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(9))},function(e,t,r){"use strict";e.exports=o;var n=r(148),i=r(55);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(2),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(89)},function(e,t,r){e.exports=r(37)},function(e,t,r){e.exports=r(88).Transform},function(e,t,r){e.exports=r(88).PassThrough},function(e,t,r){"use strict";const n=r(5).Readable,i=r(149).ReadableStream;class o extends n{constructor(e,t){super(t),this._webStream=e,this._reader=e.getReader(),this._reading=!1}_read(e){if(this._reading)return;this._reading=!0;const t=()=>{this._reader.read().then(r=>{if(!r.done)return this.push(r.value)?t(e):void(this._reading=!1);this.push(null)})};t()}}e.exports={readable:{nodeToWeb:function(e){return new i({start(t){e.pause(),e.on("data",r=>{t.enqueue(r),e.pause()}),e.on("end",()=>t.close()),e.on("error",e=>t.error(e))},pull(t){e.resume()},cancel(t){e.pause()}})},arrayToWeb:function(e){return new i({start(t){for(var r=0;r<e.length;r++)t.enqueue(e[r]);t.close()}})},webToNode:function(e){return new o(e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);class i extends n.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case i.MIN:return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],1/0);return null!==n&&(isNaN(e[0])||e[0]>n)?[n,r]:e},[NaN,-1])[1];case i.MAX:return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],-1/0);return null!==n&&(isNaN(e[0])||e[0]<n)?[n,r]:e},[NaN,-1])[1]}throw new Error('No valid "type" value was given, must be either '+i.MIN+" or "+i.MAX+", but got: "+this.type)}getOrDefault(e,t){return void 0===e?t:e}async mediateWith(e,t){let n=r(69)(t,"reply");const i=[];if(this.ignoreErrors){const e={};e[this.field]=null,n=n.map(t=>t.catch(t=>(i.push(t),e)))}const o=await Promise.all(n),a=this.indexPicker(o);if(a<0)throw new Error("All actors rejected their test in "+this.name+"\n"+i.map(e=>e.toString()).join("\n"));return t[a].actor}}i.MIN="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",i.MAX="https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",t.MediatorNumber=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.MediatorCombineUnion=class extends n.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){const t=this.publish(e);await Promise.all(r(69)(t,"reply"));const n=await Promise.all(t.map(t=>t.actor.runObservable(e)));return this.combiner(n)}mediateWith(e,t){throw new Error("Method not supported.")}createCombiner(){return e=>{const t={};return t[this.field]=r(316).apply({},[{}].concat(r(69)(e,this.field))),t}}}},function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var u=Object.prototype,c=u.hasOwnProperty,l=u.toString,f=u.propertyIsEnumerable,d=Math.max;function h(e,t){var r=_(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&w(e)}(e)&&c.call(e,"callee")&&(!f.call(e,"callee")||l.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,o=!!i;for(var a in e)!t&&!c.call(e,a)||o&&("length"==a||b(a,i))||r.push(a);return r}function p(e,t,r,n){return void 0===e||g(e,u[r])&&!c.call(n,r)?t:e}function y(e,t,r){var n=e[t];c.call(e,t)&&g(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function m(e){if(!E(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||u;return e===r}(e),r=[];for(var n in e)("constructor"!=n||!t&&c.call(e,n))&&r.push(n);return r}function v(e,t){return t=d(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=d(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=o,s(e,this,a)}}function b(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function g(e,t){return e===t||e!=e&&t!=t}var _=Array.isArray;function w(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=E(e)?l.call(e):"";return t==i||t==o}(e)}function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var S=function(e){return v(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(e,t,r){if(!E(r))return!1;var n=typeof t;return!!("number"==n?w(r)&&b(t,r.length):"string"==n&&t in r)&&g(r[t],e)}(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t})}(function(e,t,r,n){!function(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;y(r,a,void 0===s?e[a]:s)}}(t,function(e){return w(e)?h(e,!0):m(e)}(t),e,n)}),T=v(function(e){return e.push(void 0,p),s(S,void 0,e)});e.exports=T},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.MediatorRace=class extends n.Mediator{constructor(e){super(e)}mediateWith(e,t){return new Promise((e,r)=>{const n=[];for(const i of t)i.reply.then(()=>{e(i.actor)}).catch(e=>{n.push(e),n.length===t.length&&r(new Error(this.name+" mediated over all rejecting actors:\n"+n.map(e=>e.toString()).join("\n")))})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(90),i=r(70);t.ActorRdfParseN3=class extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){e.input.on("error",e=>n.emit("error",e));const n=e.input.pipe(new i.StreamParser({baseIRI:e.baseIRI}));return{quads:n,triples:"text/turtle"===t||"application/n-triples"===t||"text/n3"===t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48);t.ActorRdfParse=class extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(151);t.ActorAbstractMediaTypedFixed=class extends n.ActorAbstractMediaTyped{constructor(e){super(e);const t=this.priorityScale||0===this.priorityScale?this.priorityScale:1;this.mediaTypes=r(152)(this.mediaTypes,e=>e*t),this.mediaTypes=Object.freeze(this.mediaTypes)}async testHandle(e,t,r){if(!(t in this.mediaTypes))throw new Error("Unrecognized media type: "+t);return await this.testHandleChecked(e,r)}async testMediaType(e){return!0}async getMediaTypes(e){return this.mediaTypes}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48);t.ActorRdfParseFixedMediaTypes=class extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}},function(e,t,r){var n=r(56),i=n.internal.toId,o=n.internal.fromId;function a(e,t){if(!(this instanceof a))return new a(e,t);this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||n,e&&this.addQuads(e)}function s(e){return"string"==typeof e||e instanceof String}a.prototype={get size(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var o in t=n[i].subjects)for(var a in r=t[o])e+=Object.keys(r[a]).length;return this._size=e},_addToIndex:function(e,t,r,n){var i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a},_removeFromIndex:function(e,t,r,n){var i,o=e[t],a=o[r];for(i in delete a[n],a)return;for(i in delete o[r],o)return;delete e[t]},_findInIndex:function(e,t,r,n,i,a,s,u,c,l){var f,d,h,p=!t+!r+!n>1?Object.keys(this._ids):this._entities;for(var y in t&&((f=e,e={})[t]=f[t]),e){var m=p[y];if(d=e[y])for(var v in r&&((f=d,d={})[r]=f[r]),d){var b=p[v];if(h=d[v])for(var g=(n?n in h?[n]:[]:Object.keys(h)),_=0;_<g.length;_++){var w={subject:null,predicate:null,object:null};w[i]=o(m,this._factory),w[a]=o(b,this._factory),w[s]=o(p[g[_]],this._factory);var E=this._factory.quad(w.subject,w.predicate,w.object,o(u,this._factory));if(l)l.push(E);else if(c(E))return!0}}}return l},_loop:function(e,t){for(var r in e)t(r)},_loopByKey0:function(e,t,r){var n,i;if(n=e[t])for(i in n)r(i)},_loopByKey1:function(e,t,r){var n;for(n in e)e[n][t]&&r(n)},_loopBy2Keys:function(e,t,r,n){var i,o,a;if((i=e[t])&&(o=i[r]))for(a in o)n(a)},_countInIndex:function(e,t,r,n){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in r&&((i=o,o={})[r]=i[r]),o)(a=o[c])&&(n?n in a&&s++:s+=Object.keys(a).length);return s},_getGraphs:function(e){if(!s(e))return this._graphs;var t={};return t[e]=this._graphs[e],t},_uniqueEntities:function(e){var t=Object.create(null),r=this._entities;return function(n){n in t||(t[n]=!0,e(o(r[n])))}},addQuad:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),r=i(r),n=i(n);var o=this._graphs[n];o||(o=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var a=this._ids,s=this._entities;e=a[e]||(a[s[++this._id]=e]=this._id),t=a[t]||(a[s[++this._id]=t]=this._id),r=a[r]||(a[s[++this._id]=r]=this._id);var u=this._addToIndex(o.subjects,e,t,r);return this._addToIndex(o.predicates,t,r,e),this._addToIndex(o.objects,r,e,t),this._size=null,u},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},import:function(e){var t=this;return e.on("data",function(e){t.addQuad(e)}),e},removeQuad:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),r=i(r),n=i(n);var o,a,s,u=this._ids,c=this._graphs;if(!((e=u[e])&&(t=u[t])&&(r=u[r])&&(o=c[n])&&(a=o.subjects[e])&&(s=a[t])&&r in s))return!1;for(e in this._removeFromIndex(o.subjects,e,t,r),this._removeFromIndex(o.predicates,t,r,e),this._removeFromIndex(o.objects,r,e,t),null!==this._size&&this._size--,o.subjects)return!0;return delete c[n],!0},removeQuads:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])},remove:function(e){var t=this;return e.on("data",function(e){t.removeQuad(e)}),e},getQuads:function(e,t,r,n){e=e&&i(e),t=t&&i(t),r=r&&i(r),n=n&&i(n);var o,a,u,c,l=[],f=this._getGraphs(n),d=this._ids;if(s(e)&&!(a=d[e])||s(t)&&!(u=d[t])||s(r)&&!(c=d[r]))return l;for(var h in f)(o=f[h])&&(a?c?this._findInIndex(o.objects,c,a,u,"object","subject","predicate",h,null,l):this._findInIndex(o.subjects,a,u,null,"subject","predicate","object",h,null,l):u?this._findInIndex(o.predicates,u,c,null,"predicate","object","subject",h,null,l):c?this._findInIndex(o.objects,c,null,null,"object","subject","predicate",h,null,l):this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",h,null,l));return l},countQuads:function(e,t,r,n){e=e&&i(e),t=t&&i(t),r=r&&i(r),n=n&&i(n);var o,a,u,c,l=0,f=this._getGraphs(n),d=this._ids;if(s(e)&&!(a=d[e])||s(t)&&!(u=d[t])||s(r)&&!(c=d[r]))return 0;for(var h in f)(o=f[h])&&(l+=e?r?this._countInIndex(o.objects,c,a,u):this._countInIndex(o.subjects,a,u,c):t?this._countInIndex(o.predicates,u,c,a):this._countInIndex(o.objects,c,a,u));return l},forEach:function(e,t,r,n,i){this.some(function(t){return e(t),!1},t,r,n,i)},every:function(e,t,r,n,i){var o=!1,a=!this.some(function(t){return o=!0,!e(t)},t,r,n,i);return o&&a},some:function(e,t,r,n,o){t=t&&i(t),r=r&&i(r),n=n&&i(n),o=o&&i(o);var a,u,c,l,f=this._getGraphs(o),d=this._ids;if(s(t)&&!(u=d[t])||s(r)&&!(c=d[r])||s(n)&&!(l=d[n]))return!1;for(var h in f)if(a=f[h])if(u){if(l){if(this._findInIndex(a.objects,l,u,c,"object","subject","predicate",h,e,null))return!0}else if(this._findInIndex(a.subjects,u,c,null,"subject","predicate","object",h,e,null))return!0}else if(c){if(this._findInIndex(a.predicates,c,l,null,"predicate","object","subject",h,e,null))return!0}else if(l){if(this._findInIndex(a.objects,l,null,null,"object","subject","predicate",h,e,null))return!0}else if(this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",h,e,null))return!0;return!1},getSubjects:function(e,t,r){var n=[];return this.forSubjects(function(e){n.push(e)},e,t,r),n},forSubjects:function(e,t,r,n){t=t&&i(t),r=r&&i(r),n=n&&i(n);var o,a,u,c=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(s(t)&&!(a=c[t])||s(r)&&!(u=c[r])))for(n in l)(o=l[n])&&(a?u?this._loopBy2Keys(o.predicates,a,u,e):this._loopByKey1(o.subjects,a,e):u?this._loopByKey0(o.objects,u,e):this._loop(o.subjects,e))},getPredicates:function(e,t,r){var n=[];return this.forPredicates(function(e){n.push(e)},e,t,r),n},forPredicates:function(e,t,r,n){t=t&&i(t),r=r&&i(r),n=n&&i(n);var o,a,u,c=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(s(t)&&!(a=c[t])||s(r)&&!(u=c[r])))for(n in l)(o=l[n])&&(a?u?this._loopBy2Keys(o.objects,u,a,e):this._loopByKey0(o.subjects,a,e):u?this._loopByKey1(o.predicates,u,e):this._loop(o.predicates,e))},getObjects:function(e,t,r){var n=[];return this.forObjects(function(e){n.push(e)},e,t,r),n},forObjects:function(e,t,r,n){t=t&&i(t),r=r&&i(r),n=n&&i(n);var o,a,u,c=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(s(t)&&!(a=c[t])||s(r)&&!(u=c[r])))for(n in l)(o=l[n])&&(a?u?this._loopBy2Keys(o.subjects,a,u,e):this._loopByKey1(o.objects,a,e):u?this._loopByKey0(o.predicates,u,e):this._loop(o.objects,e))},getGraphs:function(e,t,r){var n=[];return this.forGraphs(function(e){n.push(e)},e,t,r),n},forGraphs:function(e,t,r,n){for(var i in this._graphs)this.some(function(t){return e(t.graph),!0},t,r,n,i)},createBlankNode:function(e){var t,r;if(e)for(t=e="_:"+e,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},e.exports=a},function(e,t,r){var n=r(5).Transform,i=r(36),o=r(154);function a(e){if(!(this instanceof a))return new a(e);n.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t,r,i=this;new o(e).parse({on:function(e,n){switch(e){case"data":t=n;break;case"end":r=n}}},function(e,t){e&&i.emit("error",e)||t&&i.push(t)},function(e,t){i.emit("prefix",e,t)}),this._transform=function(e,r,n){t(e),n()},this._flush=function(e){r(),e()}}i.inherits(a,n),a.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),this},e.exports=a},function(e,t,r){var n=r(5).Transform,i=r(36),o=r(155);function a(e){if(!(this instanceof a))return new a(e);n.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,r=this._writer=new o({write:function(e,r,n){t.push(e),n&&n()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,n){r.addQuad(e,n)},this._flush=function(e){r.end(e)}}i.inherits(a,n),a.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),e.on("prefix",function(e,r){t._writer.addPrefix(e,r)}),this},e.exports=a},function(e,t,r){var n=r(56),i={isNamedNode:function(e){return!!e&&"NamedNode"===e.termType},isBlankNode:function(e){return!!e&&"BlankNode"===e.termType},isLiteral:function(e){return!!e&&"Literal"===e.termType},isVariable:function(e){return!!e&&"Variable"===e.termType},isDefaultGraph:function(e){return!!e&&"DefaultGraph"===e.termType},inDefaultGraph:function(e){return i.isDefaultGraph(e.graph)},prefix:function(e,t){return i.prefixes({"":e},t)("")},prefixes:function(e,t){var r=Object.create(null);for(var i in e)o(i,e[i]);function o(e,n){if("string"==typeof n){var i=Object.create(null);r[e]=function(e){return i[e]||(i[e]=t.namedNode(n+e))}}else if(!(e in r))throw new Error("Unknown prefix: "+e);return r[e]}return t=t||n,o}};e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(90),i=r(6),o=r(29),a=r(5);class s extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e),this.jsonLd=r(157)()}static mapTerm(e){switch(e.termType){case"NamedNode":return i.namedNode(e.value);case"BlankNode":return i.blankNode(e.value.substr(2));case"Literal":return i.literal(e.value,e.language||e.datatype);case"DefaultGraph":return i.defaultGraph()}}async runHandle(e,t,n){const i=new a.Readable({objectMode:!0});let u=!1;return i._read=(async()=>{if(!u){u=!0;const t=await r(163)(e.input),n=await this.jsonLd.toRDF(JSON.parse(t),{base:e.baseIRI});for(const e of n)i.push(o.mapTerms(e,s.mapTerm));i.push(null)}}),{quads:i}}}t.ActorRdfParseJsonLd=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6);t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=function(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const i={};return e.forEach(e=>i[e.key]=e.value),t&&(i.subject=i.subject||t("subject"),i.predicate=i.predicate||t("predicate"),i.object=i.object||t("object"),i.graph=i.graph||t("graph")),(r||n).quad(i.subject,i.predicate,i.object,i.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.filterTerms=function(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r},t.filterQuadTermNames=function(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r},t.mapTerms=function(e,t,r){return(r||n).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.reduceTerms=function(e,t,r){let n=r;return t(n=t(n=t(n=t(n,e.subject,"subject"),e.predicate,"predicate"),e.object,"object"),e.graph,"graph")},t.everyTerms=function(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")}},function(e,t,r){"use strict";function n(e,t){return e.filter(e=>e.termType===t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph"],t.uniqTerms=function(e){return r(329)(e,(e,t)=>e.equals(t))},t.getTermsOfType=n,t.getNamedNodes=function(e){return n(e,"NamedNode")},t.getBlankNodes=function(e){return n(e,"BlankNode")},t.getLiterals=function(e){return n(e,"Literal")},t.getVariables=function(e){return n(e,"Variable")},t.getDefaultGraphs=function(e){return n(e,"DefaultGraph")}},function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,d,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function f(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function d(e){return e!=e}function h(e,t){return e.has(t)}function p(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var y=Array.prototype,m=Function.prototype,v=Object.prototype,b=c["__core-js_shared__"],g=function(){var e=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=m.toString,w=v.hasOwnProperty,E=v.toString,S=RegExp("^"+_.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=y.splice,O=C(c,"Map"),x=C(c,"Set"),A=C(Object,"create");function I(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function N(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,r=e?e.length:0;for(this.__data__=new j;++t<r;)this.add(e[t])}function R(e,t){for(var r=e.length;r--;)if(L(e[r][0],t))return r;return-1}function P(e){return!(!F(e)||function(e){return!!g&&g in e}(e))&&(function(e){var t=F(e)?E.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:a).test(function(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}I.prototype.clear=function(){this.__data__=A?A(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(A){var r=t[e];return r===n?void 0:r}return w.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return A?void 0!==t[e]:w.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=A&&void 0===t?n:t,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(e){var t=this.__data__,r=R(t,e);return!(r<0||(r==t.length-1?t.pop():T.call(t,r,1),0))},N.prototype.get=function(e){var t=this.__data__,r=R(t,e);return r<0?void 0:t[r][1]},N.prototype.has=function(e){return R(this.__data__,e)>-1},N.prototype.set=function(e,t){var r=this.__data__,n=R(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new I,map:new(O||N),string:new I}},j.prototype.delete=function(e){return M(this,e).delete(e)},j.prototype.get=function(e){return M(this,e).get(e)},j.prototype.has=function(e){return M(this,e).has(e)},j.prototype.set=function(e,t){return M(this,e).set(e,t),this},k.prototype.add=k.prototype.push=function(e){return this.__data__.set(e,n),this},k.prototype.has=function(e){return this.__data__.has(e)};var D=x&&1/p(new x([,-0]))[1]==1/0?function(e){return new x(e)}:function(){};function M(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function C(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return P(r)?r:void 0}function L(e,t){return e===t||e!=e&&t!=t}function F(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,t){return e&&e.length?function(e,t,n){var i=-1,o=l,a=e.length,s=!0,u=[],c=u;if(n)s=!1,o=f;else if(a>=r){var d=t?null:D(e);if(d)return p(d);s=!1,o=h,c=new k}else c=t?[]:u;e:for(;++i<a;){var y=e[i],m=t?t(y):y;if(y=n||0!==y?y:0,s&&m==m){for(var v=c.length;v--;)if(c[v]===m)continue e;t&&c.push(m),u.push(y)}else o(c,m,n)||(c!==u&&c.push(m),u.push(y))}return u}(e,void 0,t):[]}}).call(this,r(9))},function(e,t,r){"use strict";const n=r(39);e.exports=class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:r=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=r}doWork(e,t){const r=this.schedule;if(r.totalDepth>=r.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function i(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,n.nextTick(i);const o=Date.now();if(r.running||(r.start=Date.now(),r.deadline=r.start+r.timeSlice),o<r.deadline)return r.running=!0,r.depth++,r.totalDepth++,e((e,n)=>{r.depth--,r.totalDepth--,t(e,n)});r.depth=0,r.running=!1,n.setImmediate(i)}()}forEach(e,t,r){const n=this;let i,o,a=0;if(Array.isArray(e))o=e.length,i=(()=>a!==o&&(i.value=e[a++],i.key=a,!0));else{const t=Object.keys(e);o=t.length,i=(()=>a!==o&&(i.key=t[a++],i.value=e[i.key],!0))}!function e(o){return o?r(o):i()?n.doWork(()=>t(i.value,i.key,e)):void r()}()}waterfall(e,t){const r=this;r.forEach(e,(e,t,n)=>r.doWork(e,n),t)}whilst(e,t,r){const n=this;!function i(o){return o?r(o):e()?void n.doWork(t,i):r()}()}}},function(e,t,r){var n=r(57);r(93),r(160);var i=e.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(u=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=u>>>0;a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h},i};var o=null,a=!1;function s(e,t,r){for(var n,i,o,a,s,u,c,l=r.length();l>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(o&a|s&(o^a))+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(o^a^s)+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,l-=64}}},function(e,t,r){(function(t){var r={};e.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<s.length;++u)c+=s[u]<<8,s[u]=c%o,c=c/o|0;for(;c>0;)s.push(c%o),c=c/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=t[o[r]];return u}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},r.decode=function(e,r){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var o=0;o<r.length;++o)i[r.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var a=r.length,s=r.charAt(0),u=[0];for(o=0;o<e.length;o++){var c=i[e.charCodeAt(o)];if(void 0===c)return;for(var l=0,f=c;l<u.length;++l)f+=u[l]*a,u[l]=255&f,f>>=8;for(;f>0;)u.push(255&f),f>>=8}for(var d=0;e[d]===s&&d<e.length-1;++d)u.push(0);return void 0!==t?t.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,r(7).Buffer)},function(e,t,r){var n=r(57);r(93),r(160);var i=e.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=n.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=n.util.createBuffer();a.putBytes(t.bytes());var s,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)l+=(s=8*i.fullMessageLength[f+1])/4294967296>>>0,a.putInt32(l>>>0),l=s>>>0;a.putInt32(l);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(d,r,a);var h=n.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h.putInt32(d.h5),h.putInt32(d.h6),h.putInt32(d.h7),h},i};var o=null,a=!1,s=null;function u(e,t,r){for(var n,i,o,a,u,c,l,f,d,h,p,y,m,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,f=e.h2,d=e.h3,h=e.h4,p=e.h5,y=e.h6,m=e.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),a=c&l|f&(c^l),n=m+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(y^h&(p^y))+s[u]+t[u],m=y,y=p,p=h,h=d+n>>>0,d=f,f=l,l=c,c=n+(i=o+a)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+d|0,e.h4=e.h4+h|0,e.h5=e.h5+p|0,e.h6=e.h6+y|0,e.h7=e.h7+m|0,v-=64}}},function(e,t,r){"use strict";const n=r(158),i=r(39);e.exports=class extends n{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,(r,o,a)=>{let s,u;if("BlankNode"===r.subject.termType&&r.subject.value!==e)u=r.subject.value,s="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)return a();u=r.object.value,s="r"}n.hashRelatedBlankNode(u,r,t,s,(e,t)=>{if(e)return a(e);t in i?i[t].push(u):i[t]=[u],a()})},e=>r(e,i))}}},function(e,t,r){"use strict";const n=r(162),i=r(39);e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];let s,u;if("BlankNode"===a.subject.termType&&a.subject.value!==e)u=a.subject.value,s="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;u=a.object.value,s="r"}const c=r.hashRelatedBlankNode(u,a,t,s);c in n?n[c].push(u):n[c]=[u]}return n}}},function(e,t){},function(e,t,r){"use strict";e.exports=r(91).NQuads},function(e,t,r){"use strict";const{RDF_LANGSTRING:n,RDF_PLAIN_LITERAL:i,RDF_OBJECT:o,RDF_XML_LITERAL:a,XSD_STRING:s}=r(58);let u;function c(){return"undefined"==typeof XMLSerializer?r(339).XMLSerializer:XMLSerializer}u="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e.exports=class{parse(e){const t={"@default":[]},r=e.getSubjects();for(let l=0;l<r.length;++l){const f=r[l];if(null===f)continue;const d=e.getSubjectTriples(f);if(null===d)continue;const h=d.predicates;for(const e in h){const r=h[e].objects;for(let l=0;l<r.length;++l){const d=r[l],h={};0===f.indexOf("_:")?h.subject={type:"blank node",value:f}:h.subject={type:"IRI",value:f},0===e.indexOf("_:")?h.predicate={type:"blank node",value:e}:h.predicate={type:"IRI",value:e};let p=d.value;if(d.type===a){const e=new(c());p="";for(let t=0;t<d.value.length;t++)d.value[t].nodeType===u.ELEMENT_NODE?p+=e.serializeToString(d.value[t]):d.value[t].nodeType===u.TEXT_NODE&&(p+=d.value[t].nodeValue)}h.object={},d.type===o?0===d.value.indexOf("_:")?h.object.type="blank node":h.object.type="IRI":(h.object.type="literal",d.type===i?d.language?(h.object.datatype=n,h.object.language=d.language):h.object.datatype=s:h.object.datatype=d.type),h.object.value=p,t["@default"].push(h)}}}return t}}},function(e,t){},function(e,t,r){"use strict";const n=r(31),{isArray:i,isObject:o,isEmptyObject:a,isString:s}=r(21),{isList:u,isValue:c,isGraph:l}=r(30),{expandIri:f,getContextValue:d,isKeyword:h,process:p}=r(40),{isAbsolute:y}=r(59),{addValue:m,asArray:v,getValues:b,validateTypeValue:g}=r(18),_={};function w(e,t){const r=[],o=Object.keys(t).sort();for(const a of o){const o=f(e,a,{vocab:!0});let u=t[a];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!s(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==o&&(i["@language"]=a.toLowerCase()),r.push(i)}}return r}function E({activeCtx:e,options:t,activeProperty:r,value:n,expansionMap:o,asGraph:a,indexKey:s}){const u=[],c=Object.keys(n).sort();for(let h of c){const c=d(e,h,"@context");c&&(e=p({activeCtx:e,localCtx:c,options:t}));let y=n[h];i(y)||(y=[y]);const m=f(e,h,{vocab:!0});"@id"===s?h=f(e,h,{base:!0}):"@type"===s&&(h=m),y=_.expand({activeCtx:e,activeProperty:r,element:y,options:t,insideList:!1,expansionMap:o});for(let e of y)a&&!l(e)&&(e={"@graph":[e]}),"@type"===s?"@none"===m||(e["@type"]?e["@type"]=[h].concat(e["@type"]):e["@type"]=[h]):"@none"===m||s in e||(e[s]=h),u.push(e)}return u}e.exports=_,_.expand=(({activeCtx:e,activeProperty:t=null,element:r,options:S={},insideList:T=!1,expansionMap:O=(()=>void 0)})=>{if(null===r||void 0===r)return null;if("@default"===t&&(S=Object.assign({},S,{isFrame:!1})),!i(r)&&!o(r)){if(!T&&(null===t||"@graph"===f(e,t,{vocab:!0}))){const n=O({unmappedValue:r,activeCtx:e,activeProperty:t,options:S,insideList:T});return void 0===n?null:n}return function({activeCtx:e,activeProperty:t,value:r}){if(null===r||void 0===r)return null;const n=f(e,t,{vocab:!0});if("@id"===n)return f(e,r,{base:!0});if("@type"===n)return f(e,r,{vocab:!0,base:!0});const i=d(e,t,"@type");if(("@id"===i||"@graph"===n)&&s(r))return{"@id":f(e,r,{base:!0})};if("@vocab"===i&&s(r))return{"@id":f(e,r,{vocab:!0,base:!0})};if(h(n))return r;const o={};if(i&&!["@id","@vocab"].includes(i))o["@type"]=i;else if(s(r)){const r=d(e,t,"@language");null!==r&&(o["@language"]=r)}["boolean","number","string"].includes(typeof r)||(r=r.toString());return o["@value"]=r,o}({activeCtx:e,activeProperty:t,value:r})}if(i(r)){let o=[];const a=d(e,t,"@container")||[];T=T||a.includes("@list");for(let a=0;a<r.length;++a){let s=_.expand({activeCtx:e,activeProperty:t,element:r[a],options:S,expansionMap:O});if(T&&(i(s)||u(s)))throw new n("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null===s&&void 0===(s=O({unmappedValue:r[a],activeCtx:e,activeProperty:t,parent:r,index:a,options:S,expandedParent:o,insideList:T}))||(i(s)?o=o.concat(s):o.push(s))}return o}"@context"in r&&(e=p({activeCtx:e,localCtx:r["@context"],options:S}));let x=Object.keys(r).sort();for(const t of x){if("@type"===f(e,t,{vocab:!0})){const n=r[t],i=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(const t of i){const r=d(e,t,"@context");r&&(e=p({activeCtx:e,localCtx:r,options:S}))}}}const A=f(e,t,{vocab:!0});let I={};!function e({activeCtx:t,activeProperty:r,expandedActiveProperty:b,element:S,expandedParent:T,options:O={},insideList:x,expansionMap:A}){const I=Object.keys(S).sort();const N=[];for(const e of I){let I,j=S[e];if("@context"===e)continue;let k=f(t,e,{vocab:!0});if((null===k||!y(k)&&!h(k))&&void 0===(k=A({unmappedProperty:e,activeCtx:t,activeProperty:r,parent:S,options:O,insideList:x,value:j,expandedParent:T})))continue;if(h(k)){if("@reverse"===b)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:j});if(k in T)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:k})}if("@id"===k){if(!s(j)){if(!O.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:j});if(o(j)){if(!a(j))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:j})}else{if(!i(j))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:j});if(!j.every(e=>s(e)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:j})}}m(T,"@id",v(j).map(e=>s(e)?f(t,e,{base:!0}):e),{propertyIsArray:O.isFrame});continue}if("@type"===k){g(j),m(T,"@type",v(j).map(e=>s(e)?f(t,e,{base:!0,vocab:!0}):e),{propertyIsArray:O.isFrame});continue}if("@graph"===k&&!o(j)&&!i(j))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:j});if("@value"===k){if((o(j)||i(j))&&!O.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:j});m(T,"@value",j,{propertyIsArray:O.isFrame});continue}if("@language"===k){if(null===j)continue;if(!s(j)&&!O.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:j});j=v(j).map(e=>s(e)?e.toLowerCase():e),m(T,"@language",j,{propertyIsArray:O.isFrame});continue}if("@index"===k){if(!s(j))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:j});m(T,"@index",j);continue}if("@reverse"===k){if(!o(j))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:j});if("@reverse"in(I=_.expand({activeCtx:t,activeProperty:"@reverse",element:j,options:O,expansionMap:A})))for(const e in I["@reverse"])m(T,e,I["@reverse"][e],{propertyIsArray:!0});let e=T["@reverse"]||null;for(const t in I){if("@reverse"===t)continue;null===e&&(e=T["@reverse"]={}),m(e,t,[],{propertyIsArray:!0});const r=I[t];for(let i=0;i<r.length;++i){const o=r[i];if(c(o)||u(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:I});m(e,t,o,{propertyIsArray:!0})}}continue}if("@nest"===k){N.push(e);continue}let R=t;const P=d(t,e,"@context");P&&(R=p({activeCtx:t,localCtx:P,options:O}));const D=d(R,e,"@container")||[];if(D.includes("@language")&&o(j))I=w(R,j);else if(D.includes("@index")&&o(j)){const t=D.includes("@graph");I=E({activeCtx:R,options:O,activeProperty:e,value:j,expansionMap:A,asGraph:t,indexKey:"@index"})}else if(D.includes("@id")&&o(j)){const t=D.includes("@graph");I=E({activeCtx:R,options:O,activeProperty:e,value:j,expansionMap:A,asGraph:t,indexKey:"@id"})}else if(D.includes("@type")&&o(j))I=E({activeCtx:R,options:O,activeProperty:e,value:j,expansionMap:A,asGraph:!1,indexKey:"@type"});else{const t="@list"===k;if(t||"@set"===k){let e=r;if(t&&"@graph"===b&&(e=null),I=_.expand({activeCtx:R,activeProperty:e,element:j,options:O,insideList:t,expansionMap:A}),t&&u(I))throw new n("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else I=_.expand({activeCtx:R,activeProperty:e,element:j,options:O,insideList:!1,expansionMap:A})}if(null===I&&"@value"!==k&&void 0===(I=A({unmappedValue:j,expandedProperty:k,activeCtx:R,activeProperty:r,parent:S,options:O,insideList:x,key:e,expandedParent:T})))continue;if("@list"!==k&&!u(I)&&D.includes("@list")&&(I={"@list":v(I)}),D.includes("@graph")&&!D.some(e=>"@id"===e||"@index"===e)&&(I=v(I).map(e=>l(e)?e:{"@graph":v(e)})),R.mappings[e]&&R.mappings[e].reverse){const e=T["@reverse"]=T["@reverse"]||{};I=v(I);for(let t=0;t<I.length;++t){const r=I[t];if(c(r)||u(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:I});m(e,k,r,{propertyIsArray:!0})}continue}const M=!["@index","@id","@type","@value","@language"].includes(k);m(T,k,I,{propertyIsArray:M})}for(const a of N){const s=i(S[a])?S[a]:[S[a]];for(const i of s){if(!o(i)||Object.keys(i).some(e=>"@value"===f(t,e,{vocab:!0})))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});e({activeCtx:t,activeProperty:r,expandedActiveProperty:b,element:i,expandedParent:T,options:O,insideList:x,expansionMap:A})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:A,element:r,expandedParent:I,options:S,insideList:T,expansionMap:O});let N=(x=Object.keys(I)).length;if("@value"in I){if("@type"in I&&"@language"in I)throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:I});let i=N-1;if("@type"in I&&(i-=1),"@index"in I&&(i-=1),"@language"in I&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:I});const o=null===I["@value"]?[]:v(I["@value"]),u=b(I,"@type");if(0===o.length){const n=O({unmappedValue:I,activeCtx:e,activeProperty:t,element:r,options:S,insideList:T});I=void 0!==n?n:null}else{if(!o.every(e=>s(e)||a(e))&&"@language"in I)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:I});if(!u.every(e=>y(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:I})}}else if("@type"in I&&!i(I["@type"]))I["@type"]=[I["@type"]];else if("@set"in I||"@list"in I){if(N>1&&!(2===N&&"@index"in I))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:I});"@set"in I&&(I=I["@set"],N=(x=Object.keys(I)).length)}else if(1===N&&"@language"in I){const n=O(I,{unmappedValue:I,activeCtx:e,activeProperty:t,element:r,options:S,insideList:T});I=void 0!==n?n:null}if(o(I)&&!S.keepFreeFloatingNodes&&!T&&(null===t||"@graph"===A)&&(0===N||"@value"in I||"@list"in I||1===N&&"@id"in I)){const n=O({unmappedValue:I,activeCtx:e,activeProperty:t,element:r,options:S,insideList:T});I=void 0!==n?n:null}return I})},function(e,t,r){"use strict";const{clone:n}=r(18);e.exports=class{constructor(e=100){this.order=[],this.cache=new Map,this.size=e}get(e,t){const r=this.cache.get(e);if(r){const e=JSON.stringify(t);return r.get(e)||null}return null}set(e,t,r){if(this.order.length===this.size){const e=this.order.shift();this.cache.get(e.activeCtx).delete(e.localCtx)}const i=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:i});let o=this.cache.get(e);o||(o=new Map,this.cache.set(e,o)),o.set(i,n(r))}}},function(e,t,r){"use strict";const{isSubjectReference:n}=r(30),{createMergedNodeMap:i}=r(72),o={};e.exports=o,o.flatten=(e=>{const t=i(e),r=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){const i=t[o[e]];n(i)||r.push(i)}return r})},function(e,t,r){"use strict";const n=r(30),i=r(21),o=r(18),{RDF_LIST:a,RDF_FIRST:s,RDF_REST:u,RDF_NIL:c,RDF_TYPE:l,XSD_BOOLEAN:f,XSD_DOUBLE:d,XSD_INTEGER:h,XSD_STRING:p}=r(58),y={};function m(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};const r={"@value":e.value};if(e.language)r["@language"]=e.language;else{let n=e.datatype.value;if(n||(n=p),t){if(n===f)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(i.isNumeric(r["@value"]))if(n===h){const e=parseInt(r["@value"],10);e.toFixed(0)===r["@value"]&&(r["@value"]=e)}else n===d&&(r["@value"]=parseFloat(r["@value"]));[f,h,d,p].includes(n)||(r["@type"]=n)}else n!==p&&(r["@type"]=n)}return r}e.exports=y,y.fromRDF=(async(e,{useRdfType:t=!1,useNativeTypes:r=!1})=>{const f={},d={"@default":f},h={};for(const n of e){const e="DefaultGraph"===n.graph.termType?"@default":n.graph.value;e in d||(d[e]={}),"@default"===e||e in f||(f[e]={"@id":e});const i=d[e],a=n.subject.value,s=n.predicate.value,u=n.object;a in i||(i[a]={"@id":a});const p=i[a],y=u.termType.endsWith("Node");if(!y||u.value in i||(i[u.value]={"@id":u.value}),s===l&&!t&&y){o.addValue(p,"@type",u.value,{propertyIsArray:!0});continue}const v=m(u,r);if(o.addValue(p,s,v,{propertyIsArray:!0}),y)if(u.value===c){const e=i[u.value];"usages"in e||(e.usages=[]),e.usages.push({node:p,property:s,value:v})}else u.value in h?h[u.value]=!1:h[u.value]={node:p,property:s,value:v}}for(const e in d){const t=d[e];if(!(c in t))continue;const r=t[c];if(r.usages){for(let e of r.usages){let r=e.node,o=e.property,l=e.value;const f=[],d=[];let p=Object.keys(r).length;for(;o===u&&i.isObject(h[r["@id"]])&&i.isArray(r[s])&&1===r[s].length&&i.isArray(r[u])&&1===r[u].length&&(3===p||4===p&&i.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===a)&&(f.push(r[s][0]),d.push(r["@id"]),r=(e=h[r["@id"]]).node,o=e.property,l=e.value,p=Object.keys(r).length,n.isBlankNode(r)););if(o===s){if(r["@id"]===c)continue;u in t[l["@id"]]&&(l=t[l["@id"]][u][0]),f.pop(),d.pop()}delete l["@id"],l["@list"]=f.reverse();for(const e of d)delete t[e]}delete r.usages}}const p=[],y=Object.keys(f).sort();for(const e of y){const t=f[e];if(e in d){const r=t["@graph"]=[],i=d[e],o=Object.keys(i).sort();for(const e of o){const t=i[e];n.isSubjectReference(t)||r.push(t)}}n.isSubjectReference(t)||p.push(t)}return p})},function(e,t,r){"use strict";const{createNodeMap:n}=r(72),{isKeyword:i}=r(40),o=r(30),a=r(21),s=r(18),{RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:f,RDF_LANGSTRING:d,XSD_BOOLEAN:h,XSD_DOUBLE:p,XSD_INTEGER:y,XSD_STRING:m}=r(58),{isAbsolute:v}=r(59),b={};function g(e,t,r,n,a){const s=Object.keys(t).sort();for(let u=0;u<s.length;++u){const c=s[u],l=t[c],d=Object.keys(l).sort();for(let t of d){const s=l[t];if("@type"===t)t=f;else if(i(t))continue;for(const i of s){const s={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!v(c))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(v(t)&&("BlankNode"!==u.termType||a.produceGeneralizedRdf))if(o.isList(i))_(i["@list"],n,s,u,e,r);else{const t=w(i);t&&e.push({subject:s,predicate:u,object:t,graph:r})}}}}}function _(e,t,r,n,i,o){const a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:c},f={termType:"NamedNode",value:l};for(const u of e){const e={termType:"BlankNode",value:t.getId()};i.push({subject:r,predicate:n,object:e,graph:o}),r=e,n=a;const c=w(u);c&&i.push({subject:r,predicate:n,object:c,graph:o}),n=s}i.push({subject:r,predicate:n,object:f,graph:o})}function w(e){const t={};if(o.isValue(e)){t.termType="Literal",t.value=void 0,t.datatype={termType:"NamedNode"};let r=e["@value"];const n=e["@type"]||null;a.isBoolean(r)?(t.value=r.toString(),t.datatype.value=n||h):a.isDouble(r)||n===p?(a.isDouble(r)||(r=parseFloat(r)),t.value=r.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype.value=n||p):a.isNumber(r)?(t.value=r.toFixed(0),t.datatype.value=n||y):"@language"in e?(t.value=r,t.datatype.value=n||d,t.language=e["@language"]):(t.value=r,t.datatype.value=n||m)}else{const r=a.isObject(e)?e["@id"]:e;t.termType=r.startsWith("_:")?"BlankNode":"NamedNode",t.value=r}return"NamedNode"!==t.termType||v(t.value)?t:null}e.exports=b,b.toRDF=((e,t)=>{const r=new s.IdentifierIssuer("_:b"),i={"@default":{}};n(e,i,"@default",r);const o=[],a=Object.keys(i).sort();for(const e of a){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!v(e))continue;(n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e}g(o,i[e],n,r,t)}return o})},function(e,t,r){"use strict";const{isKeyword:n}=r(40),i=r(30),o=r(21),a=r(18),s=r(31),{createNodeMap:u,mergeNodeMapGraphs:c}=r(72),l={};function f(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function d(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function p(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new s("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function y(e,t,r,s){let u=!0,c=!1;for(const l in r){let f=!1;const d=a.getValues(t,l),h=0===a.getValues(r,l).length;if(n(l)){if("@id"!==l&&"@type"!==l)continue;if(u=!1,"@id"===l){if(r["@id"].length>=0&&!o.isEmptyObject(r["@id"][0]))return r["@id"].includes(d[0]);f=!0;continue}if("@type"in r)if(h){if(d.length>0)return!1;f=!0}else{if(1!==r["@type"].length||!o.isEmptyObject(r["@type"][0])){for(const e of r["@type"])if(d.some(t=>t===e))return!0;return!1}f=d.length>0}}const y=a.getValues(r,l)[0];let m=!1;if(y&&(p([y]),m="@default"in y),u=!1,0!==d.length||!m){if(d.length>0&&h)return!1;if(void 0===y){if(d.length>0)return!1;f=!0}else if(o.isObject(y))f=d.length>0;else if(i.isValue(y))f=d.some(e=>g(y,e));else if(i.isSubject(y)||i.isSubjectReference(y))f=d.some(t=>b(e,y,t,s));else if(i.isList(y)){const t=y["@list"][0];if(i.isList(d[0])){const r=d[0]["@list"];i.isValue(t)?f=r.some(e=>g(t,e)):(i.isSubject(t)||i.isSubjectReference(t))&&(f=r.some(r=>b(e,t,r,s)))}else f=!1}if(!f&&s.requireAll)return!1;c=c||f}}return u||c}function m(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,s=n.property,u={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(a.compareValues(i[e],u)){i[e]=u;break}}else{const e=o.isArray(i[s]);a.removeValue(i,s,u,{propertyIsArray:e}),a.addValue(i,s,u,{propertyIsArray:e})}const c=e=>{const t=Object.keys(r);for(const n of t)n in r&&o.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],c(n))};c(t)}function v(e,t,r){o.isObject(e)?a.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function b(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&y(e,i,t,n)}function g(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===u.length||!(!a.includes(r)&&!o.isEmptyObject(a[0]))&&(!!(!n&&0===s.length||s.includes(n)||n&&o.isEmptyObject(s[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0])))}e.exports=l,l.frameMergedOrDefault=((e,t,r)=>{const n={options:r,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new a.IdentifierIssuer("_:b");u(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=c(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return l.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(e=>1===n.bnodeMap[e].length)),o}),l.frame=((e,t,r,s,u=null)=>{p(r),r=r[0];const c=e.options,b={embed:h(r,c,"embed"),explicit:h(r,c,"explicit"),requireAll:h(r,c,"requireAll")},_=function(e,t,r,n){const i={};for(const o of t){const t=e.graphMap[e.graph][o];y(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,b),w=Object.keys(_).sort();for(const t of w){const p=_[t];if("@link"===b.embed&&t in e.link){v(s,u,e.link[t]);continue}null===u?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};const y={};if(y["@id"]=t,0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,y,{propertyIsArray:!0}),e.link[t]=y,"@never"===b.embed||d(p,e.graph,e.subjectStack))v(s,u,y);else{if("@last"===b.embed&&(t in e.uniqueEmbeds[e.graph]&&m(e,t),e.uniqueEmbeds[e.graph][t]={parent:s,property:u}),e.subjectStack.push({subject:p,graph:e.graph}),t in e.graphMap){let n=!1,i=null;"@graph"in r?(i=r["@graph"][0],o.isObject(i)||(i={}),n=!("@merged"===t||"@default"===t)):(n="@merged"!==e.graph,i={}),n&&(e.graphStack.push(e.graph),e.graph=t,l.frame(e,Object.keys(e.graphMap[t]).sort(),[i],y,"@graph"),e.graph=e.graphStack.pop)}for(const t of Object.keys(p).sort())if(n(t)){if(y[t]=a.clone(p[t]),"@type"===t)for(const t of p["@type"])0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,y,{propertyIsArray:!0})}else if(!b.explicit||t in r)for(let n of p[t]){const o=t in r?r[t]:f(b);if(i.isList(n)){const o={"@list":[]};v(y,t,o);const s=n["@list"];for(const u in s)if(n=s[u],i.isSubjectReference(n)){const i=t in r?r[t][0]["@list"]:f(b);l.frame(e,[n["@id"]],i,o,"@list")}else v(o,"@list",a.clone(n))}else i.isSubjectReference(n)?l.frame(e,[n["@id"]],o,y,t):g(o[0],n)&&v(y,t,a.clone(n))}for(const e of Object.keys(r).sort()){if(n(e))continue;const t=r[e][0]||{};if(!(h(t,c,"omitDefault")||e in y)){let r="@null";"@default"in t&&(r=a.clone(t["@default"])),o.isArray(r)||(r=[r]),y[e]=[{"@preserve":r}]}}if("@reverse"in r)for(const n of Object.keys(r["@reverse"]).sort()){const i=r["@reverse"][n];for(const r of Object.keys(e.subjects)){a.getValues(e.subjects[r],n).some(e=>e["@id"]===t)&&(y["@reverse"]=y["@reverse"]||{},a.addValue(y["@reverse"],n,[],{propertyIsArray:!0}),l.frame(e,[r],i,y["@reverse"][n],u))}}v(s,u,y),e.subjectStack.pop()}}})},function(e,t,r){"use strict";const n=r(31),{isArray:i,isObject:o,isString:a}=r(21),{isList:s,isValue:u,isGraph:c,isSimpleGraph:l,isSubjectReference:f}=r(30),{expandIri:d,getContextValue:h,isKeyword:p,process:y}=r(40),{removeBase:m}=r(59),{addValue:v,asArray:b,compareShortestLeast:g}=r(18),_={};function w(e,t){if("@nest"!==d(e,t,{vocab:!0}))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=_,_.compact=(({activeCtx:e,activeProperty:t=null,element:r,options:a={},compactionMap:d=(()=>void 0)})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let o=_.compact({activeCtx:e,activeProperty:t,element:r[i],options:a,compactionMap:d});null===o&&void 0===(o=d({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:a}))||n.push(o)}if(a.compactArrays&&1===n.length){0===(h(e,t,"@container")||[]).length&&(n=n[0])}return n}const m=h(e,t,"@context");if(m&&(e=y({activeCtx:e,localCtx:m,options:a})),o(r)){if(a.link&&"@id"in r&&r["@id"]in a.link){const e=a.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(u(r)||f(r)){const n=_.compactValue({activeCtx:e,activeProperty:t,value:r});return a.link&&f(r)&&(r["@id"]in a.link||(a.link[r["@id"]]=[]),a.link[r["@id"]].push({expanded:r,compacted:n})),n}const m="@reverse"===t,g={};a.link&&"@id"in r&&(r["@id"]in a.link||(a.link[r["@id"]]=[]),a.link[r["@id"]].push({expanded:r,compacted:g}));let E=r["@type"]||[];E.length>1&&(E=Array.from(E).sort());for(const t of E){const r=_.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!0}}),n=h(e,r,"@context");n&&(e=y({activeCtx:e,localCtx:n,options:a}))}const S=Object.keys(r).sort();for(const f of S){const y=r[f];if("@id"!==f&&"@type"!==f)if("@reverse"!==f)if("@preserve"!==f)if("@index"!==f)if("@graph"!==f&&"@list"!==f&&p(f)){const t=_.compactIri({activeCtx:e,iri:f,relativeTo:{vocab:!0}});v(g,t,y)}else{if(!i(y))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===y.length){const t=_.compactIri({activeCtx:e,iri:f,value:y,relativeTo:{vocab:!0},reverse:m}),r=t in e.mappings?e.mappings[t]["@nest"]:null;let n=g;r&&(w(e,r),o(g[r])||(g[r]={}),n=g[r]),v(n,t,y,{propertyIsArray:!0})}for(const t of y){const r=_.compactIri({activeCtx:e,iri:f,value:t,relativeTo:{vocab:!0},reverse:m}),p=r in e.mappings?e.mappings[r]["@nest"]:null;let y=g;p&&(w(e,p),o(g[p])||(g[p]={}),y=g[p]);const E=h(e,r,"@container")||[],S=c(t),T=s(t);let O;T?O=t["@list"]:S&&(O=t["@graph"]);let x=_.compact({activeCtx:e,activeProperty:r,element:T||S?O:t,options:a,compactionMap:d});if(T)if(i(x)||(x=[x]),E.includes("@list")){if(r in y)throw new n('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"})}else x={[_.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:x},"@index"in t&&(x[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]);if(S)if(E.includes("@graph")&&(E.includes("@id")||E.includes("@index")&&l(t))){let n;r in y?n=y[r]:y[r]=n={};const i=(E.includes("@id")?t["@id"]:t["@index"])||_.compactIri({activeCtx:e,iri:"@none",vocab:!0});v(n,i,x,{propertyIsArray:!a.compactArrays||E.includes("@set")})}else E.includes("@graph")&&l(t)?v(y,r,x,{propertyIsArray:!a.compactArrays||E.includes("@set")}):(i(x)&&1===x.length&&a.compactArrays&&(x=x[0]),x={[_.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:x},"@id"in t&&(x[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(x[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),v(y,r,x,{propertyIsArray:!a.compactArrays||E.includes("@set")}));else if(E.includes("@language")||E.includes("@index")||E.includes("@id")||E.includes("@type")){let n,i;if(r in y?n=y[r]:y[r]=n={},E.includes("@language"))u(x)&&(x=x["@value"]),i=t["@language"];else if(E.includes("@index"))i=t["@index"];else if(E.includes("@id")){const t=_.compactIri({activeCtx:e,iri:"@id",vocab:!0});i=x[t],delete x[t]}else if(E.includes("@type")){const t=_.compactIri({activeCtx:e,iri:"@type",vocab:!0});let r;switch([i,...r]=b(x[t]||[]),r.length){case 0:delete x[t];break;case 1:x[t]=r[0];break;default:x[t]=r}}i||(i=_.compactIri({activeCtx:e,iri:"@none",vocab:!0})),v(n,i,x,{propertyIsArray:E.includes("@set")})}else{const e=!a.compactArrays||E.includes("@set")||E.includes("@list")||i(x)&&0===x.length||"@list"===f||"@graph"===f;v(y,r,x,{propertyIsArray:e})}}}else{if((h(e,t,"@container")||[]).includes("@index"))continue;const r=_.compactIri({activeCtx:e,iri:f,relativeTo:{vocab:!0}});v(g,r,y)}else{const r=_.compact({activeCtx:e,activeProperty:t,element:y,options:a,compactionMap:d});i(r)&&0===r.length||v(g,f,r)}else{const t=_.compact({activeCtx:e,activeProperty:"@reverse",element:y,options:a,compactionMap:d});for(const r in t)if(e.mappings[r]&&e.mappings[r].reverse){const n=t[r],i=(h(e,r,"@container")||[]).includes("@set")||!a.compactArrays;v(g,r,n,{propertyIsArray:i}),delete t[r]}if(Object.keys(t).length>0){const r=_.compactIri({activeCtx:e,iri:f,relativeTo:{vocab:!0}});v(g,r,t)}}else{let t=b(y).map(t=>_.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:"@type"===f}}));1===t.length&&(t=t[0]);const r=_.compactIri({activeCtx:e,iri:f,relativeTo:{vocab:!0}}),n=i(t)&&0===y.length;v(g,r,t,{propertyIsArray:n})}}return g}return r}),_.compactIri=(({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1})=>{if(null===t)return t;const a=e.getInverse();if(p(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(n.vocab&&t in a){const n=e["@language"]||"@none",a=[];o(r)&&"@index"in r&&!("@graph"in r)&&a.push("@index","@index@set"),o(r)&&"@preserve"in r&&(r=r["@preserve"][0]),c(r)?("@index"in r&&a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&a.push("@graph@id","@graph@id@set"),a.push("@graph","@graph@set","@set"),"@index"in r||a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||a.push("@graph@id","@graph@id@set")):o(r)&&!u(r)&&a.push("@id","@id@set","@type","@set@type");let l="@language",d="@null";if(i)l="@type",d="@reverse",a.push("@set");else if(s(r)){"@index"in r||a.push("@list");const e=r["@list"];if(0===e.length)l="@any",d="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",a="@none";if(u(i)?"@language"in i?o=i["@language"]:"@type"in i?a=i["@type"]:o="@null":a="@id",null===t?t=o:o!==t&&u(i)&&(t="@none"),null===r?r=a:a!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none","@none"!==(r=r||"@none")?(l="@type",d=r):d=t}}else u(r)?"@language"in r&&!("@index"in r)?(a.push("@language","@language@set"),d=r["@language"]):"@type"in r&&(l="@type",d=r["@type"]):(l="@type",d="@id"),a.push("@set");a.push("@none"),!o(r)||"@index"in r||a.push("@index","@index@set"),u(r)&&1===Object.keys(r).length&&a.push("@language","@language@set");const h=function(e,t,r,n,i,o){null===o&&(o="@null");const a=[];if("@id"!==o&&"@reverse"!==o||!f(r))a.push(o);else{"@reverse"===o&&a.push("@reverse");const t=_.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});t in e.mappings&&e.mappings[t]&&e.mappings[t]["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}a.push("@none");const s=e.inverse[t];for(let e=0;e<n.length;++e){const t=n[e];if(!(t in s))continue;const r=s[t][i];for(let e=0;e<a.length;++e){const t=a[e];if(t in r)return r[t]}}return null}(e,t,r,a,l,d);if(null!==h)return h}if(n.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!(n in e.mappings))return n}}let l=null;const d=[];let h=e.fastCurieMap;const y=t.length-1;for(let e=0;e<y&&t[e]in h;++e)""in(h=h[t[e]])&&d.push(h[""][0]);for(let n=d.length-1;n>=0;--n){const i=d[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings[n]._prefix&&(!(o in e.mappings)||null===r&&e.mappings[o]["@id"]===t)&&(null===l||g(o,l)<0)&&(l=o)}}return null!==l?l:n.vocab?t:m(e["@base"],t)}),_.compactValue=(({activeCtx:e,activeProperty:t,value:r})=>{if(u(r)){const n=h(e,t,"@type"),i=h(e,t,"@language"),o=h(e,t,"@container")||[],s="@index"in r&&!o.includes("@index");if(!s&&(r["@type"]===n||r["@language"]===i))return r["@value"];const u=Object.keys(r).length,c=1===u||2===u&&"@index"in r&&!s,l="@language"in e,f=a(r["@value"]),d=e.mappings[t]&&null===e.mappings[t]["@language"];if(c&&(!l||!f||d))return r["@value"];const p={};return s&&(p[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?p[_.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=_.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(p[_.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),p[_.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],p}const n=d(e,t,{vocab:!0}),i=h(e,t,"@type"),o=_.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===i}});return"@id"===i||"@vocab"===i||"@graph"===n?o:{[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:o}}),
/**
 * Removes the @preserve keywords as the last step of the compaction
 * algorithm when it is running on framed output.
 *
 * @param ctx the active context used to compact the input.
 * @param input the framed, compacted output.
 * @param options the compaction options used.
 *
 * @return the resulting output.
 */
_.removePreserve=((e,t,r)=>{if(i(t)){const n=[];for(let i=0;i<t.length;++i){const o=_.removePreserve(e,t[i],r);null!==o&&n.push(o)}t=n}else if(o(t)){
// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(u(t))return t;if(s(t))return t["@list"]=_.removePreserve(e,t["@list"],r),t;const n=_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(n in t){const e=t[n];if(e in r.link){const n=r.link[e].indexOf(t);if(-1!==n)return r.link[e][n];r.link[e].push(t)}else r.link[e]=[t]}const o=_.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(const a in t){if(a===n&&r.bnodesToClear.includes(t[a])){delete t[n];continue}let s=_.removePreserve(e,t[a],r);const u=h(e,a,"@container")||[];r.compactArrays&&i(s)&&1===s.length&&0===u.length&&a!==o&&(s=s[0]),t[a]=s}}return t})},function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=r(18),{LINK_HEADER_REL:o}=r(58),a=r(31),s=r(95);e.exports=(({secure:e,strictSSL:t=!0,maxRedirects:u=-1,request:c,headers:l={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{l=i(l),c=c||r(348);const f=r(349);return(new s).wrapLoader(function(r){return async function r(i,s){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let d=null;if(null!==d)return d;let h;try{h=await function(e,t){return new Promise((r,n)=>{e(t,(e,t,i)=>{e?n(e):r({res:t,body:i})})})}(c,{url:i,headers:l,strictSSL:t,followRedirect:!1})}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}const{res:p,body:y}=h;d={contextUrl:null,documentUrl:i,document:y||null};const m=f.STATUS_CODES[p.statusCode];if(p.statusCode>=400)throw new a("URL could not be dereferenced: "+m,"jsonld.InvalidUrl",{code:"loading document failed",url:i,httpStatusCode:p.statusCode});if(p.headers.link&&"application/ld+json"!==p.headers["content-type"]){const e=n(p.headers.link)[o];if(Array.isArray(e))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});e&&(d.contextUrl=e.target)}if(p.statusCode>=300&&p.statusCode<400&&p.headers.location){if(s.length===u)throw new a("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:i,httpStatusCode:p.statusCode,redirects:s});if(-1!==s.indexOf(i))throw new a("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:i,httpStatusCode:p.statusCode,redirects:s});return s.push(i),r(p.headers.location,s)}s.push(i);return d}(r,[])})})},function(e,t){},function(e,t){},function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=r(18),{LINK_HEADER_REL:o}=r(58),a=r(31),s=r(95),u=/(^|(\r\n))link:/i;e.exports=(({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=i(t),(new s).wrapLoader(async function(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let s;try{s=await function(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise((e,i)=>{n.onload=(()=>e(n)),n.onerror=(e=>i(e)),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()})}(r,i,t)}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});const c={contextUrl:null,documentUrl:i,document:s.response},l=s.getResponseHeader("Content-Type");let f;u.test(s.getAllResponseHeaders())&&(f=s.getResponseHeader("Link"));if(f&&"application/ld+json"!==l){if(f=n(f)[o],Array.isArray(f))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});f&&(c.contextUrl=f.target)}return c})})},function(e,t,r){"use strict";e.exports=(e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t})},function(e,t,r){(function(t){!function(){var r;r="object"==typeof window&&window?window:t,e.exports?e.exports=r.Promise?r.Promise:a:r.Promise||(r.Promise=a);var n=r.setImmediate||function(e){setTimeout(e,1)};function i(e,t){return function(){e.apply(t,arguments)}}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(e,i(u,this),i(c,this))}function s(e){var t=this;null!==this._state?n(function(){var r=t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void e.reject(t)}e.resolve(n)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function u(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void f(i(t,e),i(u,this),i(c,this))}this._state=!0,this._value=e,l.call(this)}catch(e){c.call(this,e)}}function c(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;e<t;e++)s.call(this,this._deferreds[e]);this._deferreds=null}function f(e,t,r){var n=!1;try{e(function(e){n||(n=!0,t(e))},function(e){n||(n=!0,r(e))})}catch(e){if(n)return;n=!0,r(e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var r=this;return new a(function(n,i){s.call(r,new function(e,t,r,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n}(e,t,n,i))})},a.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&o(arguments[0])?arguments[0]:arguments);return new a(function(t,r){if(0===e.length)return t([]);var n=e.length;function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},r)}e[o]=a,0==--n&&t(e)}catch(e){r(e)}}for(var o=0;o<e.length;o++)i(o,e[o])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,r){r(e)})},a.race=function(e){return new a(function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)})}}()}).call(this,r(9))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(90),i=r(354);t.ActorRdfParseRdfXml=class extends n.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){e.input.on("error",e=>n.emit("error",e));const n=e.input.pipe(new i.RdfXmlParser({baseIRI:e.baseIRI}));return{quads:n,triples:!0}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(355))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(125),i=r(165),o=r(5);class a extends o.Transform{constructor(e){super({objectMode:!0}),this.activeTagStack=[],this.nodeIds={},e&&(Object.assign(this,e),this.options=e),this.dataFactory||(this.dataFactory=r(6)),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.saxStream=i.createStream(this.strict,{xmlns:!1,position:!1}),this.strict||(this.saxStream._parser.looseCase="toString"),this.attachSaxListeners()}static parseNamespace(e,t){const r={};let n=!1;for(const t in e.attributes)t.startsWith("xmlns")&&(5===t.length?(n=!0,r[""]=e.attributes[t]):":"===t.charAt(5)&&(n=!0,r[t.substr(6)]=e.attributes[t]));const i=t&&t.ns?t.ns:[a.DEFAULT_NS];return n?i.concat([r]):i}static expandPrefixedTerm(e,t){const r=e.indexOf(":");let n,i;r>=0?(n=e.substr(0,r),i=e.substr(r+1)):(n="",i=e);let o=null,a=null;for(let e=t.length-1;e>=0;e--){const r=t[e][n];if(r){o=r;break}a||(a=t[e][""])}return o||(o=a||""),{prefix:n,local:i,uri:o}}import(e){const t=new o.PassThrough({objectMode:!0});e.on("error",e=>r.emit("error",e)),e.on("data",e=>t.write(e)),e.on("end",()=>t.emit("end"));const r=t.pipe(new a(this.options));return r}_transform(e,t,r){this.saxStream.write(e,t),r()}valueToUri(e,t){return this.dataFactory.namedNode(n.resolve(e,t.baseIRI))}validateNcname(e){a.NCNAME_MATCHER.test(e)||this.emit("error",new Error(`Not a valid NCName: ${e}`))}attachSaxListeners(){this.saxStream.on("error",e=>this.emit("error",e)),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}onTag(e){const t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let r=s.RESOURCE;if(t&&(t.hadChildren=!0,r=t.childrenParseType),t&&t.childrenStringTags){const r=e.name;let n="";for(const t in e.attributes)n+=` ${t}="${e.attributes[t]}"`;const i=`<${`${r}${n}`}>`;t.childrenStringTags.push(i);const o={childrenStringTags:t.childrenStringTags};return o.childrenStringEmitClosingTag=`</${r}>`,void this.activeTagStack.push(o)}const n={};t?(n.language=t.language,n.baseIRI=t.baseIRI):n.baseIRI=this.baseIRI,this.activeTagStack.push(n),n.ns=a.parseNamespace(e,t),r===s.RESOURCE?this.onTagResource(e,n,t,!t):this.onTagProperty(e,n,t)}onTagResource(e,t,r,n){const i=a.expandPrefixedTerm(e.name,t.ns);t.childrenParseType=s.PROPERTY;let o=!0;if(i.uri===a.RDF)switch(!n&&a.FORBIDDEN_NODE_ELEMENTS.indexOf(i.local)>=0&&this.emit("error",new Error(`Illegal node element name: ${i.local}`)),i.local){case"RDF":t.childrenParseType=s.RESOURCE;case"Description":o=!1}const u=[],c=[];let l=null,f=!1,d=!1,h=null;for(const n in e.attributes){const i=e.attributes[n],o=a.expandPrefixedTerm(n,t.ns);if(r&&o.uri===a.RDF)switch(o.local){case"about":l&&this.emit("error",new Error(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${l} where found.`)),l=i;continue;case"ID":l&&this.emit("error",new Error(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${l} where found.`)),this.validateNcname(i),l="#"+i,f=!0;continue;case"nodeID":l&&this.emit("error",new Error(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${l} where found.`)),this.validateNcname(i),l=i,d=!0;continue;case"bagID":this.emit("error",new Error("rdf:bagID is not supported."));continue;case"type":h=i;continue;case"aboutEach":this.emit("error",new Error("rdf:aboutEach is not supported."));continue;case"aboutEachPrefix":this.emit("error",new Error("rdf:aboutEachPrefix is not supported."));continue;case"li":this.emit("error",new Error("rdf:li on node elements are not supported."));continue}else if(o.uri===a.XML){if("lang"===o.local){t.language=""===i?null:i.toLowerCase();continue}if("base"===o.local){t.baseIRI=i;continue}}"xml"!==o.prefix&&o.uri&&(u.push(this.dataFactory.namedNode(o.uri+o.local)),c.push(i))}if(null!==l&&(t.subject=d?this.dataFactory.blankNode(l):this.valueToUri(l,t),f&&this.claimNodeId(t.subject)),t.subject||(t.subject=this.dataFactory.blankNode()),o){const e=this.dataFactory.namedNode(i.uri+i.local);this.emitTriple(t.subject,this.dataFactory.namedNode(a.RDF+"type"),e,r?r.reifiedStatementId:null)}if(r){if(r.predicate)if(r.childrenCollectionSubject){const e=this.dataFactory.blankNode();this.emitTriple(r.childrenCollectionSubject,r.childrenCollectionPredicate,e,r.reifiedStatementId),this.emitTriple(e,this.dataFactory.namedNode(a.RDF+"first"),t.subject,t.reifiedStatementId),r.childrenCollectionSubject=e,r.childrenCollectionPredicate=this.dataFactory.namedNode(a.RDF+"rest")}else{this.emitTriple(r.subject,r.predicate,t.subject,r.reifiedStatementId);for(let e=0;e<r.predicateSubPredicates.length;e++)this.emitTriple(t.subject,r.predicateSubPredicates[e],r.predicateSubObjects[e],null);r.predicateSubPredicates=[],r.predicateSubObjects=[],r.predicateEmitted=!0}for(let e=0;e<u.length;e++){const n=this.dataFactory.literal(c[e],t.datatype||t.language);this.emitTriple(t.subject,u[e],n,r.reifiedStatementId)}h&&this.emitTriple(t.subject,this.dataFactory.namedNode(a.RDF+"type"),this.dataFactory.namedNode(h),null)}}onTagProperty(e,t,r){const n=a.expandPrefixedTerm(e.name,t.ns);t.childrenParseType=s.RESOURCE,t.subject=r.subject,n.uri===a.RDF&&"li"===n.local?(r.listItemCounter||(r.listItemCounter=1),t.predicate=this.dataFactory.namedNode(n.uri+"_"+r.listItemCounter++)):t.predicate=this.dataFactory.namedNode(n.uri+n.local),n.uri===a.RDF&&a.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(n.local)>=0&&this.emit("error",new Error(`Illegal property element name: ${n.local}`)),t.predicateSubPredicates=[],t.predicateSubObjects=[];let i=!1,o=!1,u=null,c=!0;const l=[],f=[];for(const r in e.attributes){const n=e.attributes[r],d=a.expandPrefixedTerm(r,t.ns);if(d.uri===a.RDF)switch(d.local){case"resource":u&&this.emit("error",new Error(`Found both rdf:resource (${n}) and rdf:nodeID (${u}).`)),i&&this.emit("error",new Error(`rdf:parseType is not allowed on property elements with rdf:resource (${n})`)),t.hadChildren=!0,u=n,c=!1;continue;case"datatype":o&&this.emit("error",new Error(`Found both non-rdf:* property attributes and rdf:datatype (${n}).`)),i&&this.emit("error",new Error(`rdf:parseType is not allowed on property elements with rdf:datatype (${n})`)),t.datatype=this.valueToUri(n,t);continue;case"nodeID":o&&this.emit("error",new Error(`Found both non-rdf:* property attributes and rdf:nodeID (${n}).`)),t.hadChildren&&this.emit("error",new Error(`Found both rdf:resource and rdf:nodeID (${n}).`)),i&&this.emit("error",new Error(`rdf:parseType is not allowed on property elements with rdf:nodeID (${n})`)),this.validateNcname(n),t.hadChildren=!0,u=n,c=!0;continue;case"bagID":this.emit("error",new Error("rdf:bagID is not supported."));continue;case"parseType":if(o&&this.emit("error",new Error("rdf:parseType is not allowed when non-rdf:* property attributes are present")),t.datatype&&this.emit("error",new Error(`rdf:parseType is not allowed on property elements with rdf:datatype (${t.datatype.value})`)),u&&this.emit("error",new Error(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${u})`)),"Resource"===n){i=!0,t.childrenParseType=s.PROPERTY;const e=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,e,t.reifiedStatementId),t.subject=e,t.predicate=null}else"Collection"===n?(i=!0,t.hadChildren=!0,t.childrenCollectionSubject=t.subject,t.childrenCollectionPredicate=t.predicate,c=!1):"Literal"===n&&(i=!0,t.childrenTagsToString=!0,t.childrenStringTags=[]);continue;case"ID":this.validateNcname(n),t.reifiedStatementId=this.valueToUri("#"+n,t),this.claimNodeId(t.reifiedStatementId);continue}else if(d.uri===a.XML&&"lang"===d.local){t.language=""===n?null:n.toLowerCase();continue}"xml"!==d.prefix&&d.uri&&((i||t.datatype)&&this.emit("error",new Error(`Found illegal rdf:* properties on property element with attribute: ${n}`)),t.hadChildren=!0,o=!0,l.push(this.dataFactory.namedNode(d.uri+d.local)),f.push(this.dataFactory.literal(n,t.datatype||t.language)))}if(null!==u){const e=t.subject;t.subject=c?this.dataFactory.blankNode(u):this.valueToUri(u,t),this.emitTriple(e,t.predicate,t.subject,t.reifiedStatementId);for(let e=0;e<l.length;e++)this.emitTriple(t.subject,l[e],f[e],null);t.predicateEmitted=!0}else c&&(t.predicateSubPredicates=l,t.predicateSubObjects=f,t.predicateEmitted=!1)}emitTriple(e,t,r,n){this.push(this.dataFactory.quad(e,t,r,this.defaultGraph)),n&&(this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(a.RDF+"type"),this.dataFactory.namedNode(a.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(a.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(a.RDF+"predicate"),t,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(a.RDF+"object"),r,this.defaultGraph)))}claimNodeId(e){this.nodeIds[e.value]&&this.emit("error",new Error(`Found multiple occurrences of rdf:ID='${e.value}'.`)),this.nodeIds[e.value]=!0}onText(e){const t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;t&&(t.childrenStringTags?t.childrenStringTags.push(e):t.predicate&&(t.text=e))}onCloseTag(){const e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(a.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(a.RDF+"nil"),e.reifiedStatementId);else if(e.predicate)if(e.hadChildren||e.childrenParseType===s.PROPERTY){if(!e.predicateEmitted){const t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId);for(let r=0;r<e.predicateSubPredicates.length;r++)this.emitTriple(t,e.predicateSubPredicates[r],e.predicateSubObjects[r],null)}}else this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId)}onDoctype(e){e.replace(/<!ENTITY ([^ ]+) "([^"]+)">/g,(e,t,r)=>(this.saxStream._parser.ENTITIES[t]=r,""))}}var s;a.MIME_TYPE="application/rdf+xml",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a.XML="http://www.w3.org/XML/1998/namespace",a.XMLNS="http://www.w3.org/2000/xmlns/",a.DEFAULT_NS={xml:a.XML},a.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],a.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],a.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,t.RdfXmlParser=a,function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"}(s=t.ParseType||(t.ParseType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(167),i=r(359);t.ActorRdfJoinNestedLoop=class extends n.ActorRdfJoin{constructor(e){super(e,2)}async getOutput(e){return{type:"bindings",bindingsStream:new i.NestedLoopJoin(e.entries[0].bindingsStream,e.entries[1].bindingsStream,n.ActorRdfJoin.join),variables:n.ActorRdfJoin.joinVariables(e)}}async getIterations(e){return(await e.entries[0].metadata()).totalItems*(await e.entries[1].metadata()).totalItems}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(8);class o extends n.Actor{constructor(e,t){super(e),this.maxEntries=t}static overlappingVariables(e){return r(358).apply(this,e.entries.map(e=>e.variables))}static joinVariables(e){return r(168).apply(this,e.entries.map(e=>e.variables))}static join(...e){try{return e.reduce((e,t)=>e.mergeWith((e,t)=>{if(!e.equals(t))throw new Error;return e},t))}catch(e){return null}}static async iteratorsHaveMetadata(e,t){return Promise.all(e.entries.map(async e=>{if(!(await e.metadata()).hasOwnProperty(t))throw new Error})).then(()=>!0).catch(()=>!1)}async test(e){if(e.entries.length<=1)return{iterations:0};if(this.maxEntries&&e.entries.length>this.maxEntries)throw new Error(this.name+" supports "+this.maxEntries+" sources at most. The input contained "+e.entries.length+".");for(const t of e.entries)if("bindings"!==t.type)throw new Error("Invalid type of a join entry: Expected 'bindings' but got '"+t.type+"'");return await o.iteratorsHaveMetadata(e,"totalItems")?{iterations:await this.getIterations(e)}:{iterations:1/0}}async run(e){if(0===e.entries.length)return{bindingsStream:new i.EmptyIterator,metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:[]};if(1===e.entries.length)return e.entries[0];const t=this.getOutput(e);if(await o.iteratorsHaveMetadata(e,"totalItems")){const r=()=>Promise.all(e.entries.map(e=>e.metadata())).then(e=>e.reduce((e,t)=>e*t.totalItems,1)),n=await t;if(n.metadata){const e=n.metadata;n.metadata=(()=>e().then(async e=>(e.hasOwnProperty("totalItems")||(e.totalItems=await r()),e)))}else n.metadata=(()=>r().then(e=>({totalItems:e})));return n}return t}}t.ActorRdfJoin=o},function(e,t,r){(function(t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=s||u||Function("return this")();function l(e,t){return!!(e?e.length:0)&&function(e,t,r){if(t!=t)return function(e,t,r,n){var i=e.length,o=r+(n?1:-1);for(;n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,h,r);var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function f(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function d(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function h(e){return e!=e}function p(e){return function(t){return e(t)}}function y(e,t){return e.has(t)}var m=Array.prototype,v=Function.prototype,b=Object.prototype,g=c["__core-js_shared__"],_=function(){var e=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),w=v.toString,E=b.hasOwnProperty,S=b.toString,T=RegExp("^"+w.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=m.splice,x=Math.max,A=Math.min,I=F(c,"Map"),N=F(Object,"create");function j(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.__data__=new R;++t<r;)this.add(e[t])}function D(e,t){for(var r=e.length;r--;)if(q(e[r][0],t))return r;return-1}function M(e){return!(!V(e)||function(e){return!!_&&_ in e}(e))&&(U(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:a).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function C(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!U(e)}(e)}(e)?e:[]}function L(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function F(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return M(r)?r:void 0}j.prototype.clear=function(){this.__data__=N?N(null):{}},j.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},j.prototype.get=function(e){var t=this.__data__;if(N){var n=t[e];return n===r?void 0:n}return E.call(t,e)?t[e]:void 0},j.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:E.call(t,e)},j.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?r:t,this},k.prototype.clear=function(){this.__data__=[]},k.prototype.delete=function(e){var t=this.__data__,r=D(t,e);return!(r<0||(r==t.length-1?t.pop():O.call(t,r,1),0))},k.prototype.get=function(e){var t=this.__data__,r=D(t,e);return r<0?void 0:t[r][1]},k.prototype.has=function(e){return D(this.__data__,e)>-1},k.prototype.set=function(e,t){var r=this.__data__,n=D(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new j,map:new(I||k),string:new j}},R.prototype.delete=function(e){return L(this,e).delete(e)},R.prototype.get=function(e){return L(this,e).get(e)},R.prototype.has=function(e){return L(this,e).has(e)},R.prototype.set=function(e,t){return L(this,e).set(e,t),this},P.prototype.add=P.prototype.push=function(e){return this.__data__.set(e,r),this},P.prototype.has=function(e){return this.__data__.has(e)};var B=function(e,t){return t=x(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,i=x(r.length-t,0),o=Array(i);++n<i;)o[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=o,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}(function(e){var t=d(e,C);return t.length&&t[0]===e[0]?function(e,t,r){for(var n=r?f:l,i=e[0].length,o=e.length,a=o,s=Array(o),u=1/0,c=[];a--;){var h=e[a];a&&t&&(h=d(h,p(t))),u=A(h.length,u),s[a]=!r&&(t||i>=120&&h.length>=120)?new P(a&&h):void 0}h=e[0];var m=-1,v=s[0];e:for(;++m<i&&c.length<u;){var b=h[m],g=t?t(b):b;if(b=r||0!==b?b:0,!(v?y(v,g):n(c,g,r))){for(a=o;--a;){var _=s[a];if(!(_?y(_,g):n(e[a],g,r)))continue e}v&&v.push(g),c.push(b)}}return c}(t):[]});function q(e,t){return e===t||e!=e&&t!=t}function U(e){var t=V(e)?S.call(e):"";return t==i||t==o}function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=B}).call(this,r(9))},function(e,t,r){const n=r(360),i=r(361),o=r(362),a=r(363),s=r(364);e.exports={DynamicNestedLoopJoin:n,HashJoin:i,NestedLoopJoin:o,SymmetricHashJoin:a,MergeStream:s}},function(e,t,r){let n=r(8),i=n.MultiTransformIterator,o=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r){super(e),this.funRight=t,this.funJoin=r}_createTransformer(e){return new o(this.funRight(e),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},function(e,t,r){let n=r(8);e.exports=class extends n{constructor(e,t,r,n){super(t),this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.readable=!1,this.left.on("end",function(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}.bind(this)),this.left.on("data",function(e){let t=this.funHash(e);this.leftMap.has(t)||this.leftMap.set(t,[]),this.leftMap.get(t).push(e)}.bind(this))}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.funJoin(e,this.match);if(null!==t)return t}if(this.hasResults()||this._end(),this.match=this.right.read(),null===this.match)return this.readable=!1,null;let e=this.funHash(this.match);return this.matches=this.leftMap.get(e)||[],this.matchIdx=0,this.read()}}},function(e,t,r){let n=r(8),i=n.MultiTransformIterator,o=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r){super(e),this.right=t,this.funJoin=r,this.on("end",()=>this.right.close())}close(){super.close(),this.right.close()}_createTransformer(e){return new o(this.right.clone(),{transform:(t,r)=>{let n=this.funJoin(e,t);null!==n&&this._push(n),r()}})}}},function(e,t,r){let n=r(8);e.exports=class extends n{constructor(e,t,r,n){super(),this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}close(){super.close(),this.left.close(),this.right.close()}read(){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.usedLeft?this.funJoin(this.match,e):this.funJoin(e,this.match);if(null!==t)return t}this.hasResults()||this._end();let e=null;for(let t=0;t<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,null===e);++t);if(null===e)return this.readable=!1,null;let t=this.funHash(e),r=this.usedLeft?this.leftMap:this.rightMap;return r.has(t)||r.set(t,[]),r.get(t).push(e),this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(t)||[],this.matchIdx=0,this.read()}}},function(e,t,r){let n=r(8);e.exports=class extends n{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let t of e)t.on("readable",()=>this.emit("readable")),t.on("end",()=>this._removeStream(t));0===this.streams.length&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let t=this.streams.indexOf(e);t<0||(this.streams.splice(t,1),this.idx>=this.streams.length&&--this.idx,0===this.streams.length&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let e=this.streams[this.idx].read();if(null!==e)return e}return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(366))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22);t.ActorRdfResolveQuadPatternRdfJsSource=class extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e)}async test(e){if(!this.hasContextSingleSource("rdfjsSource",e.context))throw new Error(this.name+" requires a single source with an rdfjsSource to be present in the context.");if(!this.getContextSource(e.context).value.match)throw new Error(this.name+" received an invalid rdfjsSource.");return!0}async getSource(e){return this.getContextSource(e).value}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8),i=r(169);class o extends i.ActorRdfResolveQuadPattern{constructor(e){super(e)}static variableToNull(e){return e&&"Variable"===e.termType?null:e}async test(e){return!0}async run(e){const t=await this.getSource(e.context),r=await this.getOutput(t,e.pattern,e.context);return r.metadata&&(r.metadata=i.ActorRdfResolveQuadPattern.cachifyMetadata(r.metadata)),r}async getOutput(e,t,r){return e.matchLazy?{data:e.matchLazy(o.variableToNull(t.subject),o.variableToNull(t.predicate),o.variableToNull(t.object),o.variableToNull(t.graph))}:{data:n.AsyncIterator.wrap(e.match(o.variableToNull(t.subject),o.variableToNull(t.predicate),o.variableToNull(t.object),o.variableToNull(t.graph)))}}}t.ActorRdfResolveQuadPatternSource=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.MediatorCombinePipeline=class extends n.Mediator{constructor(e){super(e)}async mediate(e){let t;try{t=this.publish(e)}catch(t){return e}await Promise.all(r(69)(t,"reply"));let n=e;for(const e of t.map(e=>e.actor))n=await e.runObservable(n);return n}mediateWith(e,t){throw new Error("Method not supported.")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(170);t.ActorHttpInvalidateListenable=class extends n.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return!0}async run(e){for(const t of this.invalidateListeners)t(e);return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.MediatorAll=class extends n.Mediator{constructor(e){super(e)}async mediate(e){const t=[];let r;try{r=this.publish(e)}catch(e){r=[]}for(const e of r)try{await e.reply,t.push(e.actor)}catch(e){}return await Promise.all(t.map(t=>t.runObservable(e))),null}async mediateWith(e,t){return null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(8);t.ActorQueryOperationBgpEmpty=class extends n.ActorQueryOperationTyped{constructor(e){super(e,"bgp")}async testOperation(e,t){if(0!==e.patterns.length)throw new Error("Actor "+this.name+" can only operate on empty BGPs.");return!0}async runOperation(e,t){return{bindingsStream:new i.SingletonIterator(n.Bindings({})),metadata:()=>Promise.resolve({totalItems:1}),type:"bindings",variables:[]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(174);t.ActorQueryOperationTypedMediated=class extends n.ActorQueryOperationTyped{constructor(e,t){super(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28);t.Bindings=function(e){return n.Map(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(8),o=r(12);t.ActorQueryOperationValues=class extends n.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,t){return!0}async runOperation(e,t){return{type:"bindings",bindingsStream:new i.ArrayIterator(e.bindings.map(n.Bindings)),metadata:()=>Promise.resolve({totalItems:e.bindings.length}),variables:e.variables.map(o.termToString)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6);function i(e){if(!e)return null;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function o(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function a(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function s(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function u(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':const r=s(e),n=t.namedNode(a(e));return t.literal(o(e),r||n);default:return t.namedNode(e)}}t.termToString=i,t.getLiteralValue=o,t.getLiteralType=a,t.getLiteralLanguage=s,t.stringToTerm=u,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(u(e.subject,t),u(e.predicate,t),u(e.object,t),u(e.graph,t))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(377),i=r(14);t.ActorOptimizeQueryOperationJoinBgp=class extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return!0}async run(e){return{operation:i.Util.mapOperation(e.operation,{join:(e,t)=>"bgp"===e.left.type&&"bgp"===e.right.type?{recurse:!1,result:t.createBgp(e.left.patterns.concat(e.right.patterns))}:{recurse:!1,result:e}})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(378))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorOptimizeQueryOperation=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(74),i=r(97),o=r(177),a=r(98).Parser,s=r(384),u=n.types;let c,l=new Set,f=0,d=!1;function h(e,t,r){if(l=new Set,f=0,d=t,"query"!==e.type)throw new Error("Translate only works on complete query objects.");let n={type:"group",patterns:e.where||[]},i=new Set(Object.keys(function e(t){let r={};if(y(t))r[t]=!0,l.add(t);else if(function(e){return null!==e&&"object"==typeof e}(t))if("bind"===t.type)e(t.expression),Object.assign(r,e(t.variable));else if("SELECT"===t.queryType){let n=e(t.where);for(let i of t.variables)"*"===i?Object.assign(r,n):i.variable?Object.assign(r,e(i.variable)):Object.assign(r,e(i));if(t.group)for(let n of t.group)Object.assign(r,e(n))}else for(let n of Object.keys(t))Object.assign(r,e(t[n]));return r}(n)).map(c.createTerm.bind(c))),a=m(n);return a=function(e,t,r){let n=[],i={};if(e.variables=x(e.variables,i),e.having=x(e.having,i),e.order=x(e.order,i),e.group||Object.keys(i).length>0){let r=Object.keys(i).map(e=>(function(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: "+JSON.stringify(e));let r=v(e);return r.variable=t,r})(i[e],c.createTerm(e))),n=[];if(e.group)for(let r of e.group)if(r.expression.type){const e=r.variable?c.createTerm(r.variable):_();t=c.createExtend(t,e,v(r.expression)),n.push(e)}else n.push(c.createTerm(r.expression));t=c.createGroup(t,n,r)}if(e.having)for(let r of e.having)t=c.createFilter(t,v(r));e.values&&(t=c.createJoin(t,O(e)));let o=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.indexOf("*")>=0)o=r;else for(let t of e.variables)y(t)||!t.variable?o.add(c.createTerm(t)):t.variable&&(o.add(c.createTerm(t.variable)),n.push(t));for(let e of n)t=c.createExtend(t,c.createTerm(e.variable),v(e.expression));e.order&&(t=c.createOrderBy(t,e.order.map(e=>{let t=v(e.expression);return e.descending&&(t=c.createOperatorExpression(u.DESC,[t])),t})));"SELECT"===e.queryType&&(t=c.createProject(t,Array.from(o)));e.distinct&&(t=c.createDistinct(t));e.reduced&&(t=c.createReduced(t));(e.offset||e.limit)&&(t=c.createSlice(t,e.offset,e.limit));"CONSTRUCT"===e.queryType?t=c.createConstruct(t,e.template.map(w)):"ASK"===e.queryType?t=c.createAsk(t):"DESCRIBE"===e.queryType&&(t=c.createDescribe(t,Array.from(o)));e.from&&(t=c.createFrom(t,e.from.default.map(c.createTerm.bind(c)),e.from.named.map(c.createTerm.bind(c))));return t}(e,a,i),r&&(a=function(e,t){const r={},n=Array.from(t).reduce((e,t)=>(e[t.value]=!0,e),{});return o.default.mapOperation(e,{path:(e,t)=>({result:t.createPath(i(e.subject),e.predicate,i(e.object),i(e.graph)),recurse:!1}),pattern:(e,t)=>({result:t.createPattern(i(e.subject),i(e.predicate),i(e.object),i(e.graph)),recurse:!1})});function i(e){if("BlankNode"===e.termType){let t=r[e.value];return t||(t=o.default.createUniqueVariable(e.value,n,c.dataFactory),n[t.value]=!0,r[e.value]=t),t}return e}}(a,i)),a}function p(e){return"string"==typeof e}function y(e){return p(e)&&"?"===e[0]&&e.length>1}function m(e){let t,r=[],n=[];if(e.patterns)for(let t of e.patterns)("filter"===t.type?r:n).push(t);if("bgp"===e.type)return function(e){let t=[],r=[];for(let n of e.triples)if("path"===n.predicate.type){let e=b(n);for(let n of e)n.type===u.PATH?(t.length>0&&r.push(c.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(w(n));t.length>0&&r.push(c.createBgp(t));return 1===r.length?r[0]:r.reduce((e,t)=>c.createJoin(e,t))}(e);if("union"===e.type)t=n.map(e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),m(e))).reduce((e,t)=>c.createUnion(e,t));else{if("graph"===e.type)return function(e){let t=c.createTerm(e.name);e.type="group";let r=m(e);r=d?function e(t,r){if(t.type===u.BGP)t.patterns=t.patterns.map(e=>(e.graph=r,e));else if(t.type===u.PATH)t.graph=r;else for(let n of Object.keys(t))Array.isArray(t[n])?t[n]=t[n].map(t=>e(t,r)):E.indexOf(t[n].type)>=0&&(t[n]=e(t[n],r));return t}(r,t):c.createGraph(r,t);return r}(e);if("group"===e.type)t=n.reduce(S,c.createBgp([]));else if("values"===e.type)t=O(e);else{if("query"!==e.type)throw new Error("Unexpected type: "+e.type);t=h(e,d,!1)}}if(r.length>0){let e=r.map(e=>v(e.expression));e.length>0&&(t=c.createFilter(t,e.reduce((e,t)=>c.createOperatorExpression("&&",[e,t]))))}return t}function v(e){if(p(e))return c.createTermExpression(c.createTerm(e));if(e.aggregation)return c.createAggregateExpression(e.aggregation,v(e.expression),e.distinct,e.separator);if(e.function)return c.createNamedExpression(c.createTerm(e.function),e.args.map(v));if(e.operator)return"exists"===e.operator||"notexists"===e.operator?c.createExistenceExpression("notexists"===e.operator,m(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),c.createOperatorExpression(e.operator,e.args.map(v)));throw new Error("Unknown expression: "+JSON.stringify(e))}function b(e){return function e(t,r,n){if(r.type===u.LINK)return[c.createPattern(t,r.iri,n)];if(r.type===u.INV)return e(n,r.path,t);if(r.type===u.SEQ){let i=_(),o=e(t,r.left,i),a=e(i,r.right,n);return o.concat(a)}return[c.createPath(t,r,n)]}(c.createTerm(e.subject),g(e.predicate),c.createTerm(e.object))}function g(e){if(p(e))return c.createLink(c.createTerm(e));if("^"===e.pathType)return c.createInv(g(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="path"===e.items[0].type&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(p(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: "+JSON.stringify(e));n.push(e.items[0])}let i=c.createNps(r.map(c.createTerm.bind(c))),o=c.createInv(c.createNps(n.map(c.createTerm.bind(c))));return 0===n.length?i:0===r.length?o:c.createAlt(i,o)}if("/"===e.pathType)return e.items.map(g).reduce((e,t)=>c.createSeq(e,t));if("|"===e.pathType)return e.items.map(g).reduce((e,t)=>c.createAlt(e,t));if("*"===e.pathType)return c.createZeroOrMorePath(g(e.items[0]));if("+"===e.pathType)return c.createOneOrMorePath(g(e.items[0]));if("?"===e.pathType)return c.createZeroOrOnePath(g(e.items[0]));throw new Error("Unable to translate path expression "+e)}function _(){let e="?var"+f++;return l.has(e)?_():(l.add(e),c.createTerm(e))}function w(e){return c.createPattern(c.createTerm(e.subject),c.createTerm(e.predicate),c.createTerm(e.object))}t.default=function(e,t){if(t=t||{},c=new i.default(t.dataFactory),p(e)){let r=new a(t.prefixes,t.baseIRI);r._resetBlanks(),e=r.parse(e)}return h(e,t.quads,t.blankToVariable)};let E=Object.keys(u).map(e=>u[e]);function S(e,t){if("optional"===t.type){let r=m({type:"group",patterns:t.patterns});if(r.type===u.FILTER){let t=r;e=c.createLeftJoin(e,t.input,t.expression)}else e=c.createLeftJoin(e,r)}else if("minus"===t.type){let r=m({type:"group",patterns:t.patterns});e=c.createMinus(e,r)}else if("bind"===t.type)e=c.createExtend(e,c.createTerm(t.variable),v(t.expression));else if("service"===t.type){t.type="group",e=T(e,c.createService(m(t),c.createTerm(t.name),t.silent))}else{e=T(e,m(t))}return e}function T(e,t){return e.type===u.BGP&&0===e.patterns.length?e=t:t.type===u.BGP&&0===t.patterns.length||(e=c.createJoin(e,t)),e}function O(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(c.createTerm.bind(c)),r=e.values.map(e=>{let t=Object.keys(e);t=t.filter(t=>void 0!==e[t]);let r={};for(let n of t)r[n]=c.createTerm(e[n]);return r});return c.createValues(t,r)}function x(e,t){if(!e)return e;if("aggregate"===e.type){let r,n=!1;for(let i of Object.keys(t))if(s(t[i],e)){r=i,n=!0;break}return n||(r="?"+_().value,t[r]=e),r}return e.expression?e.expression=x(e.expression,t):e.args?x(e.args,t):Array.isArray(e)&&e.forEach((r,n)=>e[n]=x(r,t)),e}},function(e,t,r){(function(e,n){var i=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,15,24,34,43,48,99,109,112,114,115,124,125,130,298,299,300,301,302],r=[2,196],n=[99,109,112,114,115,124,125,130,298,299,300,301,302],i=[1,18],o=[1,27],a=[6,83],s=[38,39,51],u=[38,51],c=[1,55],l=[1,57],f=[1,53],d=[1,56],h=[28,29,293],p=[13,16,286],y=[111,133,296,303],m=[13,16,111,133,286],v=[1,80],b=[1,84],g=[1,86],_=[111,133,296,297,303],w=[13,16,111,133,286,297],E=[1,92],S=[2,236],T=[1,91],O=[13,16,28,29,80,86,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286],x=[6,38,39,51,61,68,71,79,81,83],A=[6,13,16,28,38,39,51,61,68,71,79,81,83,286],I=[6,13,16,28,29,31,32,38,39,41,51,61,68,71,79,80,81,83,86,92,108,111,124,125,127,132,159,160,162,165,166,183,187,208,213,215,216,218,219,223,227,231,246,251,268,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,304,306,307,309,310,311,312,313,314,315,316],N=[1,107],j=[1,108],k=[6,13,16,28,29,39,41,80,83,86,111,159,160,162,165,166,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,304],R=[2,295],P=[1,125],D=[1,123],M=[6,183],C=[2,312],L=[2,300],F=[38,127],B=[6,41,68,71,79,81,83],q=[2,238],U=[1,139],V=[1,141],z=[1,151],Q=[1,157],G=[1,160],H=[1,156],$=[1,158],J=[1,154],X=[1,155],Y=[1,161],K=[1,162],W=[1,165],Z=[1,166],ee=[1,167],te=[1,168],re=[1,169],ne=[1,170],ie=[1,171],oe=[1,172],ae=[1,173],se=[1,174],ue=[1,175],ce=[1,176],le=[6,61,68,71,79,81,83],fe=[28,29,38,39,51],de=[13,16,28,29,80,248,249,250,252,254,255,257,258,261,263,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,316,317,318,319,320,321],he=[2,409],pe=[1,189],ye=[1,190],me=[1,191],ve=[13,16,41,80,92,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286],be=[41,86],ge=[28,32],_e=[6,108,183],we=[41,111],Ee=[6,41,71,79,81,83],Se=[2,324],Te=[2,316],Oe=[1,226],xe=[1,228],Ae=[41,111,304],Ie=[13,16,28,29,32,39,41,80,83,86,111,159,160,162,165,166,183,187,208,213,215,216,218,219,251,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,304],Ne=[13,16,28,29,31,32,39,41,80,83,86,92,111,159,160,162,165,166,183,187,208,213,215,216,218,219,223,227,231,246,251,268,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,304,307,310,311,312,313,314,315,316],je=[13,16,28,29,31,32,39,41,80,83,86,92,111,159,160,162,165,166,183,187,208,213,215,216,218,219,223,227,231,246,251,268,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,304,307,310,311,312,313,314,315,316],ke=[31,32,183,223,251],Re=[31,32,183,223,227,251],Pe=[31,32,183,223,227,231,246,251,268,280,281,282,283,284,285,310,311,312,313,314,315,316],De=[31,32,183,223,227,231,246,251,268,280,281,282,283,284,285,293,307,310,311,312,313,314,315,316],Me=[1,260],Ce=[1,261],Le=[1,263],Fe=[1,264],Be=[1,265],qe=[1,266],Ue=[1,268],Ve=[1,269],ze=[2,416],Qe=[1,271],Ge=[1,272],He=[1,273],$e=[1,279],Je=[1,274],Xe=[1,275],Ye=[1,276],Ke=[1,277],We=[1,278],Ze=[1,286],et=[1,299],tt=[6,41,79,81,83],rt=[1,316],nt=[1,315],it=[39,41,83,111,159,160,162,165,166],ot=[1,324],at=[1,325],st=[41,111,183,216,304],ut=[2,354],ct=[13,16,28,29,32,80,86,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286],lt=[13,16,28,29,32,39,41,80,83,86,111,159,160,162,165,166,183,215,216,218,219,251,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,304],ft=[13,16,28,29,80,208,246,248,249,250,252,254,255,257,258,261,263,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,310,316,317,318,319,320,321],dt=[1,349],ht=[1,350],pt=[1,352],yt=[1,351],mt=[6,13,16,28,29,31,32,39,41,68,71,74,76,79,80,81,83,86,111,159,160,162,165,166,183,215,218,219,223,227,231,246,248,249,250,251,252,254,255,257,258,261,263,268,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,304,307,310,311,312,313,314,315,316,317,318,319,320,321],vt=[1,360],bt=[1,359],gt=[29,86],_t=[13,16,32,41,80,92,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286],wt=[29,41],Et=[2,315],St=[6,41,83],Tt=[6,13,16,29,41,71,79,81,83,248,249,250,252,254,255,257,258,261,263,286,316,317,318,319,320,321],Ot=[6,13,16,28,29,39,41,71,74,76,79,80,81,83,86,111,159,160,162,165,166,215,218,219,248,249,250,252,254,255,257,258,261,263,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,304,316,317,318,319,320,321],xt=[6,13,16,28,29,41,68,71,79,81,83,248,249,250,252,254,255,257,258,261,263,286,316,317,318,319,320,321],At=[6,13,16,28,29,31,32,39,41,61,68,71,74,76,79,80,81,83,86,111,159,160,162,165,166,183,215,218,219,223,227,231,246,248,249,250,251,252,254,255,257,258,261,263,268,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,304,305,307,310,311,312,313,314,315,316,317,318,319,320,321],It=[13,16,29,187,208,213,286],Nt=[2,366],jt=[1,401],kt=[39,41,83,111,159,160,162,165,166,304],Rt=[13,16,28,29,32,39,41,80,83,86,111,159,160,162,165,166,183,187,215,216,218,219,251,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,304],Pt=[13,16,28,29,80,208,246,248,249,250,252,254,255,257,258,261,263,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,310,316,317,318,319,320,321],Dt=[1,450],Mt=[1,447],Ct=[1,448],Lt=[13,16,28,29,39,41,80,83,86,111,159,160,162,165,166,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286],Ft=[13,16,28,286],Bt=[13,16,28,29,39,41,80,83,86,111,159,160,162,165,166,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,304],qt=[2,327],Ut=[39,41,83,111,159,160,162,165,166,183,216,304],Vt=[6,13,16,28,29,41,74,76,79,81,83,248,249,250,252,254,255,257,258,261,263,286,316,317,318,319,320,321],zt=[2,322],Qt=[13,16,29,187,208,286],Gt=[13,16,32,80,92,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286],Ht=[13,16,28,29,41,80,86,111,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286],$t=[13,16,28,29,32,80,86,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,306,307],Jt=[13,16,28,29,32,80,86,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,306,307,309,310],Xt=[1,561],Yt=[1,562],Kt=[2,310],Wt=[13,16,32,187,213,286],Zt={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClause:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifier:21,SubSelect:22,SubSelect_option0:23,SELECT:24,SelectClause_option0:25,SelectClause_group0:26,SelectClauseItem:27,VAR:28,"(":29,Expression:30,AS:31,")":32,ConstructQuery:33,CONSTRUCT:34,ConstructTemplate:35,ConstructQuery_repetition0:36,ConstructQuery_repetition1:37,WHERE:38,"{":39,ConstructQuery_option0:40,"}":41,DescribeQuery:42,DESCRIBE:43,DescribeQuery_group0:44,DescribeQuery_repetition0:45,DescribeQuery_option0:46,AskQuery:47,ASK:48,AskQuery_repetition0:49,DatasetClause:50,FROM:51,DatasetClause_option0:52,iri:53,WhereClause_option0:54,GroupGraphPattern:55,SolutionModifier_option0:56,SolutionModifier_option1:57,SolutionModifier_option2:58,SolutionModifier_option3:59,GroupClause:60,GROUP:61,BY:62,GroupClause_repetition_plus0:63,GroupCondition:64,BuiltInCall:65,FunctionCall:66,HavingClause:67,HAVING:68,HavingClause_repetition_plus0:69,OrderClause:70,ORDER:71,OrderClause_repetition_plus0:72,OrderCondition:73,ASC:74,BrackettedExpression:75,DESC:76,Constraint:77,LimitOffsetClauses:78,LIMIT:79,INTEGER:80,OFFSET:81,ValuesClause:82,VALUES:83,InlineData:84,InlineData_repetition0:85,NIL:86,InlineData_repetition1:87,InlineData_repetition_plus2:88,InlineData_repetition3:89,DataBlockValue:90,Literal:91,UNDEF:92,DataBlockValueList:93,DataBlockValueList_repetition_plus0:94,Update:95,Update_repetition0:96,Update1:97,Update_option0:98,LOAD:99,Update1_option0:100,Update1_option1:101,Update1_group0:102,Update1_option2:103,GraphRefAll:104,Update1_group1:105,Update1_option3:106,GraphOrDefault:107,TO:108,CREATE:109,Update1_option4:110,GRAPH:111,INSERTDATA:112,QuadPattern:113,DELETEDATA:114,DELETEWHERE:115,Update1_option5:116,InsertClause:117,Update1_option6:118,Update1_repetition0:119,Update1_option7:120,DeleteClause:121,Update1_option8:122,Update1_repetition1:123,DELETE:124,INSERT:125,UsingClause:126,USING:127,UsingClause_option0:128,WithClause:129,WITH:130,IntoGraphClause:131,INTO:132,DEFAULT:133,GraphOrDefault_option0:134,GraphRefAll_group0:135,QuadPattern_option0:136,QuadPattern_repetition0:137,QuadsNotTriples:138,QuadsNotTriples_group0:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GraphPatternNotTriples_repetition0:158,OPTIONAL:159,MINUS:160,GraphPatternNotTriples_group0:161,SERVICE:162,GraphPatternNotTriples_option0:163,GraphPatternNotTriples_group1:164,FILTER:165,BIND:166,FunctionCall_option0:167,FunctionCall_repetition0:168,ExpressionList:169,ExpressionList_repetition0:170,ConstructTemplate_option0:171,ConstructTriples:172,ConstructTriples_repetition0:173,ConstructTriples_option0:174,VarOrTerm:175,PropertyListNotEmpty:176,TriplesNode:177,PropertyList:178,PropertyList_option0:179,VerbObjectList:180,PropertyListNotEmpty_repetition0:181,SemiOptionalVerbObjectList:182,";":183,SemiOptionalVerbObjectList_option0:184,Verb:185,ObjectList:186,a:187,ObjectList_repetition0:188,GraphNode:189,PropertyListPathNotEmpty:190,TriplesNodePath:191,TriplesSameSubjectPath_option0:192,PropertyListPathNotEmpty_group0:193,PropertyListPathNotEmpty_repetition0:194,GraphNodePath:195,PropertyListPathNotEmpty_repetition1:196,PropertyListPathNotEmptyTail:197,PropertyListPathNotEmptyTail_group0:198,Path:199,Path_repetition0:200,PathSequence:201,PathSequence_repetition0:202,PathEltOrInverse:203,PathElt:204,PathPrimary:205,PathElt_option0:206,PathEltOrInverse_option0:207,"!":208,PathNegatedPropertySet:209,PathOneInPropertySet:210,PathNegatedPropertySet_repetition0:211,PathNegatedPropertySet_option0:212,"^":213,TriplesNode_repetition_plus0:214,"[":215,"]":216,TriplesNodePath_repetition_plus0:217,BLANK_NODE_LABEL:218,ANON:219,ConditionalAndExpression:220,Expression_repetition0:221,ExpressionTail:222,"||":223,RelationalExpression:224,ConditionalAndExpression_repetition0:225,ConditionalAndExpressionTail:226,"&&":227,AdditiveExpression:228,RelationalExpression_group0:229,RelationalExpression_option0:230,IN:231,MultiplicativeExpression:232,AdditiveExpression_repetition0:233,AdditiveExpressionTail:234,AdditiveExpressionTail_group0:235,NumericLiteralPositive:236,AdditiveExpressionTail_repetition0:237,NumericLiteralNegative:238,AdditiveExpressionTail_repetition1:239,UnaryExpression:240,MultiplicativeExpression_repetition0:241,MultiplicativeExpressionTail:242,MultiplicativeExpressionTail_group0:243,UnaryExpression_option0:244,PrimaryExpression:245,"-":246,Aggregate:247,FUNC_ARITY0:248,FUNC_ARITY1:249,FUNC_ARITY2:250,",":251,IF:252,BuiltInCall_group0:253,BOUND:254,BNODE:255,BuiltInCall_option0:256,EXISTS:257,COUNT:258,Aggregate_option0:259,Aggregate_group0:260,FUNC_AGGREGATE:261,Aggregate_option1:262,GROUP_CONCAT:263,Aggregate_option2:264,Aggregate_option3:265,GroupConcatSeparator:266,SEPARATOR:267,"=":268,String:269,LANGTAG:270,"^^":271,DECIMAL:272,DOUBLE:273,true:274,false:275,STRING_LITERAL1:276,STRING_LITERAL2:277,STRING_LITERAL_LONG1:278,STRING_LITERAL_LONG2:279,INTEGER_POSITIVE:280,DECIMAL_POSITIVE:281,DOUBLE_POSITIVE:282,INTEGER_NEGATIVE:283,DECIMAL_NEGATIVE:284,DOUBLE_NEGATIVE:285,PNAME_LN:286,QueryOrUpdate_group0_option0:287,Prologue_repetition0_group0:288,SelectClause_option0_group0:289,DISTINCT:290,REDUCED:291,SelectClause_group0_repetition_plus0:292,"*":293,DescribeQuery_group0_repetition_plus0_group0:294,DescribeQuery_group0_repetition_plus0:295,NAMED:296,SILENT:297,CLEAR:298,DROP:299,ADD:300,MOVE:301,COPY:302,ALL:303,".":304,UNION:305,"|":306,"/":307,PathElt_option0_group0:308,"?":309,"+":310,"!=":311,"<":312,">":313,"<=":314,">=":315,NOT:316,CONCAT:317,COALESCE:318,SUBSTR:319,REGEX:320,REPLACE:321,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"SELECT",28:"VAR",29:"(",31:"AS",32:")",34:"CONSTRUCT",38:"WHERE",39:"{",41:"}",43:"DESCRIBE",48:"ASK",51:"FROM",61:"GROUP",62:"BY",68:"HAVING",71:"ORDER",74:"ASC",76:"DESC",79:"LIMIT",80:"INTEGER",81:"OFFSET",83:"VALUES",86:"NIL",92:"UNDEF",99:"LOAD",108:"TO",109:"CREATE",111:"GRAPH",112:"INSERTDATA",114:"DELETEDATA",115:"DELETEWHERE",124:"DELETE",125:"INSERT",127:"USING",130:"WITH",132:"INTO",133:"DEFAULT",159:"OPTIONAL",160:"MINUS",162:"SERVICE",165:"FILTER",166:"BIND",183:";",187:"a",208:"!",213:"^",215:"[",216:"]",218:"BLANK_NODE_LABEL",219:"ANON",223:"||",227:"&&",231:"IN",246:"-",248:"FUNC_ARITY0",249:"FUNC_ARITY1",250:"FUNC_ARITY2",251:",",252:"IF",254:"BOUND",255:"BNODE",257:"EXISTS",258:"COUNT",261:"FUNC_AGGREGATE",263:"GROUP_CONCAT",267:"SEPARATOR",268:"=",270:"LANGTAG",271:"^^",272:"DECIMAL",273:"DOUBLE",274:"true",275:"false",276:"STRING_LITERAL1",277:"STRING_LITERAL2",278:"STRING_LITERAL_LONG1",279:"STRING_LITERAL_LONG2",280:"INTEGER_POSITIVE",281:"DECIMAL_POSITIVE",282:"DOUBLE_POSITIVE",283:"INTEGER_NEGATIVE",284:"DECIMAL_NEGATIVE",285:"DOUBLE_NEGATIVE",286:"PNAME_LN",290:"DISTINCT",291:"REDUCED",293:"*",296:"NAMED",297:"SILENT",298:"CLEAR",299:"DROP",300:"ADD",301:"MOVE",302:"COPY",303:"ALL",304:".",305:"UNION",306:"|",307:"/",309:"?",310:"+",311:"!=",312:"<",313:">",314:"<=",315:">=",316:"NOT",317:"CONCAT",318:"COALESCE",319:"SUBSTR",320:"REGEX",321:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[22,4],[18,3],[27,1],[27,5],[33,5],[33,7],[42,5],[47,4],[50,3],[20,2],[21,4],[60,3],[64,1],[64,1],[64,3],[64,5],[64,1],[67,2],[70,3],[73,2],[73,2],[73,1],[73,1],[78,2],[78,2],[78,4],[78,4],[82,2],[84,4],[84,4],[84,6],[90,1],[90,1],[90,1],[93,3],[95,3],[97,4],[97,3],[97,5],[97,4],[97,2],[97,2],[97,2],[97,6],[97,6],[121,2],[117,2],[126,3],[129,2],[131,3],[107,1],[107,2],[104,2],[104,1],[113,4],[138,7],[143,3],[55,3],[55,3],[147,2],[150,3],[154,3],[151,2],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[77,1],[77,1],[77,1],[66,2],[66,6],[169,1],[169,4],[35,3],[172,3],[145,2],[145,2],[178,1],[176,2],[182,2],[180,2],[185,1],[185,1],[185,1],[186,2],[156,2],[156,2],[190,4],[197,1],[197,3],[199,2],[201,2],[204,2],[203,2],[205,1],[205,1],[205,2],[205,3],[209,1],[209,1],[209,4],[210,1],[210,1],[210,2],[210,2],[177,3],[177,3],[191,3],[191,3],[189,1],[189,1],[195,1],[195,1],[175,1],[175,1],[175,1],[175,1],[175,1],[175,1],[30,2],[222,2],[220,2],[226,2],[224,1],[224,3],[224,4],[228,2],[234,2],[234,2],[234,2],[232,2],[242,2],[240,2],[240,2],[240,2],[245,1],[245,1],[245,1],[245,1],[245,1],[245,1],[75,3],[65,1],[65,2],[65,4],[65,6],[65,8],[65,2],[65,4],[65,2],[65,4],[65,3],[247,5],[247,5],[247,6],[266,4],[91,1],[91,2],[91,3],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[269,1],[269,1],[269,1],[269,1],[236,1],[236,1],[236,1],[238,1],[238,1],[238,1],[53,1],[53,1],[53,1],[287,0],[287,1],[5,1],[5,1],[288,1],[288,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,1],[289,1],[289,1],[25,0],[25,1],[292,1],[292,2],[26,1],[26,1],[36,0],[36,2],[37,0],[37,2],[40,0],[40,1],[294,1],[294,1],[295,1],[295,2],[44,1],[44,1],[45,0],[45,2],[46,0],[46,1],[49,0],[49,2],[52,0],[52,1],[54,0],[54,1],[56,0],[56,1],[57,0],[57,1],[58,0],[58,1],[59,0],[59,1],[63,1],[63,2],[69,1],[69,2],[72,1],[72,2],[85,0],[85,2],[87,0],[87,2],[88,1],[88,2],[89,0],[89,2],[94,1],[94,2],[96,0],[96,4],[98,0],[98,2],[100,0],[100,1],[101,0],[101,1],[102,1],[102,1],[103,0],[103,1],[105,1],[105,1],[105,1],[106,0],[106,1],[110,0],[110,1],[116,0],[116,1],[118,0],[118,1],[119,0],[119,2],[120,0],[120,1],[122,0],[122,1],[123,0],[123,2],[128,0],[128,1],[134,0],[134,1],[135,1],[135,1],[135,1],[136,0],[136,1],[137,0],[137,2],[139,1],[139,1],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[158,0],[158,3],[161,1],[161,1],[163,0],[163,1],[164,1],[164,1],[167,0],[167,1],[168,0],[168,3],[170,0],[170,3],[171,0],[171,1],[173,0],[173,3],[174,0],[174,1],[179,0],[179,1],[181,0],[181,2],[184,0],[184,1],[188,0],[188,3],[192,0],[192,1],[193,1],[193,1],[194,0],[194,3],[196,0],[196,2],[198,1],[198,1],[200,0],[200,3],[202,0],[202,3],[308,1],[308,1],[308,1],[206,0],[206,1],[207,0],[207,1],[211,0],[211,3],[212,0],[212,1],[214,1],[214,2],[217,1],[217,2],[221,0],[221,2],[225,0],[225,2],[229,1],[229,1],[229,1],[229,1],[229,1],[229,1],[230,0],[230,1],[233,0],[233,2],[235,1],[235,1],[237,0],[237,2],[239,0],[239,2],[241,0],[241,2],[243,1],[243,1],[244,0],[244,1],[253,1],[253,1],[253,1],[253,1],[253,1],[256,0],[256,1],[259,0],[259,1],[260,1],[260,1],[262,0],[262,1],[264,0],[264,1],[265,0],[265,1]],performAction:function(e,t,r,n,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1]=o[s-1]||{},Br.base&&(o[s-1].base=Br.base),Br.base=dr=hr=pr="",o[s-1].prefixes=Br.prefixes,Br.prefixes=null,o[s-1];case 3:this.$=br(o[s-1],o[s],{type:"query"});break;case 4:Br.base=_r(o[s]),dr=hr=pr="";break;case 5:Br.prefixes||(Br.prefixes={}),o[s-1]=o[s-1].substr(0,o[s-1].length-1),o[s]=_r(o[s]),Br.prefixes[o[s-1]]=o[s];break;case 6:this.$=br(o[s-3],xr(o[s-2]),o[s-1],o[s]);break;case 7:this.$=br(o[s-3],o[s-2],o[s-1],o[s],{type:"query"});break;case 8:this.$=br({queryType:"SELECT",variables:"*"===o[s]?["*"]:o[s]},o[s-1]&&(o[s-2]=yr(o[s-1]),o[s-1]={},o[s-1][o[s-2]]=!0,o[s-1]));break;case 9:case 92:case 124:case 151:this.$=wr(o[s]);break;case 10:case 22:this.$=Sr(o[s-3],{variable:wr(o[s-1])});break;case 11:this.$=br({queryType:"CONSTRUCT",template:o[s-3]},xr(o[s-2]),o[s-1],o[s]);break;case 12:this.$=br({queryType:"CONSTRUCT",template:o[s-2]=o[s-2]?o[s-2].triples:[]},xr(o[s-5]),{where:[{type:"bgp",triples:vr([],o[s-2])}]},o[s]);break;case 13:this.$=br({queryType:"DESCRIBE",variables:"*"===o[s-3]?["*"]:o[s-3].map(wr)},xr(o[s-2]),o[s-1],o[s]);break;case 14:this.$=br({queryType:"ASK"},xr(o[s-2]),o[s-1],o[s]);break;case 15:case 54:this.$={iri:o[s],named:!!o[s-1]};break;case 16:this.$={where:o[s].patterns};break;case 17:this.$=br(o[s-3],o[s-2],o[s-1],o[s]);break;case 18:this.$={group:o[s]};break;case 19:case 20:case 26:case 28:this.$=Sr(o[s]);break;case 21:this.$=Sr(o[s-1]);break;case 23:case 29:this.$=Sr(wr(o[s]));break;case 24:this.$={having:o[s]};break;case 25:this.$={order:o[s]};break;case 27:this.$=Sr(o[s],{descending:!0});break;case 30:this.$={limit:Ar(o[s])};break;case 31:this.$={offset:Ar(o[s])};break;case 32:this.$={limit:Ar(o[s-2]),offset:Ar(o[s])};break;case 33:this.$={limit:Ar(o[s]),offset:Ar(o[s-2])};break;case 34:this.$={type:"values",values:o[s]};break;case 35:o[s-3]=wr(o[s-3]),this.$=o[s-1].map(function(e){var t={};return t[o[s-3]]=e,t});break;case 36:this.$=o[s-1].map(function(){return{}});break;case 37:var u=o[s-4].length;o[s-4]=o[s-4].map(wr),this.$=o[s-1].map(function(e){if(e.length!==u)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<u;r++)t[o[s-4][r]]=e[r];return t});break;case 40:this.$=void 0;break;case 41:case 84:case 108:case 152:this.$=o[s-1];break;case 42:this.$={type:"update",updates:mr(o[s-2],o[s-1])};break;case 43:this.$=br({type:"load",silent:!!o[s-2],source:o[s-1]},o[s]&&{destination:o[s]});break;case 44:this.$={type:yr(o[s-2]),silent:!!o[s-1],graph:o[s]};break;case 45:this.$={type:yr(o[s-4]),silent:!!o[s-3],source:o[s-2],destination:o[s]};break;case 46:this.$={type:"create",silent:!!o[s-2],graph:{type:"graph",name:o[s]}};break;case 47:this.$={updateType:"insert",insert:o[s]};break;case 48:this.$={updateType:"delete",delete:o[s]};break;case 49:this.$={updateType:"deletewhere",delete:o[s]};break;case 50:this.$=br({updateType:"insertdelete"},o[s-5],{insert:o[s-4]||[]},{delete:o[s-3]||[]},xr(o[s-2]),{where:o[s].patterns});break;case 51:this.$=br({updateType:"insertdelete"},o[s-5],{delete:o[s-4]||[]},{insert:o[s-3]||[]},xr(o[s-2]),{where:o[s].patterns});break;case 52:case 53:case 56:case 143:this.$=o[s];break;case 55:this.$={graph:o[s]};break;case 57:this.$={type:"graph",default:!0};break;case 58:case 59:this.$={type:"graph",name:o[s]};break;case 60:this.$={},this.$[yr(o[s])]=!0;break;case 61:this.$=o[s-2]?gr(o[s-1],[o[s-2]]):gr(o[s-1]);break;case 62:var c=br(o[s-3]||{triples:[]},{type:"graph",name:wr(o[s-5])});this.$=o[s]?[c,o[s]]:[c];break;case 63:case 68:this.$={type:"bgp",triples:gr(o[s-2],[o[s-1]])};break;case 64:this.$={type:"group",patterns:[o[s-1]]};break;case 65:this.$={type:"group",patterns:o[s-1]};break;case 66:this.$=o[s-1]?gr([o[s-1]],o[s]):gr(o[s]);break;case 67:this.$=o[s]?[o[s-2],o[s]]:o[s-2];break;case 69:o[s-1].length?this.$={type:"union",patterns:gr(o[s-1].map(Ir),[Ir(o[s])])}:this.$=o[s];break;case 70:this.$=br(o[s],{type:"optional"});break;case 71:this.$=br(o[s],{type:"minus"});break;case 72:this.$=br(o[s],{type:"graph",name:wr(o[s-1])});break;case 73:this.$=br(o[s],{type:"service",name:wr(o[s-1]),silent:!!o[s-2]});break;case 74:this.$={type:"filter",expression:o[s]};break;case 75:this.$={type:"bind",variable:wr(o[s-1]),expression:o[s-3]};break;case 80:this.$={type:"functionCall",function:o[s-1],args:[]};break;case 81:this.$={type:"functionCall",function:o[s-5],args:mr(o[s-2],o[s-1]),distinct:!!o[s-3]};break;case 82:case 99:case 110:case 196:case 204:case 216:case 218:case 228:case 232:case 252:case 254:case 258:case 262:case 285:case 291:case 302:case 312:case 318:case 324:case 328:case 338:case 340:case 344:case 350:case 354:case 360:case 362:case 366:case 368:case 377:case 385:case 387:case 397:case 401:case 403:case 405:this.$=[];break;case 83:this.$=mr(o[s-2],o[s-1]);break;case 85:this.$=gr(o[s-2],[o[s-1]]);break;case 86:case 96:this.$=o[s].map(function(e){return br(jr(o[s-1]),e)});break;case 87:this.$=vr(o[s].map(function(e){return br(jr(o[s-1].entity),e)}),o[s-1].triples);break;case 89:this.$=gr([o[s-1]],o[s]);break;case 90:this.$=gr(o[s]);break;case 91:this.$=Lr(o[s-1],o[s]);break;case 94:case 106:case 113:this.$=tr;break;case 95:this.$=mr(o[s-1],o[s]);break;case 97:this.$=o[s]?vr(o[s].map(function(e){return br(jr(o[s-1].entity),e)}),o[s-1].triples):o[s-1].triples;break;case 98:this.$=Lr(wr(o[s-3]),mr(o[s-2],o[s-1]),o[s]);break;case 100:this.$=Lr(wr(o[s-1]),o[s]);break;case 101:this.$=o[s-1].length?Tr("|",mr(o[s-1],o[s])):o[s];break;case 102:this.$=o[s-1].length?Tr("/",mr(o[s-1],o[s])):o[s];break;case 103:this.$=o[s]?Tr(o[s],[o[s-1]]):o[s-1];break;case 104:this.$=o[s-1]?Tr(o[s-1],[o[s]]):o[s];break;case 107:case 114:this.$=Tr(o[s-1],[o[s]]);break;case 111:this.$=Tr("|",mr(o[s-2],o[s-1]));break;case 115:this.$=Tr(o[s-1],[tr]);break;case 116:case 118:this.$=function(e){var t=kr(),r=t,n=[],i=[];e.forEach(function(e){n.push(e.entity),vr(i,e.triples)});for(var o=0,a=0,s=n.length,u=Array(2*s);o<s;)u[a++]=jr(r,rr,n[o]),u[a++]=jr(r,nr,r=++o<s?kr():ir);return{entity:t,triples:vr(u,i)}}(o[s-1]);break;case 117:case 119:this.$=function(e){var t=kr();return{entity:t,triples:e.map(function(e){return br(jr(t),e)})}}(o[s-1]);break;case 120:case 122:this.$={entity:o[s],triples:[]};break;case 128:this.$=kr();break;case 129:this.$=ir;break;case 130:case 132:case 137:case 141:this.$=Or(o[s-1],o[s]);break;case 131:this.$=["||",o[s]];break;case 133:this.$=["&&",o[s]];break;case 135:this.$=Er(o[s-1],[o[s-2],o[s]]);break;case 136:this.$=Er(o[s-2]?"notin":"in",[o[s-3],o[s]]);break;case 138:case 142:this.$=[o[s-1],o[s]];break;case 139:this.$=["+",Or(o[s-1],o[s])];break;case 140:this.$=["-",Or(o[s-1].replace("-",""),o[s])];break;case 144:this.$=Er(o[s-1],[o[s]]);break;case 145:this.$=Er("UMINUS",[o[s]]);break;case 154:this.$=Er(yr(o[s-1]));break;case 155:this.$=Er(yr(o[s-3]),[o[s-1]]);break;case 156:this.$=Er(yr(o[s-5]),[o[s-3],o[s-1]]);break;case 157:this.$=Er(yr(o[s-7]),[o[s-5],o[s-3],o[s-1]]);break;case 158:this.$=Er(yr(o[s-1]),o[s]);break;case 159:this.$=Er("bound",[wr(o[s-1])]);break;case 160:this.$=Er(o[s-1],[]);break;case 161:this.$=Er(o[s-3],[o[s-1]]);break;case 162:this.$=Er(o[s-2]?"notexists":"exists",[Ir(o[s])]);break;case 163:case 164:this.$=Sr(o[s-1],{type:"aggregate",aggregation:yr(o[s-4]),distinct:!!o[s-2]});break;case 165:this.$=Sr(o[s-2],{type:"aggregate",aggregation:yr(o[s-5]),distinct:!!o[s-3],separator:o[s-1]||" "});break;case 166:this.$=o[s].substr(1,o[s].length-2);break;case 168:this.$=o[s-1]+yr(o[s]);break;case 169:this.$=o[s-2]+"^^"+o[s];break;case 170:case 184:this.$=Nr(o[s],ar);break;case 171:case 185:this.$=Nr(o[s],sr);break;case 172:case 186:this.$=Nr(yr(o[s]),ur);break;case 175:this.$=lr;break;case 176:this.$=fr;break;case 177:case 178:this.$=Cr(o[s],1);break;case 179:case 180:this.$=Cr(o[s],3);break;case 181:this.$=Nr(o[s].substr(1),ar);break;case 182:this.$=Nr(o[s].substr(1),sr);break;case 183:this.$=Nr(o[s].substr(1).toLowerCase(),ur);break;case 187:this.$=_r(o[s]);break;case 188:var l=o[s].indexOf(":"),f=o[s].substr(0,l),d=Br.prefixes[f];if(!d)throw new Error("Unknown prefix: "+f);this.$=_r(d+o[s].substr(l+1));break;case 189:if(o[s]=o[s].substr(0,o[s].length-1),!(o[s]in Br.prefixes))throw new Error("Unknown prefix: "+o[s]);this.$=_r(Br.prefixes[o[s]]);break;case 197:case 205:case 213:case 217:case 219:case 225:case 229:case 233:case 247:case 249:case 251:case 253:case 255:case 257:case 259:case 261:case 286:case 292:case 303:case 319:case 351:case 363:case 382:case 384:case 386:case 388:case 398:case 402:case 404:case 406:o[s-1].push(o[s]);break;case 212:case 224:case 246:case 248:case 250:case 256:case 260:case 381:case 383:this.$=[o[s]];break;case 263:o[s-3].push(o[s-2]);break;case 313:case 325:case 329:case 339:case 341:case 345:case 355:case 361:case 367:case 369:case 378:o[s-2].push(o[s-1])}},table:[e(t,r,{3:1,4:2,7:3}),{1:[3]},e(n,[2,262],{5:4,8:5,287:6,9:7,95:8,17:9,33:10,42:11,47:12,96:13,18:14,6:[2,190],24:i,34:[1,15],43:[1,16],48:[1,17]}),e([6,24,34,43,48,99,109,112,114,115,124,125,130,298,299,300,301,302],[2,2],{288:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,192]},{6:[2,193]},{6:[2,202],10:25,82:26,83:o},{6:[2,191]},e(a,[2,198]),e(a,[2,199]),e(a,[2,200]),e(a,[2,201]),{97:28,99:[1,29],102:30,105:31,109:[1,32],112:[1,33],114:[1,34],115:[1,35],116:36,120:37,124:[2,287],125:[2,281],129:43,130:[1,44],298:[1,38],299:[1,39],300:[1,40],301:[1,41],302:[1,42]},e(s,[2,204],{19:45}),e(u,[2,218],{35:46,37:47,39:[1,48]}),{13:c,16:l,28:f,44:49,53:54,286:d,293:[1,51],294:52,295:50},e(s,[2,232],{49:58}),e(h,[2,210],{25:59,289:60,290:[1,61],291:[1,62]}),e(t,[2,197]),e(t,[2,194]),e(t,[2,195]),{13:[1,63]},{16:[1,64]},{1:[2,1]},{6:[2,3]},{6:[2,203]},{28:[1,66],29:[1,68],84:65,86:[1,67]},{6:[2,264],98:69,183:[1,70]},e(p,[2,266],{100:71,297:[1,72]}),e(y,[2,272],{103:73,297:[1,74]}),e(m,[2,277],{106:75,297:[1,76]}),{110:77,111:[2,279],297:[1,78]},{39:v,113:79},{39:v,113:81},{39:v,113:82},{117:83,125:b},{121:85,124:g},e(_,[2,270]),e(_,[2,271]),e(w,[2,274]),e(w,[2,275]),e(w,[2,276]),{124:[2,288],125:[2,282]},{13:c,16:l,53:87,286:d},{20:88,38:E,39:S,50:89,51:T,54:90},e(s,[2,216],{36:93}),{38:[1,94],50:95,51:T},e(O,[2,344],{171:96,172:97,173:98,41:[2,342]}),e(x,[2,228],{45:99}),e(x,[2,226],{53:54,294:100,13:c,16:l,28:f,286:d}),e(x,[2,227]),e(A,[2,224]),e(A,[2,222]),e(A,[2,223]),e(I,[2,187]),e(I,[2,188]),e(I,[2,189]),{20:101,38:E,39:S,50:102,51:T,54:90},{26:103,27:106,28:N,29:j,292:104,293:[1,105]},e(h,[2,211]),e(h,[2,208]),e(h,[2,209]),e(t,[2,4]),{13:[1,109]},e(k,[2,34]),{39:[1,110]},{39:[1,111]},{28:[1,113],88:112},{6:[2,42]},e(t,r,{7:3,4:114}),{13:c,16:l,53:115,286:d},e(p,[2,267]),{104:116,111:[1,117],133:[1,119],135:118,296:[1,120],303:[1,121]},e(y,[2,273]),e(p,R,{107:122,134:124,111:P,133:D}),e(m,[2,278]),{111:[1,126]},{111:[2,280]},e(M,[2,47]),e(O,C,{136:127,143:128,144:129,41:L,111:L}),e(M,[2,48]),e(M,[2,49]),e(F,[2,283],{118:130,121:131,124:g}),{39:v,113:132},e(F,[2,289],{122:133,117:134,125:b}),{39:v,113:135},e([124,125],[2,55]),e(B,q,{21:136,56:137,60:138,61:U}),e(s,[2,205]),{39:V,55:140},e(p,[2,234],{52:142,296:[1,143]}),{39:[2,237]},{20:144,38:E,39:S,50:145,51:T,54:90},{39:[1,146]},e(u,[2,219]),{41:[1,147]},{41:[2,343]},{13:c,16:l,28:z,29:Q,53:152,80:G,86:H,91:153,145:148,175:149,177:150,215:$,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(le,[2,230],{54:90,46:177,50:178,20:179,38:E,39:S,51:T}),e(A,[2,225]),e(B,q,{56:137,60:138,21:180,61:U}),e(s,[2,233]),e(s,[2,8]),e(s,[2,214],{27:181,28:N,29:j}),e(s,[2,215]),e(fe,[2,212]),e(fe,[2,9]),e(de,he,{30:182,220:183,224:184,228:185,232:186,240:187,244:188,208:pe,246:ye,310:me}),e(t,[2,5]),e(ve,[2,252],{85:192}),e(be,[2,254],{87:193}),{28:[1,195],32:[1,194]},e(ge,[2,256]),e(n,[2,263],{6:[2,265]}),e(M,[2,268],{101:196,131:197,132:[1,198]}),e(M,[2,44]),{13:c,16:l,53:199,286:d},e(M,[2,60]),e(M,[2,297]),e(M,[2,298]),e(M,[2,299]),{108:[1,200]},e(_e,[2,57]),{13:c,16:l,53:201,286:d},e(p,[2,296]),{13:c,16:l,53:202,286:d},e(we,[2,302],{137:203}),e(we,[2,301]),{13:c,16:l,28:z,29:Q,53:152,80:G,86:H,91:153,145:204,175:149,177:150,215:$,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(F,[2,285],{119:205}),e(F,[2,284]),e([38,124,127],[2,53]),e(F,[2,291],{123:206}),e(F,[2,290]),e([38,125,127],[2,52]),e(a,[2,6]),e(Ee,[2,240],{57:207,67:208,68:[1,209]}),e(B,[2,239]),{62:[1,210]},e([6,41,61,68,71,79,81,83],[2,16]),e(O,Se,{22:211,147:212,18:213,148:214,154:215,155:216,24:i,39:Te,41:Te,83:Te,111:Te,159:Te,160:Te,162:Te,165:Te,166:Te}),{13:c,16:l,53:217,286:d},e(p,[2,235]),e(B,q,{56:137,60:138,21:218,61:U}),e(s,[2,217]),e(O,C,{144:129,40:219,143:220,41:[2,220]}),e(s,[2,84]),{41:[2,346],174:221,304:[1,222]},{13:c,16:l,28:Oe,53:227,176:223,180:224,185:225,187:xe,286:d},e(Ae,[2,348],{180:224,185:225,53:227,178:229,179:230,176:231,13:c,16:l,28:Oe,187:xe,286:d}),e(Ie,[2,124]),e(Ie,[2,125]),e(Ie,[2,126]),e(Ie,[2,127]),e(Ie,[2,128]),e(Ie,[2,129]),{13:c,16:l,28:z,29:Q,53:152,80:G,86:H,91:153,175:234,177:235,189:233,214:232,215:$,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},{13:c,16:l,28:Oe,53:227,176:236,180:224,185:225,187:xe,286:d},e(Ne,[2,167],{270:[1,237],271:[1,238]}),e(Ne,[2,170]),e(Ne,[2,171]),e(Ne,[2,172]),e(Ne,[2,173]),e(Ne,[2,174]),e(Ne,[2,175]),e(Ne,[2,176]),e(je,[2,177]),e(je,[2,178]),e(je,[2,179]),e(je,[2,180]),e(Ne,[2,181]),e(Ne,[2,182]),e(Ne,[2,183]),e(Ne,[2,184]),e(Ne,[2,185]),e(Ne,[2,186]),e(B,q,{56:137,60:138,21:239,61:U}),e(x,[2,229]),e(le,[2,231]),e(a,[2,14]),e(fe,[2,213]),{31:[1,240]},e(ke,[2,385],{221:241}),e(Re,[2,387],{225:242}),e(Re,[2,134],{229:243,230:244,231:[2,395],268:[1,245],311:[1,246],312:[1,247],313:[1,248],314:[1,249],315:[1,250],316:[1,251]}),e(Pe,[2,397],{233:252}),e(De,[2,405],{241:253}),{13:c,16:l,28:Me,29:Ce,53:257,65:256,66:258,75:255,80:G,91:259,236:163,238:164,245:254,247:262,248:Le,249:Fe,250:Be,252:qe,253:267,254:Ue,255:Ve,256:270,257:ze,258:Qe,261:Ge,263:He,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We},{13:c,16:l,28:Me,29:Ce,53:257,65:256,66:258,75:255,80:G,91:259,236:163,238:164,245:280,247:262,248:Le,249:Fe,250:Be,252:qe,253:267,254:Ue,255:Ve,256:270,257:ze,258:Qe,261:Ge,263:He,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We},{13:c,16:l,28:Me,29:Ce,53:257,65:256,66:258,75:255,80:G,91:259,236:163,238:164,245:281,247:262,248:Le,249:Fe,250:Be,252:qe,253:267,254:Ue,255:Ve,256:270,257:ze,258:Qe,261:Ge,263:He,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We},e(de,[2,410]),{13:c,16:l,41:[1,282],53:284,80:G,90:283,91:285,92:Ze,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},{41:[1,287],86:[1,288]},{39:[1,289]},e(ge,[2,257]),e(M,[2,43]),e(M,[2,269]),{111:[1,290]},e(M,[2,59]),e(p,R,{134:124,107:291,111:P,133:D}),e(_e,[2,58]),e(M,[2,46]),{41:[1,292],111:[1,294],138:293},e(we,[2,314],{146:295,304:[1,296]}),{38:[1,297],126:298,127:et},{38:[1,300],126:301,127:et},e(tt,[2,242],{58:302,70:303,71:[1,304]}),e(Ee,[2,241]),{13:c,16:l,29:Ce,53:310,65:308,66:309,69:305,75:307,77:306,247:262,248:Le,249:Fe,250:Be,252:qe,253:267,254:Ue,255:Ve,256:270,257:ze,258:Qe,261:Ge,263:He,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We},{13:c,16:l,28:rt,29:nt,53:310,63:311,64:312,65:313,66:314,247:262,248:Le,249:Fe,250:Be,252:qe,253:267,254:Ue,255:Ve,256:270,257:ze,258:Qe,261:Ge,263:He,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We},{41:[1,317]},{41:[1,318]},{20:319,38:E,39:S,54:90},e(it,[2,318],{149:320}),e(it,[2,317]),{13:c,16:l,28:z,29:ot,53:152,80:G,86:H,91:153,156:321,175:322,191:323,215:at,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(x,[2,15]),e(a,[2,11]),{41:[1,326]},{41:[2,221]},{41:[2,85]},e(O,[2,345],{41:[2,347]}),e(Ae,[2,86]),e(st,[2,350],{181:327}),e(O,ut,{186:328,188:329}),e(O,[2,92]),e(O,[2,93]),e(O,[2,94]),e(Ae,[2,87]),e(Ae,[2,88]),e(Ae,[2,349]),{13:c,16:l,28:z,29:Q,32:[1,330],53:152,80:G,86:H,91:153,175:234,177:235,189:331,215:$,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(ct,[2,381]),e(lt,[2,120]),e(lt,[2,121]),{216:[1,332]},e(Ne,[2,168]),{13:c,16:l,53:333,286:d},e(a,[2,13]),{28:[1,334]},e([31,32,183,251],[2,130],{222:335,223:[1,336]}),e(ke,[2,132],{226:337,227:[1,338]}),e(de,he,{232:186,240:187,244:188,228:339,208:pe,246:ye,310:me}),{231:[1,340]},e(ft,[2,389]),e(ft,[2,390]),e(ft,[2,391]),e(ft,[2,392]),e(ft,[2,393]),e(ft,[2,394]),{231:[2,396]},e([31,32,183,223,227,231,251,268,311,312,313,314,315,316],[2,137],{234:341,235:342,236:343,238:344,246:[1,346],280:ie,281:oe,282:ae,283:se,284:ue,285:ce,310:[1,345]}),e(Pe,[2,141],{242:347,243:348,293:dt,307:ht}),e(De,[2,143]),e(De,[2,146]),e(De,[2,147]),e(De,[2,148],{29:pt,86:yt}),e(De,[2,149]),e(De,[2,150]),e(De,[2,151]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:353,208:pe,246:ye,310:me}),e(mt,[2,153]),{86:[1,354]},{29:[1,355]},{29:[1,356]},{29:[1,357]},{29:vt,86:bt,169:358},{29:[1,361]},{29:[1,363],86:[1,362]},{257:[1,364]},{29:[1,365]},{29:[1,366]},{29:[1,367]},e(gt,[2,411]),e(gt,[2,412]),e(gt,[2,413]),e(gt,[2,414]),e(gt,[2,415]),{257:[2,417]},e(De,[2,144]),e(De,[2,145]),e(k,[2,35]),e(ve,[2,253]),e(_t,[2,38]),e(_t,[2,39]),e(_t,[2,40]),e(k,[2,36]),e(be,[2,255]),e(wt,[2,258],{89:368}),{13:c,16:l,53:369,286:d},e(M,[2,45]),e([6,38,124,125,127,183],[2,61]),e(we,[2,303]),{13:c,16:l,28:[1,371],53:372,139:370,286:d},e(we,[2,63]),e(O,[2,313],{41:Et,111:Et}),{39:V,55:373},e(F,[2,286]),e(p,[2,293],{128:374,296:[1,375]}),{39:V,55:376},e(F,[2,292]),e(St,[2,244],{59:377,78:378,79:[1,379],81:[1,380]}),e(tt,[2,243]),{62:[1,381]},e(Ee,[2,24],{247:262,253:267,256:270,75:307,65:308,66:309,53:310,77:382,13:c,16:l,29:Ce,248:Le,249:Fe,250:Be,252:qe,254:Ue,255:Ve,257:ze,258:Qe,261:Ge,263:He,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We}),e(Tt,[2,248]),e(Ot,[2,77]),e(Ot,[2,78]),e(Ot,[2,79]),{29:pt,86:yt},e(B,[2,18],{247:262,253:267,256:270,53:310,65:313,66:314,64:383,13:c,16:l,28:rt,29:nt,248:Le,249:Fe,250:Be,252:qe,254:Ue,255:Ve,257:ze,258:Qe,261:Ge,263:He,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We}),e(xt,[2,246]),e(xt,[2,19]),e(xt,[2,20]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:384,208:pe,246:ye,310:me}),e(xt,[2,23]),e(At,[2,64]),e(At,[2,65]),e(B,q,{56:137,60:138,21:385,61:U}),{39:[2,328],41:[2,66],82:395,83:o,111:[1,391],150:386,151:387,158:388,159:[1,389],160:[1,390],162:[1,392],165:[1,393],166:[1,394]},e(it,[2,326],{157:396,304:[1,397]}),e(It,Nt,{190:398,193:399,199:400,200:402,28:jt}),e(kt,[2,356],{193:399,199:400,200:402,192:403,190:404,13:Nt,16:Nt,29:Nt,187:Nt,208:Nt,213:Nt,286:Nt,28:jt}),{13:c,16:l,28:z,29:ot,53:152,80:G,86:H,91:153,175:407,191:408,195:406,215:at,217:405,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(It,Nt,{193:399,199:400,200:402,190:409,28:jt}),e(B,q,{56:137,60:138,21:410,61:U}),e([41,111,216,304],[2,89],{182:411,183:[1,412]}),e(st,[2,91]),{13:c,16:l,28:z,29:Q,53:152,80:G,86:H,91:153,175:234,177:235,189:413,215:$,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(Rt,[2,116]),e(ct,[2,382]),e(Rt,[2,117]),e(Ne,[2,169]),{32:[1,414]},e(ke,[2,386]),e(de,he,{224:184,228:185,232:186,240:187,244:188,220:415,208:pe,246:ye,310:me}),e(Re,[2,388]),e(de,he,{228:185,232:186,240:187,244:188,224:416,208:pe,246:ye,310:me}),e(Re,[2,135]),{29:vt,86:bt,169:417},e(Pe,[2,398]),e(de,he,{240:187,244:188,232:418,208:pe,246:ye,310:me}),e(De,[2,401],{237:419}),e(De,[2,403],{239:420}),e(ft,[2,399]),e(ft,[2,400]),e(De,[2,406]),e(de,he,{244:188,240:421,208:pe,246:ye,310:me}),e(ft,[2,407]),e(ft,[2,408]),e(mt,[2,80]),e(ft,[2,336],{167:422,290:[1,423]}),{32:[1,424]},e(mt,[2,154]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:425,208:pe,246:ye,310:me}),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:426,208:pe,246:ye,310:me}),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:427,208:pe,246:ye,310:me}),e(mt,[2,158]),e(mt,[2,82]),e(ft,[2,340],{170:428}),{28:[1,429]},e(mt,[2,160]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:430,208:pe,246:ye,310:me}),{39:V,55:431},e(Pt,[2,418],{259:432,290:[1,433]}),e(ft,[2,422],{262:434,290:[1,435]}),e(ft,[2,424],{264:436,290:[1,437]}),{29:[1,440],41:[1,438],93:439},e(M,[2,56]),{39:[1,441]},{39:[2,304]},{39:[2,305]},e(M,[2,50]),{13:c,16:l,53:442,286:d},e(p,[2,294]),e(M,[2,51]),e(St,[2,17]),e(St,[2,245]),{80:[1,443]},{80:[1,444]},{13:c,16:l,28:Dt,29:Ce,53:310,65:308,66:309,72:445,73:446,74:Mt,75:307,76:Ct,77:449,247:262,248:Le,249:Fe,250:Be,252:qe,253:267,254:Ue,255:Ve,256:270,257:ze,258:Qe,261:Ge,263:He,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We},e(Tt,[2,249]),e(xt,[2,247]),{31:[1,452],32:[1,451]},{23:453,41:[2,206],82:454,83:o},e(it,[2,319]),e(Lt,[2,320],{152:455,304:[1,456]}),{39:V,55:457},{39:V,55:458},{39:V,55:459},{13:c,16:l,28:[1,461],53:462,161:460,286:d},e(Ft,[2,332],{163:463,297:[1,464]}),{13:c,16:l,29:Ce,53:310,65:308,66:309,75:307,77:465,247:262,248:Le,249:Fe,250:Be,252:qe,253:267,254:Ue,255:Ve,256:270,257:ze,258:Qe,261:Ge,263:He,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We},{29:[1,466]},e(Bt,[2,76]),e(it,[2,68]),e(O,[2,325],{39:qt,41:qt,83:qt,111:qt,159:qt,160:qt,162:qt,165:qt,166:qt}),e(kt,[2,96]),e(O,[2,360],{194:467}),e(O,[2,358]),e(O,[2,359]),e(It,[2,368],{201:468,202:469}),e(kt,[2,97]),e(kt,[2,357]),{13:c,16:l,28:z,29:ot,32:[1,470],53:152,80:G,86:H,91:153,175:407,191:408,195:471,215:at,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(ct,[2,383]),e(lt,[2,122]),e(lt,[2,123]),{216:[1,472]},e(a,[2,12]),e(st,[2,351]),e(st,[2,352],{185:225,53:227,184:473,180:474,13:c,16:l,28:Oe,187:xe,286:d}),e(Ut,[2,95],{251:[1,475]}),e(fe,[2,10]),e(ke,[2,131]),e(Re,[2,133]),e(Re,[2,136]),e(Pe,[2,138]),e(Pe,[2,139],{243:348,242:476,293:dt,307:ht}),e(Pe,[2,140],{243:348,242:477,293:dt,307:ht}),e(De,[2,142]),e(ft,[2,338],{168:478}),e(ft,[2,337]),e([6,13,16,28,29,31,32,39,41,71,74,76,79,80,81,83,86,111,159,160,162,165,166,183,215,218,219,223,227,231,246,248,249,250,251,252,254,255,257,258,261,263,268,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,293,304,307,310,311,312,313,314,315,316,317,318,319,320,321],[2,152]),{32:[1,479]},{251:[1,480]},{251:[1,481]},e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:482,208:pe,246:ye,310:me}),{32:[1,483]},{32:[1,484]},e(mt,[2,162]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,260:485,30:487,208:pe,246:ye,293:[1,486],310:me}),e(Pt,[2,419]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:488,208:pe,246:ye,310:me}),e(ft,[2,423]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:489,208:pe,246:ye,310:me}),e(ft,[2,425]),e(k,[2,37]),e(wt,[2,259]),{13:c,16:l,53:284,80:G,90:491,91:285,92:Ze,94:490,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(O,C,{144:129,140:492,143:493,41:[2,306]}),e(F,[2,54]),e(St,[2,30],{81:[1,494]}),e(St,[2,31],{79:[1,495]}),e(tt,[2,25],{247:262,253:267,256:270,75:307,65:308,66:309,53:310,77:449,73:496,13:c,16:l,28:Dt,29:Ce,74:Mt,76:Ct,248:Le,249:Fe,250:Be,252:qe,254:Ue,255:Ve,257:ze,258:Qe,261:Ge,263:He,286:d,316:$e,317:Je,318:Xe,319:Ye,320:Ke,321:We}),e(Vt,[2,250]),{29:Ce,75:497},{29:Ce,75:498},e(Vt,[2,28]),e(Vt,[2,29]),e(xt,[2,21]),{28:[1,499]},{41:[2,7]},{41:[2,207]},e(O,Se,{155:216,153:500,154:501,39:zt,41:zt,83:zt,111:zt,159:zt,160:zt,162:zt,165:zt,166:zt}),e(Lt,[2,321]),e(Bt,[2,69],{305:[1,502]}),e(Bt,[2,70]),e(Bt,[2,71]),{39:V,55:503},{39:[2,330]},{39:[2,331]},{13:c,16:l,28:[1,505],53:506,164:504,286:d},e(Ft,[2,333]),e(Bt,[2,74]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:507,208:pe,246:ye,310:me}),{13:c,16:l,28:z,29:ot,53:152,80:G,86:H,91:153,175:407,191:408,195:508,215:at,218:J,219:X,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(ct,[2,101],{306:[1,509]}),e(Qt,[2,375],{203:510,207:511,213:[1,512]}),e(Ie,[2,118]),e(ct,[2,384]),e(Ie,[2,119]),e(st,[2,90]),e(st,[2,353]),e(O,[2,355]),e(De,[2,402]),e(De,[2,404]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:513,208:pe,246:ye,310:me}),e(mt,[2,155]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:514,208:pe,246:ye,310:me}),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:515,208:pe,246:ye,310:me}),{32:[1,516],251:[1,517]},e(mt,[2,159]),e(mt,[2,161]),{32:[1,518]},{32:[2,420]},{32:[2,421]},{32:[1,519]},{32:[2,426],183:[1,522],265:520,266:521},{13:c,16:l,32:[1,523],53:284,80:G,90:524,91:285,92:Ze,236:163,238:164,269:159,272:Y,273:K,274:W,275:Z,276:ee,277:te,278:re,279:ne,280:ie,281:oe,282:ae,283:se,284:ue,285:ce,286:d},e(Gt,[2,260]),{41:[1,525]},{41:[2,307]},{80:[1,526]},{80:[1,527]},e(Vt,[2,251]),e(Vt,[2,26]),e(Vt,[2,27]),{32:[1,528]},e(it,[2,67]),e(it,[2,323]),{39:[2,329]},e(Bt,[2,72]),{39:V,55:529},{39:[2,334]},{39:[2,335]},{31:[1,530]},e(Ut,[2,362],{196:531,251:[1,532]}),e(It,[2,367]),e([13,16,28,29,32,80,86,215,218,219,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,306],[2,102],{307:[1,533]}),{13:c,16:l,29:[1,539],53:536,187:[1,537],204:534,205:535,208:[1,538],286:d},e(Qt,[2,376]),{32:[1,540],251:[1,541]},{32:[1,542]},{251:[1,543]},e(mt,[2,83]),e(ft,[2,341]),e(mt,[2,163]),e(mt,[2,164]),{32:[1,544]},{32:[2,427]},{267:[1,545]},e(wt,[2,41]),e(Gt,[2,261]),e(Ht,[2,308],{141:546,304:[1,547]}),e(St,[2,32]),e(St,[2,33]),e(xt,[2,22]),e(Bt,[2,73]),{28:[1,548]},e([39,41,83,111,159,160,162,165,166,216,304],[2,98],{197:549,183:[1,550]}),e(O,[2,361]),e(It,[2,369]),e($t,[2,104]),e($t,[2,373],{206:551,308:552,293:[1,554],309:[1,553],310:[1,555]}),e(Jt,[2,105]),e(Jt,[2,106]),{13:c,16:l,29:[1,559],53:560,86:[1,558],187:Xt,209:556,210:557,213:Yt,286:d},e(It,Nt,{200:402,199:563}),e(mt,[2,81]),e(ft,[2,339]),e(mt,[2,156]),e(de,he,{220:183,224:184,228:185,232:186,240:187,244:188,30:564,208:pe,246:ye,310:me}),e(mt,[2,165]),{268:[1,565]},e(O,C,{144:129,142:566,143:567,41:Kt,111:Kt}),e(Ht,[2,309]),{32:[1,568]},e(Ut,[2,363]),e(Ut,[2,99],{200:402,198:569,199:570,13:Nt,16:Nt,29:Nt,187:Nt,208:Nt,213:Nt,286:Nt,28:[1,571]}),e($t,[2,103]),e($t,[2,374]),e($t,[2,370]),e($t,[2,371]),e($t,[2,372]),e(Jt,[2,107]),e(Jt,[2,109]),e(Jt,[2,110]),e(Wt,[2,377],{211:572}),e(Jt,[2,112]),e(Jt,[2,113]),{13:c,16:l,53:573,187:[1,574],286:d},{32:[1,575]},{32:[1,576]},{269:577,276:ee,277:te,278:re,279:ne},e(we,[2,62]),e(we,[2,311]),e(Bt,[2,75]),e(O,ut,{188:329,186:578}),e(O,[2,364]),e(O,[2,365]),{13:c,16:l,32:[2,379],53:560,187:Xt,210:580,212:579,213:Yt,286:d},e(Jt,[2,114]),e(Jt,[2,115]),e(Jt,[2,108]),e(mt,[2,157]),{32:[2,166]},e(Ut,[2,100]),{32:[1,581]},{32:[2,380],306:[1,582]},e(Jt,[2,111]),e(Wt,[2,378])],defaultActions:{5:[2,192],6:[2,193],8:[2,191],24:[2,1],25:[2,3],26:[2,203],69:[2,42],78:[2,280],92:[2,237],97:[2,343],220:[2,221],221:[2,85],251:[2,396],279:[2,417],371:[2,304],372:[2,305],453:[2,7],454:[2,207],461:[2,330],462:[2,331],486:[2,420],487:[2,421],493:[2,307],502:[2,329],505:[2,334],506:[2,335],521:[2,427],577:[2,166]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,a="",s=0,u=0,c=0,l=i.slice.call(arguments,1),f=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);f.setInput(e,d.yy),d.yy.lexer=f,d.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var p=f.yylloc;i.push(p);var y=f.options&&f.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,v,b,g,_,w,E,S,T,O=function(){var e;return"number"!=typeof(e=f.lex()||1)&&(e=t.symbols_[e]||e),e},x={};;){if(b=r[r.length-1],this.defaultActions[b]?g=this.defaultActions[b]:(null!==m&&void 0!==m||(m=O()),g=o[b]&&o[b][m]),void 0===g||!g.length||!g[0]){var A="";for(w in T=[],o[b])this.terminals_[w]&&w>2&&T.push("'"+this.terminals_[w]+"'");A=f.showPosition?"Parse error on line "+(s+1)+":\n"+f.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[m]||m,line:f.yylineno,loc:p,expected:T})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+m);switch(g[0]){case 1:r.push(m),n.push(f.yytext),i.push(f.yylloc),r.push(g[1]),m=null,v?(m=v,v=null):(u=f.yyleng,a=f.yytext,s=f.yylineno,p=f.yylloc,c>0&&c--);break;case 2:if(E=this.productions_[g[1]][1],x.$=n[n.length-E],x._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},y&&(x._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(x,[a,u,s,d.yy,g[1],n,i].concat(l))))return _;E&&(r=r.slice(0,-1*E*2),n=n.slice(0,-1*E),i=i.slice(0,-1*E)),r.push(this.productions_[g[1]][0]),n.push(x.$),i.push(x._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},er="http://www.w3.org/1999/02/22-rdf-syntax-ns#",tr=er+"type",rr=er+"first",nr=er+"rest",ir=er+"nil",or="http://www.w3.org/2001/XMLSchema#",ar=or+"integer",sr=or+"decimal",ur=or+"double",cr=or+"boolean",lr='"true"^^'+cr,fr='"false"^^'+cr,dr="",hr="",pr="";function yr(e){return e.toLowerCase()}function mr(e,t){return e.push(t),e}function vr(e,t){return e.push.apply(e,t),e}function br(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var i in t)e[i]=t[i];return e}function gr(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function _r(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z]+:/.test(e))return e;if(!Br.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(dr||(dr=Br.base,hr=dr.replace(/[^\/:]*$/,""),pr=dr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return dr;case"#":return dr+e;case"?":return dr.replace(/(?:\?.*)?$/,e);case"/":return pr+e;default:return hr+e}}function wr(e){if(e){var t=e[0];if("?"===t)return e;if("$"===t)return"?"+e.substr(1)}return e}function Er(e,t){return{type:"operation",operator:e,args:t||[]}}function Sr(e,t){var r={expression:e};if(t)for(var n in t)r[n]=t[n];return r}function Tr(e,t){return{type:"path",pathType:e,items:t}}function Or(e,t){for(var r,n=0,i=t.length;n<i&&(r=t[n]);n++)e=Er(r[0],[e,r[1]]);return e}function xr(e){for(var t,r=[],n=[],i=e.length,o=0;o<i&&(t=e[o]);o++)(t.named?n:r).push(t.iri);return i?{from:{default:r,named:n}}:null}function Ar(e){return parseInt(e,10)}function Ir(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function Nr(e,t){return'"'+e+'"^^'+t}function jr(e,t,r){var n={};return null!=e&&(n.subject=e),null!=t&&(n.predicate=t),null!=r&&(n.object=r),n}function kr(){return"_:b"+Rr++}var Rr=0;Br._resetBlanks=function(){Rr=0};var Pr=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Dr={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Mr=String.fromCharCode;function Cr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(Pr,function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return Mr(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<65535?Mr(i):Mr(55296+((i-=65536)>>10),56320+(1023&i))}var o=Dr[n];if(!o)throw new Error;return o})}catch(e){return""}return'"'+e+'"'}function Lr(e,t,r){var n=[],i=[];return t.forEach(function(t){n.push(jr(null,e,t.entity)),vr(i,t.triples)}),gr(n,r||[],i)}var Fr={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((r=this._input.match(this.rules[i[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 24;case 4:return 290;case 5:return 291;case 6:return 29;case 7:return 31;case 8:return 32;case 9:return 293;case 10:return 34;case 11:return 38;case 12:return 39;case 13:return 41;case 14:return 43;case 15:return 48;case 16:return 51;case 17:return 296;case 18:return 61;case 19:return 62;case 20:return 68;case 21:return 71;case 22:return 74;case 23:return 76;case 24:return 79;case 25:return 81;case 26:return 83;case 27:return 183;case 28:return 99;case 29:return 297;case 30:return 132;case 31:return 298;case 32:return 299;case 33:return 109;case 34:return 300;case 35:return 108;case 36:return 301;case 37:return 302;case 38:return 112;case 39:return 114;case 40:return 115;case 41:return 130;case 42:return 124;case 43:return 125;case 44:return 127;case 45:return 133;case 46:return 111;case 47:return 303;case 48:return 304;case 49:return 159;case 50:return 162;case 51:return 166;case 52:return 92;case 53:return 160;case 54:return 305;case 55:return 165;case 56:return 251;case 57:return 187;case 58:return 306;case 59:return 307;case 60:return 213;case 61:return 309;case 62:return 310;case 63:return 208;case 64:return 215;case 65:return 216;case 66:return 223;case 67:return 227;case 68:return 268;case 69:return 311;case 70:return 312;case 71:return 313;case 72:return 314;case 73:return 315;case 74:return 231;case 75:return 316;case 76:return 246;case 77:return 254;case 78:return 255;case 79:return 248;case 80:return 249;case 81:return 250;case 82:return 317;case 83:return 318;case 84:return 252;case 85:return 320;case 86:return 319;case 87:return 321;case 88:return 257;case 89:return 258;case 90:return 261;case 91:return 263;case 92:return 267;case 93:return 271;case 94:return 274;case 95:return 275;case 96:return 13;case 97:return 16;case 98:return 286;case 99:return 218;case 100:return 28;case 101:return 270;case 102:return 80;case 103:return 272;case 104:return 273;case 105:return 280;case 106:return 281;case 107:return 282;case 108:return 283;case 109:return 284;case 110:return 285;case 111:return"EXPONENT";case 112:return 276;case 113:return 277;case 114:return 278;case 115:return 279;case 116:return 86;case 117:return 219;case 118:return 6;case 119:return"INVALID";case 120:console.log(t.yytext)}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT\s+DATA)/i,/^(?:DELETE\s+DATA)/i,/^(?:DELETE\s+WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(<([^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])|\.)*(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040]))?))/i,/^(?:([\?\$]((((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(((?:([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F]|[\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(([^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*'))/i,/^(?:("(([^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*"))/i,/^(?:('''(('|'')?([^'\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*'''))/i,/^(?:("""(("|"")?([^\"\\]|(\\[tbnrf\\\"']|\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],inclusive:!0}}};function Br(){this.yy={}}return Zt.lexer=Fr,Br.prototype=Zt,Zt.Parser=Br,new Br}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var i=r(381).readFileSync(r(382).normalize(n[1]),"utf8");return t.parser.parse(i)},r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(this,r(10),r(38)(e))},function(e,t){},function(e,t){},function(e,t){function r(e,t){this._options=e=e||{},t=t||{},this._prefixByIri={};var r=[];for(var n in t){var i=t[n];a(i)&&(this._prefixByIri[i]=n,r.push(i))}var o=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+o+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._indent=a(e.indent)?e.indent:"  ",this._newline=a(e.newline)?e.newline:"\n"}r.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=s(e.variables,void 0,function(e){return a(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+e.variable+")"},this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=s(e.from.default||[],"",function(e){return"FROM "+this.toEntity(e)+this._newline},this)+s(e.from.named||[],"",function(e){return"FROM NAMED "+this.toEntity(e)+this._newline},this)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=s(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+s(e.group,void 0,function(e){var t=a(e.expression)?e.expression:"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+e.variable+")":t},this)+this._newline),e.having&&(t+="HAVING ("+s(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+s(e.order,void 0,function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t},this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),(t=this.baseAndPrefixes(e)+t).trim()},r.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},r.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},r.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},r.prototype.array=function(e){return s(e,this._newline,this.toPattern,this)},r.prototype.bgp=function(e){return this.encodeTriples(e.triples)},r.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r="",n="",i=0;i<e.length;i++){var o=e[i];o.subject!==r?(r&&t.push("."+this._newline),r=o.subject,n=o.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))):o.predicate!==n?(n=o.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):t.push(","),t.push(" ",this.toEntity(o.object))}return t.push("."),t.join("")},r.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},r.prototype.group=function(e,t){return-1===(e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns)).indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},r.prototype.query=function(e){return this.toQuery(e)},r.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},r.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+e.variable+")"},r.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},r.prototype.union=function(e){return s(e.patterns,this._newline+"UNION"+this._newline,function(e){return this.group(e,!0)},this)},r.prototype.minus=function(e){return"MINUS "+this.group(e)},r.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce(function(e,t){for(var r in t)e[r]=!0;return e},{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+s(e.values,this._newline,function(e){return"  "+t+s(n,void 0,function(t){return void 0!==e[t]?this.toEntity(e[t]):"UNDEF"},this)+r},this)+this._newline+"}"},r.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},r.prototype.toExpression=function(e){if(a(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(e.separator?"; SEPARATOR = "+this.toEntity('"'+e.separator+'"'):"")+")";case"functioncall":return this.toEntity(e.function)+"("+s(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),r=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(a(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+t+" "+(a(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(r[0])+" "+t+"("+(a(r[1])?r[1]:s(r[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(r[0],!0);default:return t+"("+s(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},r.prototype.toEntity=function(e){if(a(e))switch(e[0]){case"?":case"$":case"*":case"_":return e;case'"':var t=e.match(/^"([^]*)"(?:(@.+)|\^\^(.+))?$/)||{},r=t[1]||"",o=t[2]||"",s=t[3];if(e='"'+r.replace(n,i)+'"'+o,s){if("http://www.w3.org/2001/XMLSchema#integer"===s&&/^\d+$/.test(r))return r+" ";e+="^^"+this.encodeIRI(s)}return e;default:return this.encodeIRI(e)}else{var u=e.items.map(this.toEntity,this),c=e.pathType;switch(c){case"^":case"!":return c+u[0];case"*":case"+":case"?":return"("+u[0]+c+")";default:return"("+u.join(c)+")"}}};var n=/["\\\t\n\r\b\f]/g,i=function(e){return o[e]},o={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function a(e){return"string"==typeof e}function s(e,t,r,n){return e.map(r,n).join(a(t)?t:" ")}r.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},r.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+(e.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},r.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports=function(e){return{stringify:function(t){return new r(e,t.prefixes).toQuery(t)}}}},function(e,t,r){(function(e,r){var n=200,i="__lodash_hash_undefined__",o=1,a=2,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Function]",y="[object GeneratorFunction]",m="[object Map]",v="[object Number]",b="[object Null]",g="[object Object]",_="[object Proxy]",w="[object RegExp]",E="[object Set]",S="[object String]",T="[object Symbol]",O="[object Undefined]",x="[object ArrayBuffer]",A="[object DataView]",I=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[u]=j[c]=j[x]=j[f]=j[A]=j[d]=j[h]=j[p]=j[m]=j[v]=j[g]=j[w]=j[E]=j[S]=j["[object WeakMap]"]=!1;var k="object"==typeof e&&e&&e.Object===Object&&e,R="object"==typeof self&&self&&self.Object===Object&&self,P=k||R||Function("return this")(),D=t&&!t.nodeType&&t,M=D&&"object"==typeof r&&r&&!r.nodeType&&r,C=M&&M.exports===D,L=C&&k.process,F=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),B=F&&F.isTypedArray;function q(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function U(e,t){return e.has(t)}function V(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function z(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var Q=Array.prototype,G=Function.prototype,H=Object.prototype,$=P["__core-js_shared__"],J=G.toString,X=H.hasOwnProperty,Y=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),K=H.toString,W=RegExp("^"+J.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=C?P.Buffer:void 0,ee=P.Symbol,te=P.Uint8Array,re=H.propertyIsEnumerable,ne=Q.splice,ie=ee?ee.toStringTag:void 0,oe=Object.getOwnPropertySymbols,ae=Z?Z.isBuffer:void 0,se=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ue=Ce(P,"DataView"),ce=Ce(P,"Map"),le=Ce(P,"Promise"),fe=Ce(P,"Set"),de=Ce(P,"WeakMap"),he=Ce(Object,"create"),pe=qe(ue),ye=qe(ce),me=qe(le),ve=qe(fe),be=qe(de),ge=ee?ee.prototype:void 0,_e=ge?ge.valueOf:void 0;function we(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Se;++t<r;)this.add(e[t])}function Oe(e){var t=this.__data__=new Ee(e);this.size=t.size}function xe(e,t){var r=ze(e),n=!r&&Ve(e),i=!r&&!n&&Qe(e),o=!r&&!n&&!i&&Xe(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!X.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Be(c,u))||s.push(c);return s}function Ae(e,t){for(var r=e.length;r--;)if(Ue(e[r][0],t))return r;return-1}function Ie(e){return null==e?void 0===e?O:b:ie&&ie in Object(e)?function(e){var t=X.call(e,ie),r=e[ie];try{e[ie]=void 0;var n=!0}catch(e){}var i=K.call(e);n&&(t?e[ie]=r:delete e[ie]);return i}(e):function(e){return K.call(e)}(e)}function Ne(e){return Je(e)&&Ie(e)==u}function je(e,t,r,n,i){return e===t||(null==e||null==t||!Je(e)&&!Je(t)?e!=e&&t!=t:function(e,t,r,n,i,s){var l=ze(e),p=ze(t),y=l?c:Fe(e),b=p?c:Fe(t),_=(y=y==u?g:y)==g,O=(b=b==u?g:b)==g,I=y==b;if(I&&Qe(e)){if(!Qe(t))return!1;l=!0,_=!1}if(I&&!_)return s||(s=new Oe),l||Xe(e)?Pe(e,t,r,n,i,s):function(e,t,r,n,i,s,u){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!s(new te(e),new te(t)));case f:case d:case v:return Ue(+e,+t);case h:return e.name==t.name&&e.message==t.message;case w:case S:return e==t+"";case m:var c=V;case E:var l=n&o;if(c||(c=z),e.size!=t.size&&!l)return!1;var p=u.get(e);if(p)return p==t;n|=a,u.set(e,t);var y=Pe(c(e),c(t),n,i,s,u);return u.delete(e),y;case T:if(_e)return _e.call(e)==_e.call(t)}return!1}(e,t,y,r,n,i,s);if(!(r&o)){var N=_&&X.call(e,"__wrapped__"),j=O&&X.call(t,"__wrapped__");if(N||j){var k=N?e.value():e,R=j?t.value():t;return s||(s=new Oe),i(k,R,r,n,s)}}if(!I)return!1;return s||(s=new Oe),function(e,t,r,n,i,a){var s=r&o,u=De(e),c=u.length,l=De(t).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var d=u[f];if(!(s?d in t:X.call(t,d)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var p=!0;a.set(e,t),a.set(t,e);for(var y=s;++f<c;){d=u[f];var m=e[d],v=t[d];if(n)var b=s?n(v,m,d,t,e,a):n(m,v,d,e,t,a);if(!(void 0===b?m===v||i(m,v,r,n,a):b)){p=!1;break}y||(y="constructor"==d)}if(p&&!y){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,n,i,s)}(e,t,r,n,je,i))}function ke(e){return!(!$e(e)||function(e){return!!Y&&Y in e}(e))&&(Ge(e)?W:I).test(qe(e))}function Re(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||H;return e===r}(e))return se(e);var t=[];for(var r in Object(e))X.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Pe(e,t,r,n,i,s){var u=r&o,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,h=!0,p=r&a?new Te:void 0;for(s.set(e,t),s.set(t,e);++d<c;){var y=e[d],m=t[d];if(n)var v=u?n(m,y,d,t,e,s):n(y,m,d,e,t,s);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!q(t,function(e,t){if(!U(p,t)&&(y===e||i(y,e,r,n,s)))return p.push(t)})){h=!1;break}}else if(y!==m&&!i(y,m,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function De(e){return function(e,t,r){var n=t(e);return ze(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ye,Le)}function Me(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Ce(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ke(r)?r:void 0}we.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(he){var r=t[e];return r===i?void 0:r}return X.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:X.call(t,e)},we.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=he&&void 0===t?i:t,this},Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,r=Ae(t,e);return!(r<0||(r==t.length-1?t.pop():ne.call(t,r,1),--this.size,0))},Ee.prototype.get=function(e){var t=this.__data__,r=Ae(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return Ae(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=Ae(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Se.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(ce||Ee),string:new we}},Se.prototype.delete=function(e){var t=Me(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return Me(this,e).get(e)},Se.prototype.has=function(e){return Me(this,e).has(e)},Se.prototype.set=function(e,t){var r=Me(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Te.prototype.add=Te.prototype.push=function(e){return this.__data__.set(e,i),this},Te.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.clear=function(){this.__data__=new Ee,this.size=0},Oe.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var i=r.__data__;if(!ce||i.length<n-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Se(i)}return r.set(e,t),this.size=r.size,this};var Le=oe?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}(oe(e),function(t){return re.call(e,t)}))}:function(){return[]},Fe=Ie;function Be(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ue(e,t){return e===t||e!=e&&t!=t}(ue&&Fe(new ue(new ArrayBuffer(1)))!=A||ce&&Fe(new ce)!=m||le&&"[object Promise]"!=Fe(le.resolve())||fe&&Fe(new fe)!=E||de&&"[object WeakMap]"!=Fe(new de))&&(Fe=function(e){var t=Ie(e),r=t==g?e.constructor:void 0,n=r?qe(r):"";if(n)switch(n){case pe:return A;case ye:return m;case me:return"[object Promise]";case ve:return E;case be:return"[object WeakMap]"}return t});var Ve=Ne(function(){return arguments}())?Ne:function(e){return Je(e)&&X.call(e,"callee")&&!re.call(e,"callee")},ze=Array.isArray;var Qe=ae||function(){return!1};function Ge(e){if(!$e(e))return!1;var t=Ie(e);return t==p||t==y||t==l||t==_}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Je(e){return null!=e&&"object"==typeof e}var Xe=B?function(e){return function(t){return e(t)}}(B):function(e){return Je(e)&&He(e.length)&&!!j[Ie(e)]};function Ye(e){return function(e){return null!=e&&He(e.length)&&!Ge(e)}(e)?xe(e):Re(e)}r.exports=function(e,t){return je(e,t)}}).call(this,r(9),r(38)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(74),i=r(98).Generator,o=n.types,a=n.expressionTypes;let s;function u(e){l();let t=f(e=function(e){return function e(t,r){if(Array.isArray(t))return t.map(t=>e(t,r));if(!t.type)return t;if((t.type===o.PATTERN||t.type===o.PATH)&&t.graph&&t.graph.value.length>0)return r[t.graph.value]=t.graph,t;let n={};let i={};let a={};for(let o of Object.keys(t)){n[o]=e(t[o],r);let s=Object.keys(r);if(s.length>0){let e=s[0];i[o]=r[e],a[i[o].value]=i[o],delete r[e]}}let s=Object.keys(a);if(s.length>0)if(1===s.length&&t.type!==o.PROJECT)r[s[0]]=a[s[0]];else for(let e of Object.keys(i))n[e]={type:"graph",input:n[e],name:i[e]};return n}(e,{})}(e));return"group"===t.type?t.patterns[0]:t}function c(e){return Array.prototype.concat(...e).filter(e=>e)}function l(){s={project:!1,extend:[],group:[],aggregates:[],order:[]}}function f(e){switch(e.type!==o.EXTEND&&e.type!==o.ORDER_BY&&(s.project=!1),e.type){case o.EXPRESSION:return d(e);case o.ASK:return b(e,o.ASK);case o.BGP:return function(e){let t=e.patterns.map(m);return 0===t.length?null:{type:"bgp",triples:t}}(e);case o.CONSTRUCT:return function(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(m),where:c([f(e.input)])}}(e);case o.DESCRIBE:return b(e,o.DESCRIBE);case o.DISTINCT:return function(e){let t=f(e.input);return t.patterns[0].distinct=!0,t}(e);case o.EXTEND:return function(e){if(s.project)return s.extend.push(e),f(e.input);return c([f(e.input),{type:"bind",variable:p(e.variable),expression:d(e.expression)}])}(e);case o.FROM:return function(e){let t=f(e.input);return t.patterns[0].from={default:e.default.map(p),named:e.named.map(p)},t}(e);case o.FILTER:return function(e){return{type:"group",patterns:c([f(e.input),{type:"filter",expression:d(e.expression)}])}}(e);case o.GRAPH:return function(e){return{type:"graph",patterns:c([f(e.input)]),name:p(e.name)}}(e);case o.GROUP:return function(e){let t=f(e.input),r=e.aggregates.map(y);return s.aggregates.push(...r),s.group.push(...e.variables),t}(e);case o.JOIN:return function(e){return c([f(e.left),f(e.right)])}(e);case o.LEFT_JOIN:return function(e){let t={type:"optional",patterns:[f(e.right)]};e.expression&&t.patterns.push({type:"filter",expression:d(e.expression)});return t.patterns=c(t.patterns),c([f(e.left),t])}(e);case o.MINUS:return function(e){let t=f(e.right);"group"===t.type&&(t=t.patterns);return c([f(e.left),{type:"minus",patterns:t}])}(e);case o.ORDER_BY:return function(e){return s.order.push(...e.expressions),f(e.input)}(e);case o.PATH:return function(e){return{type:"bgp",triples:[{subject:p(e.subject),predicate:h(e.predicate),object:p(e.object)}]}}(e);case o.PATTERN:return m(e);case o.PROJECT:return b(e,o.PROJECT);case o.REDUCED:return function(e){let t=f(e.input);return t.patterns[0].reduced=!0,t}(e);case o.SERVICE:return function(e){let t=f(e.input);"group"===t.type&&(t=t.patterns);Array.isArray(t)||(t=[t]);return{type:"service",name:p(e.name),silent:e.silent,patterns:t}}(e);case o.SLICE:return function(e){let t=f(e.input),r=t.patterns[0];0!==e.start&&(r.offset=e.start);void 0!==e.length&&(r.limit=e.length);return t}(e);case o.UNION:return function(e){return{type:"union",patterns:c([f(e.left),f(e.right)])}}(e);case o.VALUES:return function(e){return{type:"values",values:e.bindings.map(t=>{let r={};for(let n of e.variables){let e="?"+n.value;t[e]?r[e]=p(t[e]):r[e]=void 0}return r})}}(e)}throw new Error("Unknown Operation type "+e.type)}function d(e){switch(e.expressionType){case a.AGGREGATE:return function(e){let t={expression:d(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};e.separator&&(t.separator=e.separator);return t}(e);case a.EXISTENCE:return function(e){return{type:"operation",operator:e.not?"notexists":"exists",args:c([f(e.input)])}}(e);case a.NAMED:return function(e){return{type:"functionCall",function:p(e.name),args:e.args.map(d)}}(e);case a.OPERATOR:return function(e){if("desc"===e.operator){let t={expression:d(e.args[0]),descending:!0};return t}let t={type:"operation",operator:e.operator,args:e.args.map(d)};"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)]));return t}(e);case a.TERM:return function(e){return p(e.term)}(e)}throw new Error("Unknown Expression Operation type "+e.expressionType)}function h(e){switch(e.type){case o.ALT:return function(e){let t=h(e.left),r=h(e.right);if("!"===t.pathType&&"!"===r.pathType)return{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]};return{type:"path",pathType:"|",items:[t,r]}}(e);case o.INV:return function(e){if(e.path.type===o.NPS){let t=e.path,r=t.iris.map(e=>({type:"path",pathType:"^",items:[p(e)]}));return r.length<=1?{type:"path",pathType:"!",items:r}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:r}]}}return{type:"path",pathType:"^",items:[h(e.path)]}}(e);case o.LINK:return function(e){return p(e.iri)}(e);case o.NPS:return function(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris.map(p)}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris.map(p)}]}}(e);case o.ONE_OR_MORE_PATH:return function(e){return{type:"path",pathType:"+",items:[h(e.path)]}}(e);case o.SEQ:return function(e){return{type:"path",pathType:"/",items:[h(e.left),h(e.right)]}}(e);case o.ZERO_OR_MORE_PATH:return function(e){return{type:"path",pathType:"*",items:[h(e.path)]}}(e);case o.ZERO_OR_ONE_PATH:return function(e){return{type:"path",pathType:"?",items:[h(e.path)]}}(e)}throw new Error("Unknown Path type "+e.type)}function p(e){if("BlankNode"===e.termType)return"_:"+e.value;if("Literal"===e.termType){let t=e,r=`"${e.value}"`;return t.language?r+="@"+t.language:t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&(r+="^^"+t.datatype.value),r}if("NamedNode"===e.termType)return e.value;if("Variable"===e.termType)return"?"+e.value;throw new Error("Unknown Term type "+e.termType)}function y(e){return e}function m(e){return{subject:p(e.subject),predicate:p(e.predicate),object:p(e.object)}}function v(e,t){if("string"==typeof e){if(t[e])return t[e]}else if(Array.isArray(e))e=e.map(e=>v(e,t));else for(let r of Object.keys(e))e[r]=v(e[r],t);return e}function b(e,t){let r={type:"query",prefixes:{}};t===o.PROJECT?(r.queryType="SELECT",r.variables=e.variables.map(p)):t===o.ASK?r.queryType="ASK":t===o.DESCRIBE&&(r.queryType="DESCRIBE",r.variables=e.terms.map(p));let n=s.extend,i=s.group,a=s.aggregates,u=s.order;l(),s.project=!0;let h=c([f(e.input)]);1===h.length&&"group"===h[0].type&&(h=h[0].patterns),r.where=h;let y={};for(let e of s.aggregates)y[p(e.variable)]=d(e);let m={};for(let e=s.extend.length-1;e>=0;--e){let t=s.extend[e];m[p(t.variable)]=v(d(t.expression),y)}if(s.group.length>0&&(r.group=s.group.map(p).map(e=>{if(m[e]){let t=m[e];return delete m[e],{variable:e,expression:t}}return{expression:e}})),s.order.length>0&&(r.order=s.order.map(f).map(e=>e.descending?e:{expression:e})),r.variables&&(r.variables=r.variables.map(e=>m[e]?{variable:e,expression:m[e]}:e),0===r.variables.length&&(r.variables=["*"])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){let e=r.where[r.where.length-1];(function e(t,r){if(Array.isArray(t))return t.some(t=>e(t,r));if(t===Object(t))return Object.keys(t).some(n=>e(t[n],r));return r.indexOf(t)>=0})(e,Object.keys(y))&&(r.having=c([v(e.expression,y)]),r.where.splice(-1))}return s.extend=n,s.group=i,s.aggregates=a,s.order=u,r={type:"group",patterns:[r]}}t.toSparql=function(e){return(new i).stringify(u(e))},t.toSparqlJs=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(179),i=r(14);t.ActorSparqlParseAlgebra=class extends n.ActorSparqlParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){if(e.queryFormat&&"sparql"!==e.queryFormat)throw new Error("This actor can only parse SPARQL queries");return!0}async run(e){return{operation:i.translate(e.query,{quads:!0,prefixes:this.prefixes,blankToVariable:!0})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorSparqlParse=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45),i=r(99);r(44);t.ActorRdfSourceIdentifierHypermediaQpf=class extends i.ActorRdfSourceIdentifier{constructor(e){super(e)}async test(e){if(!e.sourceValue.startsWith("http"))throw new Error(`Actor ${this.name} can only detect hypermedia interfaces hosted via HTTP(S).`);const t=new Headers;t.append("Accept",this.acceptHeader);const i={context:e.context,input:e.sourceValue,init:{headers:t}},o=await this.mediatorHttp.mediate(i);if(o.ok){const e=n.ActorHttp.toNodeReadable(o.body),t=await r(163)(e);let i=!0;for(const e of this.toContain)if(t.indexOf(e)<0){i=!1;break}if(i)return{priority:this.priority}}throw o.body&&o.body.cancel(),new Error(`${e.sourceValue} is not a (QPF) hypermedia interface`)}async run(e){return{sourceType:"hypermedia"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorRdfSourceIdentifier=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99);t.ActorRdfSourceIdentifierSparql=class extends n.ActorRdfSourceIdentifier{constructor(e){super(e)}async test(e){if(!e.sourceValue.startsWith("http"))throw new Error(`Actor ${this.name} can only detect SPARQL endpoints hosted via HTTP(S).`);const t=e.sourceValue+"?query="+encodeURIComponent("ASK { ?s a ?o }"),r=new Headers;r.append("Accept","application/sparql-results+json");const n={context:e.context,input:t,init:{headers:r,method:"HEAD"}},i=await this.mediatorHttp.mediate(n);if(!i.ok||i.headers.get("Content-Type").indexOf("application/sparql-results+json")<0)throw new Error(`${e.sourceValue} is not a SPARQL endpoint`);return{priority:this.priority}}async run(e){return{sourceType:"sparql"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99);t.ActorRdfSourceIdentifierFileContentType=class extends n.ActorRdfSourceIdentifier{constructor(e){super(e)}async test(e){if(!e.sourceValue.startsWith("http"))throw new Error(`Actor ${this.name} can only detect files hosted via HTTP(S).`);const t=new Headers;t.append("Accept",this.allowedMediaTypes.join(";"));const r={context:e.context,init:{headers:t,method:"HEAD"},input:e.sourceValue},n=await this.mediatorHttp.mediate(r);if(!n.ok||n.headers.has("Content-Type")&&!this.allowedMediaTypes.find(e=>n.headers.get("Content-Type").indexOf(e)>=0))throw new Error(`${e.sourceValue} (${n.headers.get("Content-Type")}) is not an RDF file of valid content type: ${this.allowedMediaTypes}`);return{priority:this.priority}}async run(e){return{sourceType:"file"}}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(45),i=r(4),o=r(22),a=r(6),s=r(8),u=r(41),c=r(29),l=r(14),f=r(100);class d extends o.ActorRdfResolveQuadPattern{constructor(e){super(e)}static replaceBlankNodes(e){const t=c.getVariables(c.getTerms(e)).map(e=>e.value),r={};let n=!1;const i=c.mapTerms(e,e=>{if("BlankNode"===e.termType){let i=e.value;if(r[i])i=r[i];else{if(t.indexOf(i)>=0){let e=0;for(;t.indexOf(i+e)>=0;)++e;i+=e}r[e.value]=i,t.push(i)}return n=!0,a.variable(i)}return e});return n?i:e}static patternToBgp(e){return d.FACTORY.createBgp([d.FACTORY.createPattern(e.subject,e.predicate,e.object,e.graph)])}static patternToSelectQuery(e){const t=c.getVariables(c.getTerms(e));return l.toSparql(d.FACTORY.createProject(d.patternToBgp(e),t))}static patternToCountQuery(e){return l.toSparql(d.FACTORY.createProject(d.FACTORY.createExtend(d.FACTORY.createGroup(d.patternToBgp(e),[],[d.FACTORY.createBoundAggregate(a.variable("var0"),"count",d.FACTORY.createTermExpression(a.namedNode("*")),!1)]),a.variable("count"),d.FACTORY.createTermExpression(a.variable("var0"))),[a.variable("count")]))}async test(e){if(!this.hasContextSingleSource("sparql",e.context))throw new Error(this.name+" requires a single source with a 'sparql' endpoint to be present in the context.");return!0}async run(e){const t=this.getContextSource(e.context).value,r=d.replaceBlankNodes(e.pattern),n=d.patternToSelectQuery(r),i=d.patternToCountQuery(r),o=new u.PromiseProxyIterator(async()=>(await this.queryBindings(t,n,e.context)).map(e=>c.mapTerms(r,r=>{if("Variable"===r.termType){const n=e.get("?"+r.value);return n||o.emit("error",new Error("The endpoint "+t+" failed to provide a binding for "+r.value)),n}return r})));return{data:o,metadata:()=>this.queryBindings(t,i,e.context).then(e=>new Promise((t,r)=>{e.on("data",e=>{const r=e.get("?count");if(r){const e=parseInt(r.value,10);return isNaN(e)?t({totalItems:1/0}):t({totalItems:e})}return t({totalItems:1/0})}),e.on("error",()=>t({totalItems:1/0})),e.on("end",()=>t({totalItems:1/0}))}))}}async queryBindings(e,t,r){const n=new s.BufferedIterator({autoStart:!1,maxBufferSize:1/0});let o=!1;const a=n._read;return n._read=((s,u)=>{o?a(s,u):(o=!0,this.fetchBindingsStream(e,t,r).then(e=>{const t=new f.SparqlJsonParser({prefixVariableQuestionMark:!0}).parseJsonResultsStream(e);e.on("error",e=>t.emit("error",e)),t.on("error",e=>n.emit("error",e)),t.on("data",e=>n._push(i.Bindings(e))),t.on("end",()=>{n.close()}),a(s,u)}))}),n}async fetchBindingsStream(t,r,i){const o=t+"?query="+encodeURIComponent(r),a=new Headers;a.append("Accept","application/sparql-results+json");const s={context:i,input:o,init:{headers:a}},u=await this.mediatorHttp.mediate(s),c=n.ActorHttp.toNodeReadable(u.body);return u.ok||e(()=>c.emit("error",new Error("Invalid SPARQL endpoint ("+t+") response: "+u.statusText))),c}}d.FACTORY=new l.Factory,t.ActorRdfResolveQuadPatternSparqlJson=d}).call(this,r(16).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8);t.PromiseProxyIterator=class extends n.TransformIterator{constructor(e,t){super(t||{autoStart:!1}),this.sourceGetter=e}_read(e,t){this.source?super._read(e,t):this.sourceGetter().then(r=>{this.source=r,super._read(e,t)}).catch(e=>this.emit("error",e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(184);t.SparqlJsonParser=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||n,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseJsonResults(e){return e.results.bindings.map(e=>this.parseJsonBindings(e))}parseJsonResultsStream(e){e.on("error",e=>n.emit("error",e));const t=[];e.pipe(r(101).parse("head.vars.*")).on("data",e=>t.push(this.dataFactory.variable(e))).on("end",()=>n.emit("variables",t));const n=e.pipe(r(101).parse("results.bindings.*")).pipe(new i.SparqlJsonBindingsTransformer(this));return n}parseJsonBindings(e){const t={};for(const r in e){const n=e[r];let i=null;switch(n.type){case"bnode":i=this.dataFactory.blankNode(n.value);break;case"literal":i=n["xml:lang"]?this.dataFactory.literal(n.value,n["xml:lang"]):n.datatype?this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype)):this.dataFactory.literal(n.value);break;case"typed-literal":i=this.dataFactory.literal(n.value,this.dataFactory.namedNode(n.datatype));break;default:i=this.dataFactory.namedNode(n.value)}t[this.prefixVariableQuestionMark?"?"+r:r]=i}return t}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((t,n)=>{e.on("error",n),e.pipe(r(101).parse("boolean")).on("data",t).on("end",()=>n(new Error("No valid ASK response was found.")))})}}},function(e,t,r){(function(t){var r={},n=r.LEFT_BRACE=1,i=r.RIGHT_BRACE=2,o=r.LEFT_BRACKET=3,a=r.RIGHT_BRACKET=4,s=r.COLON=5,u=r.COMMA=6,c=r.TRUE=7,l=r.FALSE=8,f=r.NULL=9,d=r.STRING=10,h=r.NUMBER=11,p=r.START=17,y=r.STOP=18,m=r.TRUE1=33,v=r.TRUE2=34,b=r.TRUE3=35,g=r.FALSE1=49,_=r.FALSE2=50,w=r.FALSE3=51,E=r.FALSE4=52,S=r.NULL1=65,T=r.NULL2=66,O=r.NULL3=67,x=r.NUMBER1=81,A=r.NUMBER3=83,I=r.STRING1=97,N=r.STRING2=98,j=r.STRING3=99,k=r.STRING4=100,R=r.STRING5=101,P=r.STRING6=102,D=r.VALUE=113,M=r.KEY=114,C=r.OBJECT=129,L=r.ARRAY=130,F="\\".charCodeAt(0),B="/".charCodeAt(0),q="\b".charCodeAt(0),U="\f".charCodeAt(0),V="\n".charCodeAt(0),z="\r".charCodeAt(0),Q="\t".charCodeAt(0),G=65536;function H(){this.tState=p,this.value=void 0,this.string=void 0,this.stringBuffer=t.alloc?t.alloc(G):new t(G),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=D,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new t(2),3:new t(3),4:new t(4)},this.offset=-1}H.toknam=function(e){for(var t=Object.keys(r),n=0,i=t.length;n<i;n++){var o=t[n];if(r[o]===e)return o}return e&&"0x"+e.toString(16)};var $=H.prototype;$.onError=function(e){throw e},$.charError=function(e,t){this.tState=y,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+H.toknam(this.tState)))},$.appendStringChar=function(e){this.stringBufferOffset>=G&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},$.appendStringBuf=function(e,t,r){var n=e.length;"number"==typeof t&&(n="number"==typeof r?r<0?e.length-t+r:r-t:e.length-t),n<0&&(n=0),this.stringBufferOffset+n>G&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,r),this.stringBufferOffset+=n},$.write=function(e){var r;"string"==typeof e&&(e=new t(e));for(var y=0,D=e.length;y<D;y++)if(this.tState===p){if(r=e[y],this.offset++,123===r)this.onToken(n,"{");else if(125===r)this.onToken(i,"}");else if(91===r)this.onToken(o,"[");else if(93===r)this.onToken(a,"]");else if(58===r)this.onToken(s,":");else if(44===r)this.onToken(u,",");else if(116===r)this.tState=m;else if(102===r)this.tState=g;else if(110===r)this.tState=S;else if(34===r)this.string="",this.stringBufferOffset=0,this.tState=I;else if(45===r)this.string="-",this.tState=x;else if(r>=48&&r<64)this.string=String.fromCharCode(r),this.tState=A;else if(32!==r&&9!==r&&10!==r&&13!==r)return this.charError(e,y)}else if(this.tState===I)if(r=e[y],this.bytes_remaining>0){for(var M=0;M<this.bytes_remaining;M++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+M]=e[M];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,y=y+M-1}else if(0===this.bytes_remaining&&r>=128){if(r<=193||r>244)return this.onError(new Error("Invalid UTF-8 character at position "+y+" in state "+H.toknam(this.tState)));if(r>=194&&r<=223&&(this.bytes_in_sequence=2),r>=224&&r<=239&&(this.bytes_in_sequence=3),r>=240&&r<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+y>e.length){for(var C=0;C<=e.length-1-y;C++)this.temp_buffs[this.bytes_in_sequence][C]=e[y+C];this.bytes_remaining=y+this.bytes_in_sequence-e.length,y=e.length-1}else this.appendStringBuf(e,y,y+this.bytes_in_sequence),y=y+this.bytes_in_sequence-1}else if(34===r)this.tState=p,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(d,this.string),this.offset+=t.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===r)this.tState=N;else{if(!(r>=32))return this.charError(e,y);this.appendStringChar(r)}else if(this.tState===N)if(34===(r=e[y]))this.appendStringChar(r),this.tState=I;else if(92===r)this.appendStringChar(F),this.tState=I;else if(47===r)this.appendStringChar(B),this.tState=I;else if(98===r)this.appendStringChar(q),this.tState=I;else if(102===r)this.appendStringChar(U),this.tState=I;else if(110===r)this.appendStringChar(V),this.tState=I;else if(114===r)this.appendStringChar(z),this.tState=I;else if(116===r)this.appendStringChar(Q),this.tState=I;else{if(117!==r)return this.charError(e,y);this.unicode="",this.tState=j}else if(this.tState===j||this.tState===k||this.tState===R||this.tState===P){if(!((r=e[y])>=48&&r<64||r>64&&r<=70||r>96&&r<=102))return this.charError(e,y);if(this.unicode+=String.fromCharCode(r),this.tState++===P){var L=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&L>=56320&&L<57344?(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate,L))),this.highSurrogate=void 0):void 0===this.highSurrogate&&L>=55296&&L<56320?this.highSurrogate=L:(void 0!==this.highSurrogate&&(this.appendStringBuf(new t(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new t(String.fromCharCode(L)))),this.tState=I}}else if(this.tState===x||this.tState===A)switch(r=e[y]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(r),this.tState=A;break;default:this.tState=p;var G=Number(this.string);if(isNaN(G))return this.charError(e,y);this.string.match(/[0-9]+/)==this.string&&G.toString()!=this.string?this.onToken(d,this.string):this.onToken(h,G),this.offset+=this.string.length-1,this.string=void 0,y--}else if(this.tState===m){if(114!==e[y])return this.charError(e,y);this.tState=v}else if(this.tState===v){if(117!==e[y])return this.charError(e,y);this.tState=b}else if(this.tState===b){if(101!==e[y])return this.charError(e,y);this.tState=p,this.onToken(c,!0),this.offset+=3}else if(this.tState===g){if(97!==e[y])return this.charError(e,y);this.tState=_}else if(this.tState===_){if(108!==e[y])return this.charError(e,y);this.tState=w}else if(this.tState===w){if(115!==e[y])return this.charError(e,y);this.tState=E}else if(this.tState===E){if(101!==e[y])return this.charError(e,y);this.tState=p,this.onToken(l,!1),this.offset+=4}else if(this.tState===S){if(117!==e[y])return this.charError(e,y);this.tState=T}else if(this.tState===T){if(108!==e[y])return this.charError(e,y);this.tState=O}else if(this.tState===O){if(108!==e[y])return this.charError(e,y);this.tState=p,this.onToken(f,null),this.offset+=3}},$.onToken=function(e,t){},$.parseError=function(e,t){this.tState=y,this.onError(new Error("Unexpected "+H.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+H.toknam(this.state)))},$.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},$.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=D)},$.emit=function(e){this.mode&&(this.state=u),this.onValue(e)},$.onValue=function(e){},$.onToken=function(e,t){if(this.state===D)if(e===d||e===h||e===c||e===l||e===f)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===n)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=M,this.mode=C;else if(e===o)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=L,this.state=D;else if(e===i){if(this.mode!==C)return this.parseError(e,t);this.pop()}else{if(e!==a)return this.parseError(e,t);if(this.mode!==L)return this.parseError(e,t);this.pop()}else if(this.state===M)if(e===d)this.key=t,this.state=s;else{if(e!==i)return this.parseError(e,t);this.pop()}else if(this.state===s){if(e!==s)return this.parseError(e,t);this.state=D}else{if(this.state!==u)return this.parseError(e,t);if(e===u)this.mode===L?(this.key++,this.state=D):this.mode===C&&(this.state=M);else{if(!(e===a&&this.mode===L||e===i&&this.mode===C))return this.parseError(e,t);this.pop()}}},H.C=r,e.exports=H}).call(this,r(7).Buffer)},function(e,t,r){(function(t){var n=r(5);function i(e,r,i){e=e||function(e){this.queue(e)},r=r||function(){this.queue(null)};var o=!1,a=!1,s=[],u=!1,c=new n;function l(){for(;s.length&&!c.paused;){var e=s.shift();if(null===e)return c.emit("end");c.emit("data",e)}}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(i&&!1===i.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return u?c:(null===e&&(u=!0),s.push(e),l(),c)},c.on("end",function(){c.readable=!1,!c.writable&&c.autoDestroy&&t.nextTick(function(){c.destroy()})}),c.end=function(e){if(!o)return o=!0,arguments.length&&c.write(e),c.writable=!1,r.call(c),!c.readable&&c.autoDestroy&&c.destroy(),c},c.destroy=function(){if(!a)return a=!0,o=!0,s.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}e.exports=i,i.through=i}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(186),o=r(8),a=r(399),s=r(12),u=r(14);class c extends n.ActorQueryOperation{constructor(e){super(e),this.endpointFetcher=new a.SparqlEndpointFetcher({fetch:(e,t)=>this.mediatorHttp.mediate({input:e,init:t,context:this.lastContext}),prefixVariableQuestionMark:!0})}static patternToSelectQuery(e){if("project"===e.type)return e;const t=u.Util.inScopeVariables(e);return c.FACTORY.createProject(e,t)}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in the query operation action: "+r(36).inspect(e));const t=await i.DataSourceUtils.getSingleSource(e.context);if(t&&"sparql"===t.type)return{httpRequests:1};throw new Error(this.name+" requires a single source with a 'sparql' endpoint to be present in the context.")}async run(e){const t=(await i.DataSourceUtils.getSingleSource(e.context)).value,r=c.patternToSelectQuery(e.operation),a=u.toSparql(r),l=new o.BufferedIterator({autoStart:!1,maxBufferSize:1/0});return this.lastContext=e.context,this.endpointFetcher.fetchBindings(t,a).then(e=>{let t=0;e.on("error",e=>l.emit("error",e)),e.on("data",e=>{t++,l._push(n.Bindings(e))}),e.on("end",()=>{l.emit("metadata",{totalItems:t}),l.close()})}),{type:"bindings",metadata:c.cachifyMetadata(()=>new Promise((e,t)=>{l._fillBuffer(),l.on("error",t),l.on("end",()=>t(new Error("No metadata was found"))),l.on("metadata",e)})),bindingsStream:l,variables:r.variables.map(s.termToString)}}}c.FACTORY=new u.Factory,c.ALGEBRA_TYPES=Object.keys(u.Algebra.types).map(e=>u.Algebra.types[e]),t.ActorQueryOperationSparqlEndpoint=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22);t.DataSourceUtils=class{static async getSingleSource(e){if(e&&e.has(n.KEY_CONTEXT_SOURCE))return e.get(n.KEY_CONTEXT_SOURCE);if(e&&e.has(n.KEY_CONTEXT_SOURCES)){const t=e.get(n.KEY_CONTEXT_SOURCES);if(t.isEnded()){const e=await r(187)(t.iterator());if(1===e.length)return e[0]}}return null}static async getSingleSourceType(e){const t=await this.getSingleSource(e);return t?t.type:null}static async singleSourceHasType(e,t){const r=await this.getSingleSourceType(e);return!!r&&r===t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(400))},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),r(44);const i=r(98),o=r(100),a=r(401),s=r(70);class u{constructor(e){e=e||{},this.fetchCb=e.fetch||fetch,this.sparqlJsonParser=new o.SparqlJsonParser(e),this.sparqlXmlParser=new a.SparqlXmlParser(e),this.sparqlParsers={[u.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:e=>this.sparqlJsonParser.parseJsonBooleanStream(e),parseResultsStream:e=>this.sparqlJsonParser.parseJsonResultsStream(e)},[u.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:e=>this.sparqlXmlParser.parseXmlBooleanStream(e),parseResultsStream:e=>this.sparqlXmlParser.parseXmlResultsStream(e)}}}getQueryType(e){const t=(new i.Parser).parse(e);return"query"===t.type?"DESCRIBE"===t.queryType?"CONSTRUCT":t.queryType:"UNKNOWN"}fetchBindings(e,t){return n(this,void 0,void 0,function*(){const[r,n]=yield this.fetchRawStream(e,t,u.CONTENTTYPE_SPARQL),i=this.sparqlParsers[r];if(!i)throw new Error("Unknown SPARQL results content type: "+r);return i.parseResultsStream(n)})}fetchAsk(e,t){return n(this,void 0,void 0,function*(){const[r,n]=yield this.fetchRawStream(e,t,u.CONTENTTYPE_SPARQL),i=this.sparqlParsers[r];if(!i)throw new Error("Unknown SPARQL results content type: "+r);return i.parseBooleanStream(n)})}fetchTriples(e,t){return n(this,void 0,void 0,function*(){return(yield this.fetchRawStream(e,t,u.CONTENTTYPE_TURTLE))[1].pipe(new s.StreamParser({format:u.CONTENTTYPE_TURTLE}))})}fetchRawStream(t,i,o){return n(this,void 0,void 0,function*(){const n=t+"?query="+encodeURIComponent(i),a=new Headers;a.append("Accept",o);const s=yield this.fetchCb(n,{headers:a}),u=r(87)(s.body)?s.body:r(143).toNodeReadable(s.body);let c=s.headers.get("Content-Type")||"";return c.indexOf(";")>0&&(c=c.substr(0,c.indexOf(";"))),s.ok||e(()=>u.emit("error",new Error("Invalid SPARQL endpoint ("+t+") response: "+s.statusText))),[c,u]})}}u.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",u.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",u.CONTENTTYPE_SPARQL=`${u.CONTENTTYPE_SPARQL_JSON};q=1.0,${u.CONTENTTYPE_SPARQL_XML};q=0.7`,u.CONTENTTYPE_TURTLE="text/turtle",t.SparqlEndpointFetcher=u}).call(this,r(16).setImmediate)},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(402)),n(r(188))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(188),o=r(403);t.SparqlXmlParser=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||n,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){const t=[];e.pipe(o({strict:!0,tag:"variable"})).on("data",e=>t.push(this.dataFactory.variable(e.attribs.name))).on("error",()=>{}).on("finish",()=>r.emit("variables",t));const r=e.pipe(o({strict:!0,tag:"result"})).on("error",e=>r.emit("error",e)).pipe(new i.SparqlXmlBindingsTransformer(this));return e.on("error",e=>r.emit("error",e)),r}parseXmlBindings(e){const t={};if(e.children){const r=Array.isArray(e.children.binding)?e.children.binding:[e.children.binding];for(const e of r)if(e.attribs&&e.children){const r=e.attribs.name;let n=null;if(e.children.bnode)n=this.dataFactory.blankNode(e.children.bnode.value);else if(e.children.literal){const t=e.children.literal.value||"",r=e.children.literal.attribs;n=r&&r["xml:lang"]?this.dataFactory.literal(t,r["xml:lang"]):r&&r.datatype?this.dataFactory.literal(t,this.dataFactory.namedNode(r.datatype)):this.dataFactory.literal(t)}else n=this.dataFactory.namedNode(e.children.uri.value);t[this.prefixVariableQuestionMark?"?"+r:r]=n}}return t}parseXmlBooleanStream(e){return new Promise((t,r)=>{e.on("error",r),e.pipe(o({strict:!0,tag:"boolean"})).on("error",r).on("data",e=>t("true"===e.value)).on("end",()=>r(new Error("No valid ASK response was found.")))})}}},function(e,t,r){e.exports=r(404)},function(e,t,r){var n=r(5).Transform,i=r(36),o=r(165),a=r(405),s=r(406)("sax-stream");function u(e){if(!(this instanceof u))return new u(e);n.call(this,{highWaterMark:e.highWaterMark||350,objectMode:!0}),this.records=[],this.error=null,this.parser=this.createSaxParser(e)}e.exports=u,i.inherits(u,n),u.prototype.createSaxParser=function(e){var t,r=this,n=o.parser(e.strict||!1,function(e){return["trim","normalize","lowercase","xmlns","position","strictEntities","noscript"].reduce(function(t,r){return r in e&&(t[r]=e[r]),t},{position:!1})}(e)),i=function(t){return t===e.tag},u=function(e,t){r.records.push(t)};return Array.isArray(e.tag)&&(i=function(t){return-1!==e.tag.indexOf(t)},u=function(e,t){r.records.push({tag:e,record:t})}),n.onopentag=function(e){s('Open "%s"',e.name),t?t=a.addChild(t,e.name):i(e.name)&&(t={}),t&&Object.keys(e.attributes).length&&(t.attribs=e.attributes)},n.onclosetag=function(e){s('Closed "%s"',e),i(e)&&!t.parent?(s("Emitting record",t),u(e,t),t=void 0):t&&(t=t.parent)},n.ontext=function(e){t&&a.addText(t,e)},n.oncdata=function(e){t&&a.concatText(t,e)},n.onerror=function(e){r.error=e},n.onend=function(){s("onend - flushing remaining items"),r.pushAll(r.callback),r.callback=null},n},u.prototype.pushAll=function(e){if(this.error)return e(this.error),void(this.error=null);s("pushing %d",this.records.length),this.records.forEach(this.push.bind(this)),this.records.length=0,e()},u.prototype._transform=function(e,t,r){this.parser.write(e.toString()),this.pushAll(r)},u.prototype._flush=function(e){this.callback=e,this.parser.close()}},function(e,t){function r(e,t){var n;if(e&&(Array.isArray(e)&&(e=e[0]),Array.isArray(t)||(t=t.split("/")),n=t.shift(),e.children))return e=e.children[n],t.length?r(e,t):e}t.child=r,t.value=function(e,t){return(e=r(e,t))&&e.value},t.attr=function(e,t,n){return(e=r(e,t))&&e.attribs&&e.attribs[n]},t.addChild=function(e,t){var r={parent:e};return e.children=e.children||{},e.children[t]?(Array.isArray(e.children[t])||(e.children[t]=[e.children[t]]),e.children[t].push(r)):e.children[t]=r,r},t.addText=function(e,t){return e.value=t,e},t.concatText=function(e,t){return e.value=(e.value||"")+t,e}},function(e,t,r){(function(n){function i(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=r(407)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++i)}),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=i,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(i())}).call(this,r(10))},function(e,t,r){var n;function i(e){function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(r,n){if("%%"===r)return r;u++;var i=t.formatters[n];if("function"==typeof i){var o=a[u];r=i.call(e,o),a.splice(u,1),u--}return r}),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(408),t.names=[],t.skips=[],t.formatters={}},function(e,t){var r=1e3,n=60*r,i=60*n,o=24*i,a=365.25*o;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?function(e){return s(e,o,"day")||s(e,i,"hour")||s(e,n,"minute")||s(e,r,"second")||e+" ms"}(e):function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45),i=r(410);class o extends i.ActorRdfDereferenceMediaMappings{constructor(e){super(e)}async test(e){if(!e.url.startsWith("http:")&&!e.url.startsWith("https:"))throw new Error("This actor can only handle URLs that start with 'http' or 'https'.");return!0}async run(e){const t=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes,r=this.mediaTypesToAcceptString(t),i=new Headers;i.append("Accept",r);const a={context:e.context,input:e.url,init:{headers:i}},s=await this.mediatorHttp.mediate(a),u=n.ActorHttp.toNodeReadable(s.body);if(200!==s.status)throw new Error("Could not retrieve "+e.url+" ("+s.status+")");let c=s.headers.has("content-type")?o.REGEX_MEDIATYPE.exec(s.headers.get("content-type"))[0]:null;c||(c=this.getMediaTypeFromExtension(s.url));const l={input:u,baseIRI:s.url},f=(await this.mediatorRdfParseHandle.mediate({context:e.context,handle:l,handleMediaType:c})).handle;return{pageUrl:s.url,quads:f.quads,triples:f.triples}}mediaTypesToAcceptString(e){const t=[];for(const r in e){const n=e[r];t.push(r+(1!==n?";q="+n:""))}return t.length?t.join(", "):"*/*"}}o.REGEX_MEDIATYPE=/^[^ ;]*/,t.ActorRdfDereferenceHttpParse=o},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(190)),n(r(411))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(190);t.ActorRdfDereferenceMediaMappings=class extends n.ActorRdfDereference{constructor(e){super(e)}getMediaTypeFromExtension(e){const t=e.lastIndexOf(".");if(t>=0){const r=e.substr(t);return this.mediaMappings[r.substring(1)]||""}return""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(413);t.ActorRdfResolveQuadPatternFederated=class extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.emptyPatterns=new Map}async test(e){if(!this.getContextSources(e.context))throw new Error("Actor "+this.name+" can only resolve quad pattern queries against a sources array.");return!0}async getSource(e){return new i.FederatedQuadSource(this.mediatorResolveQuadPattern,e,this.emptyPatterns,this.skipEmptyPatterns)}async getOutput(e,t,r){const n=await super.getOutput(e,t,r);return n.metadata=(()=>new Promise((e,t)=>{n.data.on("error",t),n.data.on("end",()=>t(new Error("No metadata was found"))),n.data.on("metadata",t=>{e(t)})})),n}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(6),o=r(6),a=r(8),s=r(41),u=r(75);class c{constructor(e,t,r,i){this.mediatorResolveQuadPattern=e,this.sources=t.get(n.KEY_CONTEXT_SOURCES),this.contextDefault=t.delete(n.KEY_CONTEXT_SOURCES),this.emptyPatterns=r,this.skipEmptyPatterns=i,this.skipEmptyPatterns&&this.sources.iterator().on("data",e=>{this.emptyPatterns.has(e)||this.emptyPatterns.set(e,[])})}static isTermBound(e){return"Variable"!==e.termType}static isSubPatternOf(e,t){return(!c.isTermBound(t.subject)||t.subject.equals(e.subject))&&(!c.isTermBound(t.predicate)||t.predicate.equals(e.predicate))&&(!c.isTermBound(t.object)||t.object.equals(e.object))&&(!c.isTermBound(t.graph)||t.graph.equals(e.graph))}static nullToVariable(e){return e||o.variable("v")}isSourceEmpty(e,t){if(!this.skipEmptyPatterns)return!1;const r=this.emptyPatterns.get(e);if(r)for(const e of r)if(c.isSubPatternOf(t,e))return!0;return!1}matchLazy(t,r,o,l){if(t instanceof RegExp||r instanceof RegExp||o instanceof RegExp||l instanceof RegExp)throw new Error("FederatedQuadSource does not support matching by regular expressions.");const f={totalItems:0};let d=1,h=0;const p=(e,t,r,n)=>{this.skipEmptyPatterns&&!e&&(this.isSourceEmpty(t,r)||this.emptyPatterns.get(t).push(r)),d||(n&&1===h?m.emit("metadata",n):m.emit("metadata",f))},y=this.sources.iterator(),m=new u.RoundRobinUnionIterator(y.map(e=>{d++,h++;const u=i.quad(c.nullToVariable(t),c.nullToVariable(r),c.nullToVariable(o),c.nullToVariable(l)),y=this.contextDefault.set(n.KEY_CONTEXT_SOURCE,{type:e.type,value:e.value});return new s.PromiseProxyIterator(async()=>{let t;return(t=this.isSourceEmpty(e,u)?{data:new a.EmptyIterator,metadata:()=>Promise.resolve({totalItems:0})}:await this.mediatorResolveQuadPattern.mediate({pattern:u,context:y})).metadata?t.metadata().then(t=>{!t.totalItems&&0!==t.totalItems||!isFinite(t.totalItems)?(f.totalItems=1/0,d=0,p(1/0,e,u,t)):(f.totalItems+=t.totalItems,d--,p(t.totalItems,e,u,t))}):(f.totalItems=1/0,d=0,p(1/0,e,u)),t.data})}));return m.on("newListener",t=>{"metadata"===t&&e(()=>m._fillBuffer())}),y.on("end",()=>{--d||m.emit("metadata",f)}),m}match(e,t,r,n){return this.matchLazy(e,t,r,n)}}t.FederatedQuadSource=c}).call(this,r(16).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8);t.RoundRobinUnionIterator=class extends n.BufferedIterator{constructor(e,t){super(t||{autoStart:!1}),this.sourcedEnded=!1,this.currentSource=0,this.listenersAttached=!1,this.sources=[],this.sourceIterator=Array.isArray(e)?new n.ArrayIterator(e):e,this.sourceIterator.on("error",e=>this.emit("error",e))}_read(e,t){if(!this.sourcedEnded){let e;for(this.listenersAttached||(this.listenersAttached=!0,this.sourceIterator.on("readable",()=>this._fillBuffer()));e=this.sourceIterator.read();)e.on("error",e=>this.emit("error",e)),e.on("readable",()=>this._fillBuffer()),e.on("end",()=>this._fillBuffer()),this.sources.push(e);this.sourceIterator.ended&&(this.sourcedEnded=!0)}let r=null,n=this.sources.length;for(;this.sources.length&&null===r&&n--;){const e=this.sources[this.currentSource];r=e.read(),e.ended?this.sources.splice(this.currentSource,1):this.currentSource++,this.currentSource=this.sources.length?this.currentSource%this.sources.length:0}null!==r&&this._push(r),!this.sources.length&&this.sourcedEnded&&this.close(),t()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(41),o=r(12),a=r(29);class s extends n.ActorQueryOperationTyped{constructor(e){super(e,"pattern")}static isTermVariable(e){return"Variable"===e.termType}getVariables(e){return a.uniqTerms(a.getTerms(e).filter(s.isTermVariable)).map(o.termToString)}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorResolveQuadPattern.mediate({pattern:e,context:t}),u=this.getVariables(e),c=a.reduceTerms(e,(e,t,r)=>(s.isTermVariable(t)&&(e[r]=o.termToString(t)),e),{}),l=(e,t,r)=>{const n=c[r];return n&&(e[n]=t),e};return{type:"bindings",bindingsStream:new i.PromiseProxyIterator(async()=>r.data.map(e=>n.Bindings(a.reduceTerms(e,l,{})),{autoStart:!0,maxBufferSize:128})),variables:u,metadata:r.metadata}}}t.ActorQueryOperationQuadpattern=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(417),i=r(22),o=r(102);t.ActorContextPreprocessRdfSourceIdentifier=class extends n.ActorContextPreprocess{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.context){if(e.context.get(i.KEY_CONTEXT_SOURCE)){let t=e.context.get(i.KEY_CONTEXT_SOURCE),r=e.context;return"auto"===t.type&&(r=e.context.delete(i.KEY_CONTEXT_SOURCE),t=await this.identifySource(t,r),r=r.set(i.KEY_CONTEXT_SOURCE,t)),{context:r}}if(e.context.get(i.KEY_CONTEXT_SOURCES)){const t=e.context.delete(i.KEY_CONTEXT_SOURCES),r=()=>{0==--u&&a.push(null)},n=e.context.get(i.KEY_CONTEXT_SOURCES),a=o.AsyncReiterableArray.fromInitialEmpty(),s=[];let u=1;const c=n.iterator();return c.on("data",e=>{u++,"auto"===e.type?s.push(this.identifySource(e,t).then(e=>{a.push(e),r()})):(a.push(e),r())}),c.on("end",()=>{r()}),n.isEnded()&&(await new Promise(e=>c.on("end",e)),await Promise.all(s)),{context:e.context.set(i.KEY_CONTEXT_SOURCES,a)}}}return e}async identifySource(e,t){return this.mediatorRdfSourceIdentifier.mediate({sourceValue:e.value,context:t}).then(t=>(t.sourceType&&(e.type=t.sourceType),e))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(418))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorContextPreprocess=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8);class i{constructor(e,t){this.array=e.slice(),this.iterators=[],t&&this.array.push(null)}static fromFixedData(e){return new i(e,!0)}static fromInitialData(e){return new i(e,!1)}static fromInitialEmpty(){return i.fromInitialData([])}static pushToIterator(e,t){null===t?e.close():e._push(t)}iterator(){if(this.isEnded())return new n.ArrayIterator(this.array.slice(0,this.array.length-1));const e=new n.BufferedIterator;for(const t of this.array)i.pushToIterator(e,t);return this.iterators.push(e),e}push(e){if(this.isEnded())throw new Error("Can not push data anymore into an AsyncReiterableArray after it has been terminated.");this.array.push(e);for(const t of this.iterators)i.pushToIterator(t,e)}isEnded(){return this.array.length>0&&null===this.array[this.array.length-1]}}t.AsyncReiterableArray=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(421),o=r(70),a=r(195),s=r(424);t.ActorRdfResolveQuadPatternFile=class extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.cache=new i({max:this.cacheSize}),this.httpInvalidator.addInvalidateListener(({pageUrl:e})=>e?this.cache.del(e):this.cache.reset())}initializeFile(e,t){const r=this.mediatorRdfDereference.mediate({context:t,url:e}).then(e=>new Promise((t,r)=>{const n=new o.Store;e.quads.on("data",e=>n.addQuad(e)),e.quads.on("error",r),e.quads.on("end",()=>t(n))}));return this.cache.set(e,r),r}async initialize(){return(this.files||[]).forEach(e=>this.initializeFile(e,null)),null}async test(e){if(!this.hasContextSingleSource("file",e.context))throw new Error(this.name+" requires a single source with a file to be present in the context.");return!0}async getSource(e){const t=this.getContextSource(e).value;return this.cache.has(t)||await this.initializeFile(t,e),new s.N3StoreQuadSource(await this.cache.get(t))}async getOutput(e,t,r){const n=await super.getOutput(e,t,r);return n.metadata=(()=>new Promise((e,n)=>{const i=this.getContextSource(r).value;this.cache.get(i).then(r=>{const n=r.countQuads(a.N3StoreIterator.nullifyVariables(t.subject),a.N3StoreIterator.nullifyVariables(t.predicate),a.N3StoreIterator.nullifyVariables(t.object),a.N3StoreIterator.nullifyVariables(t.graph));e({totalItems:n})},n)})),n}}},function(e,t,r){"use strict";const n=r(422),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=()=>1;const y=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(m(e,t)){if(b(e,n),!e[s])return}else r&&(e[h]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},v=e=>{if(e[o]>e[i])for(let t=e[f].tail;e[o]>e[i]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[o]-=r.length,e[d].delete(r.key),e[f].removeNode(t)}};class g{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const _=(e,t,r,n)=>{let i=r.value;m(e,i)&&(b(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[a]="function"!=typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,v(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),v(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;_(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;_(this,e,r,t),r=n}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[c]&&this[f]&&this[f].length&&this[f].forEach(e=>this[c](e.key,e.value)),this[d]=new Map,this[f]=new n,this[o]=0}dump(){return this[f].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](t,e);if(this[d].has(e)){if(s>this[i])return b(this,this[d].get(e)),!1;const a=this[d].get(e).value;return this[c]&&(this[l]||this[c](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),v(this),!0}const h=new g(e,t,s,n,r);return h.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=h.length,this[f].unshift(h),this[d].set(e,this[f].head),v(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach((e,t)=>y(this,t,!1))}}},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(423)(n)}catch(e){}},function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(195);t.N3StoreQuadSource=class{constructor(e){this.store=e}match(e,t,r,n){return this.matchLazy(e,t,r,n)}matchLazy(e,t,r,i){if(e instanceof RegExp||t instanceof RegExp||r instanceof RegExp||i instanceof RegExp)throw new Error("N3StoreQuadSource does not support matching by regular expressions.");return new n.N3StoreIterator(this.store,e,t,r,i)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(4),o=r(75),a=r(14);t.ActorQueryOperationPathAlt=class extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ALT)}async runOperation(e,t){const a=e.predicate,s=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,a.left,e.object,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,a.right,e.object,e.graph)})])).map(e=>i.ActorQueryOperation.getSafeBindings(e));return{type:"bindings",bindingsStream:new o.RoundRobinUnionIterator(s.map(e=>e.bindingsStream)),variables:r(198)([].concat.apply([],s.map(e=>e.variables)))}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(14);t.ActorQueryOperationPathInv=class extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.INV)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPath(e.object,r.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(14);t.ActorQueryOperationPathLink=class extends n.ActorAbstractPath{constructor(e){super(e,i.Algebra.types.LINK)}async runOperation(e,t){const r=e.predicate,i=n.ActorAbstractPath.FACTORY.createPattern(e.subject,r.iri,e.object,e.graph);return this.mediatorQueryOperation.mediate({operation:i,context:t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(4),o=r(12),a=r(14);t.ActorQueryOperationPathNps=class extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.NPS)}async runOperation(e,t){const r=e.predicate,a=this.generateBlankNode(e),s=o.termToString(a),u=n.ActorAbstractPath.FACTORY.createPattern(e.subject,a,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:u,context:t})),l=c.bindingsStream.transform({filter:e=>!r.iris.some(t=>t.equals(e.get(s))),transform:(e,t)=>{l._push(e.delete(s)),t(null)}});return{type:"bindings",bindingsStream:l,variables:c.variables}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(4),o=r(8),a=r(41),s=r(12),u=r(14);t.ActorQueryOperationPathOneOrMore=class extends n.ActorAbstractPath{constructor(e){super(e,u.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,t){const r=e.predicate,u="Variable"===e.subject.termType,c="Variable"===e.object.termType;if(!u&&c){const u=n.ActorAbstractPath.FACTORY.createPath(e.subject,r.path,e.object,e.graph),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:u})),l=s.termToString(e.object),f={},d=new o.MultiTransformIterator(c.bindingsStream);return d._createTransformer=(e=>{const n=e.get(l);return new a.PromiseProxyIterator(async()=>{const e=new o.BufferedIterator;return await this.ALP(n,r.path,t,f,e,{count:0}),e.transform({transform:(e,t)=>{d._push(i.Bindings({[l]:e})),t(null)}})},{autoStart:!0,maxBufferSize:128})}),{type:"bindings",bindingsStream:d,variables:[l]}}if(u&&c)throw new Error("ZeroOrMore path expressions with 2 variables not supported yet");if(u&&!c)return this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.object,n.ActorAbstractPath.FACTORY.createOneOrMorePath(n.ActorAbstractPath.FACTORY.createInv(r.path)),e.subject,e.graph)});{const o=this.generateBlankNode(),a=s.termToString(o),u=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r,o,e.graph)})).bindingsStream.transform({filter:t=>t.get(a).equals(e.object),transform:(e,t)=>{u._push(i.Bindings({})),t(null)}});return{type:"bindings",bindingsStream:u,variables:[]}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(4),o=r(12),a=r(14);t.ActorQueryOperationPathSeq=class extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.SEQ)}async runOperation(e,t){const r=e.predicate,a=this.generateBlankNode(e),s=o.termToString(a),u=(await Promise.all([this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.left,a,e.graph)}),this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(a,r.right,e.object,e.graph)})])).map(e=>i.ActorQueryOperation.getSafeBindings(e)),c=i.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({entries:u})),l=c.bindingsStream.transform({transform:(e,t)=>{l._push(e.delete(s)),t(null)}});return{type:"bindings",bindingsStream:l,variables:c.variables}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(42),i=r(4),o=r(12),a=r(14);t.ActorQueryOperationPathZeroOrMore=class extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,t){const r=e.predicate,a="Variable"===e.subject.termType,s="Variable"===e.object.termType;if(a&&s)throw new Error("ZeroOrMore path expressions with 2 variables not supported yet");if(a||s){const s=o.termToString(a?e.subject:e.object),u=a?n.ActorAbstractPath.FACTORY.createInv(r.path):r.path,c=(await this.ALPeval(a?e.object:e.subject,u,t)).transform({transform:(e,t)=>{c._push(i.Bindings({[s]:e})),t(null)}});return{type:"bindings",bindingsStream:c,variables:[s]}}{const n=(await this.ALPeval(e.subject,r.path,t)).transform({filter:t=>t.equals(e.object),transform:(e,t)=>{n._push(i.Bindings({})),t(null)}});return{type:"bindings",bindingsStream:n,variables:[]}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(197),i=r(4),o=r(8),a=r(12),s=r(14);t.ActorQueryOperationPathZeroOrOne=class extends n.ActorAbstractPath{constructor(e){super(e,s.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,t){const r=e.predicate,s="Variable"===e.subject.termType,u="Variable"===e.object.termType,c=[];if(!s&&!u&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new o.SingletonIterator(i.Bindings({})),variables:[]};if(s&&u)throw new Error("ZeroOrOne path expressions with 2 variables not supported yet");s&&c.push(i.Bindings({[a.termToString(e.subject)]:e.object})),u&&c.push(i.Bindings({[a.termToString(e.object)]:e.subject}));const l=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:t,operation:n.ActorAbstractPath.FACTORY.createPath(e.subject,r.path,e.object,e.graph)}));return{type:"bindings",bindingsStream:l.bindingsStream.prepend(c),variables:l.variables}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);t.ActorQueryOperationAsk=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=n.ActorQueryOperation.getSafeBindings(r);return{type:"boolean",booleanResult:new Promise((e,t)=>{i.bindingsStream.once("data",()=>{e(!0),i.bindingsStream.close()}),i.bindingsStream.on("end",()=>e(!1)),i.bindingsStream.on("error",t)})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(22),o=r(1),a=r(8),s=r(102);t.ActorQueryOperationService=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"service")}async testOperation(e,t){if("NamedNode"!==e.name.termType)throw new Error(`${this.name} can only query services by IRI, while a ${e.name.termType} was given.`);return!0}async runOperation(e,t){const r=e.name.value;let u=(t=t||o.ActionContext({})).delete(i.KEY_CONTEXT_SOURCE).delete(i.KEY_CONTEXT_SOURCES);const c=this.forceSparqlEndpoint?"sparql":(await this.mediatorRdfSourceIdentifier.mediate({sourceValue:r,context:u})).sourceType;let l;u=u.set(i.KEY_CONTEXT_SOURCES,s.AsyncReiterableArray.fromFixedData([{type:c,value:r}]));try{l=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:u}))}catch(t){if(!e.silent)throw t;l={bindingsStream:new a.SingletonIterator(n.Bindings({})),type:"bindings",variables:[]}}return l}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);t.ActorQueryOperationSlice=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),i=!!e.length||0===e.length;return{type:"bindings",bindingsStream:r.bindingsStream.range(e.start,i?e.start+e.length-1:1/0),metadata:r.metadata?()=>r.metadata().then(t=>{let r=t.totalItems;return isFinite(r)&&(r=Math.max(0,r-e.start),i&&(r=Math.min(r,e.length))),Object.assign({},t,{totalItems:r})}):null,variables:r.variables}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);t.ActorQueryOperationBgpSingle=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,t){if(1!==e.patterns.length)throw new Error("Actor "+this.name+" can only operate on BGPs with a single pattern.");return!0}runOperation(e,t){if(t&&t.has(n.KEY_CONTEXT_BGP_PARENTMETADATA)){const e=t.get(n.KEY_CONTEXT_BGP_PARENTMETADATA);t=(t=t.delete(n.KEY_CONTEXT_BGP_PARENTMETADATA)).set(n.KEY_CONTEXT_PATTERN_PARENTMETADATA,e[0])}return this.mediatorQueryOperation.mediate({operation:e.patterns[0],context:t})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(8),o=r(41),a=r(12),s=r(29);class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}static createLeftDeepStream(e,t,r){const n=new i.MultiTransformIterator(e);return n._createTransformer=(e=>{const n=t=>t.merge(e);return new o.PromiseProxyIterator(async()=>(await r(u.materializePatterns(t,e))).map(n),{autoStart:!0,maxBufferSize:128})}),n}static getCombinedVariables(e){return r(198)([].concat.apply([],e.map(e=>e.variables)))}static getSmallestPatternId(e){let t=-1,r=1/0;for(let n=0;n<e.length;n++){const i=e[n],o=u.getTotalItems(i);o<=r&&(r=o,t=n)}return t}static estimateCombinedTotalItems(e,t){const r=u.getTotalItems(e);return t.map(e=>r*u.getTotalItems(e)).reduce((e,t)=>e+t,0)}static getTotalItems(e){const t=(e||{}).totalItems;return t||0===t?t:1/0}static materializePatterns(e,t){return e.map(e=>u.materializePattern(e,t))}static materializePattern(e,t){const r={};return{pattern:Object.assign(s.mapTerms(e,(e,n)=>{const i=u.materializeTerm(e,t);return e!==i&&(r[n]=e),i}),{type:"pattern"}),bindings:r}}static materializeTerm(e,t){if("Variable"===e.termType){const r=t.get(a.termToString(e));if(r)return r}return e}static async hasOneEmptyPatternOutput(e){for(const t of e)if(t.metadata){const e=await t.metadata();if(!u.getTotalItems(e))return!0}return!1}async testOperation(e,t){if(e.patterns.length<2)throw new Error("Actor "+this.name+" can only operate on BGPs with at least two patterns.");return!0}async runOperation(e,t){const r=(await Promise.all(e.patterns.map(e=>this.mediatorQueryOperation.mediate({operation:e,context:t})))).map(n.ActorQueryOperation.getSafeBindings);if(await u.hasOneEmptyPatternOutput(r))return{bindingsStream:new i.EmptyIterator,metadata:()=>Promise.resolve({totalItems:0}),type:"bindings",variables:[]};const o=await Promise.all(r.map(async e=>e.metadata?await e.metadata():{})),a=u.getSmallestPatternId(o);this.logDebug(t,"Smallest pattern: ",{pattern:e.patterns[a],metadata:o[a]});for(let e=0;e<r.length;e++)e!==a&&r[e].bindingsStream.close();const s=r.slice(a)[0],c=e.patterns.concat([]);c.splice(a,1);const l=o.concat([]);l.splice(a,1),n.ActorQueryOperation.validateQueryOutput(s,"bindings");const f=t&&t.set(n.KEY_CONTEXT_BGP_CURRENTMETADATA,o[a]).set(n.KEY_CONTEXT_BGP_PARENTMETADATA,l);return{type:"bindings",bindingsStream:u.createLeftDeepStream(s.bindingsStream,c,async e=>{const t={type:"bgp",patterns:e.map(e=>e.pattern)},r=e.map(e=>e.bindings);return n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:t,context:f.set(n.KEY_CONTEXT_BGP_PATTERNBINDINGS,r)})).bindingsStream}),variables:u.getCombinedVariables(r),metadata:()=>Promise.resolve({totalItems:u.estimateCombinedTotalItems(o[a],o.slice(a))})}}}t.ActorQueryOperationBgpLeftDeepSmallest=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(8),o=r(29),a=r(439);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return o.uniqTerms([].concat.apply([],e.map(e=>o.getVariables(o.getTerms(e)))))}async testOperation(e,t){return!0}async runOperation(e,t){const r=s.getVariables(e.template);if(0===r.length)return{metadata:()=>Promise.resolve({totalItems:0}),quadStream:new i.EmptyIterator,type:"quads"};const o={type:"project",input:e.input,variables:r},u=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o,context:t})),c=new a.BindingsToQuadsIterator(e.template,u.bindingsStream);let l=null;return u.metadata&&(l=(()=>u.metadata().then(t=>t?t.totalItems?Object.assign({},t,{totalItems:t.totalItems*e.template.length}):t:null))),{metadata:l,quadStream:c,type:"quads"}}}t.ActorQueryOperationConstruct=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(8),o=r(29);class a extends i.MultiTransformIterator{constructor(e,t){super(t),this.template=e,this.blankNodeCounter=0}static bindTerm(e,t){return"Variable"===t.termType?e.get("?"+t.value):t}static bindQuad(e,t){try{return o.mapTerms(t,t=>{const r=a.bindTerm(e,t);if(!r)throw new Error("Unbound term");return r})}catch(e){return null}}static localizeBlankNode(e,t){return"BlankNode"===t.termType?n.blankNode(t.value+e):t}static localizeQuad(e,t){return o.mapTerms(t,t=>a.localizeBlankNode(e,t))}static bindTemplate(e,t,r){return t.map(a.bindQuad.bind(null,e)).filter(e=>!!e).map(a.localizeQuad.bind(null,r))}_createTransformer(e){return new i.ArrayIterator(a.bindTemplate(e,this.template,this.blankNodeCounter++))}}t.BindingsToQuadsIterator=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(103),i=r(4),o=r(6),a=r(75);t.ActorQueryOperationDescribeSubject=class extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"describe")}async testOperation(e,t){return!0}async runOperation(e,t){const r=e.terms.filter(e=>"Variable"!==e.termType).map(e=>{const t=[o.triple(e,o.variable("__predicate"),o.variable("__object"))];return t.forEach(e=>e.type="pattern"),{input:{type:"bgp",patterns:t},template:t,type:"construct"}});if(r.length!==e.terms.length){let t=[];e.terms.filter(e=>"Variable"===e.termType).forEach((e,r)=>{const n=[o.triple(e,o.variable("__predicate"+r),o.variable("__object"+r))];n.forEach(e=>e.type="pattern"),t=t.concat(n)}),r.push({input:{type:"join",left:e.input,right:{type:"bgp",patterns:t}},template:t,type:"construct"})}const s=(await Promise.all(r.map(e=>this.mediatorQueryOperation.mediate({operation:e,context:t})))).map(i.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new a.RoundRobinUnionIterator(s.map(e=>e.quadStream)),metadata:()=>Promise.all(s.map(e=>e.metadata).filter(e=>!!e).map(e=>e())).then(n.ActorQueryOperationUnion.unionMetadata)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(75);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){return r(168).apply({},e)}static unionMetadata(e){let t=0;for(const r of e){if(!r.totalItems||!isFinite(r.totalItems)){t=1/0;break}t+=r.totalItems}return{totalItems:t}}async testOperation(e,t){return!0}async runOperation(e,t){const r=(await Promise.all([this.mediatorQueryOperation.mediate({operation:e.left,context:t}),this.mediatorQueryOperation.mediate({operation:e.right,context:t})])).map(n.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new i.RoundRobinUnionIterator(r.map(e=>e.bindingsStream)),metadata:r[0].metadata&&r[1].metadata?()=>Promise.all([r[0].metadata(),r[1].metadata()]).then(o.unionMetadata):null,variables:o.unionVariables(r.map(e=>e.variables))}}}t.ActorQueryOperationUnion=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(104);class i extends n.AbstractBindingHash{constructor(e){super(e,"distinct")}newHashFilter(e,t){const r={};return n=>{const o=i.hash(e,t,n);return!(o in r)&&(r[o]=!0)}}}t.ActorQueryOperationDistinctHash=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(214);class o extends n.ActorQueryOperationTypedMediated{constructor(e,t){if(super(e,t),!o.doesHashAlgorithmExist(this.hashAlgorithm))throw new Error("The given hash algorithm is not present in this version of Node: "+this.hashAlgorithm);if(!o.doesDigestAlgorithmExist(this.digestAlgorithm))throw new Error("The given digest algorithm is not present in this version of Node: "+this.digestAlgorithm)}static doesHashAlgorithmExist(e){return i.getHashes().indexOf(e)>=0}static doesDigestAlgorithmExist(e){return["latin1","hex","base64"].indexOf(e)>=0}static hash(e,t,n){const o=i.createHash(e);return o.update(r(245)(n)),o.digest(t)}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t}));return{type:"bindings",bindingsStream:r.bindingsStream.filter(this.newHashFilter(this.hashAlgorithm,this.digestAlgorithm)),metadata:r.metadata,variables:r.variables}}}t.AbstractBindingHash=o},function(e,t,r){var n=r(2),i=r(51),o=r(3).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var d=0;d<80;++d){var h=~~(d/20),p=c(r)+f(h,n,i,o)+s+t[d]+a[h]|0;s=o,o=i,i=l(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,r){var n=r(2),i=r(51),o=r(3).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<1|e>>>31}function l(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function d(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=c(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var h=0;h<80;++h){var p=~~(h/20),y=l(r)+d(p,n,i,o)+s+t[h]+a[p]|0;s=o,o=i,i=f(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},function(e,t,r){var n=r(2),i=r(216),o=r(51),a=r(3).Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},function(e,t,r){var n=r(2),i=r(217),o=r(51),a=r(3).Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},function(e,t,r){"use strict";var n=r(2),i=r(3).Buffer,o=r(34),a=i.alloc(128),s=64;function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,a],s));for(var r=this._ipad=i.allocUnsafe(s),n=this._opad=i.allocUnsafe(s),u=0;u<s;u++)r[u]=54^t[u],n[u]=92^t[u];this._hash=[r]}n(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u},function(e,t,r){e.exports=r(220)},function(e,t,r){(function(t,n){var i,o=r(222),a=r(223),s=r(224),u=r(3).Buffer,c=t.crypto&&t.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(e,t,r,n,i){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)}).then(function(e){return u.from(e)})}e.exports=function(e,r,h,p,y,m){"function"==typeof y&&(m=y,y=void 0);var v=l[(y=y||"sha1").toLowerCase()];if(!v||"function"!=typeof t.Promise)return n.nextTick(function(){var t;try{t=s(e,r,h,p,y)}catch(e){return m(e)}m(null,t)});if(o(e,r,h,p),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");u.isBuffer(e)||(e=u.from(e,a)),u.isBuffer(r)||(r=u.from(r,a)),function(e,t){e.then(function(e){n.nextTick(function(){t(null,e)})},function(e){n.nextTick(function(){t(e)})})}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var r=d(i=i||u.alloc(8),i,10,128,e).then(function(){return!0}).catch(function(){return!1});return f[e]=r,r}(v).then(function(t){return t?d(e,r,h,p,v):s(e,r,h,p,y)}),m)}}).call(this,r(9),r(10))},function(e,t,r){var n=r(452),i=r(109),o=r(110),a=r(467),s=r(77);function u(e,t,r){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function c(e,t,r){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=s(t,!1,r,n);return u(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=s(t,!1,r,n);return c(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(e,t,r){var n=r(34),i=r(108),o=r(2),a=r(3).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){n.call(this);var t,r=e.mode.toLowerCase(),i=s[r];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=a.concat([o,o.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:o,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,o(u,n),u.prototype._update=function(e){return a.from(this._des.update(e))},u.prototype._final=function(){return a.from(this._des.final())}},function(e,t,r){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}r[n+0]=i>>>0,r[n+1]=o>>>0},t.rip=function(e,t,r,n){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.pc1=function(e,t,r,n){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,i){for(var o=0,a=0,s=n.length>>>1,u=0;u<s;u++)o<<=1,o|=e>>>n[u]&1;for(u=s;u<n.length;u++)a<<=1,a|=t>>>n[u]&1;r[i+0]=o>>>0,r[i+1]=a>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=i[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=i[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<o.length;r++)t<<=1,t|=e>>>o[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},function(e,t,r){"use strict";var n=r(20);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,r){"use strict";var n=r(20),i=r(2),o=r(108),a=o.utils,s=o.Cipher;function u(e){s.call(this,e);var t=new function(){this.tmp=new Array(2),this.keys=null};this._desState=t,this.deriveKeys(t,e.key)}i(u,s),e.exports=u,u.create=function(e){return new u(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=a.readUInt32BE(t,0),i=a.readUInt32BE(t,4);a.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=c[o>>>1];r=a.r28shl(r,s),i=a.r28shl(i,s),a.pc2(r,i,e.keys,o)}},u.prototype._update=function(e,t,r,n){var i=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,s,i.tmp,0):this._decrypt(i,o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],a.writeUInt32BE(r,o,n),a.writeUInt32BE(r,s,n+4)},u.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},u.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,r,n,i){for(var o=t,s=r,u=0;u<e.keys.length;u+=2){var c=e.keys[u],l=e.keys[u+1];a.expand(s,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=a.substitute(c,l),d=s;s=(o^a.permute(f))>>>0,o=d}a.rip(s,o,n,i)},u.prototype._decrypt=function(e,t,r,n,i){for(var o=r,s=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],l=e.keys[u+1];a.expand(o,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=a.substitute(c,l),d=o;o=(s^a.permute(f))>>>0,s=d}a.rip(o,s,n,i)}},function(e,t,r){"use strict";var n=r(20),i=r(2),o={};t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(o),n=0;n<r.length;n++){var a=r[n];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new function(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,r,n);for(s=0;s<this.blockSize;s++)a[s]=r[n+s]}else{o._update.call(this,e,t,r,n);for(s=0;s<this.blockSize;s++)r[n+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,r){"use strict";var n=r(20),i=r(2),o=r(108),a=o.Cipher,s=o.DES;function u(e){a.call(this,e);var t=new function(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:r})]}(this.type,this.options.key);this._edeState=t}i(u,a),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=s.prototype._pad,u.prototype._unpad=s.prototype._unpad},function(e,t,r){var n=r(110),i=r(228),o=r(3).Buffer,a=r(229),s=r(34),u=r(76),c=r(77);function l(e,t,r){s.call(this),this._cache=new d,this._cipher=new u.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}r(2)(l,s),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var f=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(e,t,r){var s=n[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===s.type?new a(s.module,t,r):"auth"===s.type?new i(s.module,t,r):new l(s.module,t,r)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=c(t,!1,r.key,r.iv);return h(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,r){var n=r(60);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},function(e,t,r){var n=r(3).Buffer,i=r(60);function o(e,t,r){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:a]),a}t.encrypt=function(e,t,r){for(var i,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,o(e,t,r)]);break}i=e._cache.length,a=n.concat([a,o(e,t.slice(0,i),r)]),t=t.slice(i)}return a}},function(e,t,r){var n=r(3).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},function(e,t,r){var n=r(3).Buffer;function i(e,t,r){for(var n,i,a,s=-1,u=0;++s<8;)n=e._cipher.encryptBlock(e._prev),i=t&1<<7-s?128:0,u+=(128&(a=n[0]^i))>>s%8,e._prev=o(e._prev,r?i:a);return u}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},function(e,t,r){(function(e){var n=r(60);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,r){for(;t._cache.length<r.length;)t._cache=e.concat([t._cache,i(t)]);var o=t._cache.slice(0,r.length);return t._cache=t._cache.slice(r.length),n(r,o)}}).call(this,r(7).Buffer)},function(e,t,r){var n=r(3).Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,r=function(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}(this.h),n=[0,0,0,0],i=-1;++i<128;){for(0!=(this.state[~~(i/8)]&1<<7-i%8)&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),t=0!=(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,t&&(r[0]=r[0]^225<<24)}this.state=o(n)},a.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,r){var n=r(228),i=r(3).Buffer,o=r(110),a=r(229),s=r(34),u=r(76),c=r(77);function l(e,t,r){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function d(e,t,r){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,r,!0):"auth"===s.type?new n(s.module,t,r,!0):new l(s.module,t,r)}r(2)(l,s),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=c(t,!1,r.key,r.iv);return d(e,n.key,n.iv)},t.createDecipheriv=d},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,r){(function(e){var n=r(230),i=r(471),o=r(472);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var r=new e(i[t].prime,"hex"),n=new e(i[t].gen,"hex");return new o(r,n)},t.createDiffieHellman=t.DiffieHellman=function t(r,i,s,u){return e.isBuffer(i)||void 0===a[i]?t(r,"binary",i,s):(i=i||"binary",u=u||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,u)),"number"==typeof r?new o(n(r,s),s,!0):(e.isBuffer(r)||(r=new e(r,i)),new o(r,s,!0)))}}).call(this,r(7).Buffer)},function(e,t){},function(e,t){},function(e){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,r){(function(t){var n=r(11),i=new(r(231)),o=new n(24),a=new n(11),s=new n(10),u=new n(3),c=new n(7),l=r(230),f=r(49);function d(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._pub=new n(e),this}function h(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._priv=new n(e),this}e.exports=y;var p={};function y(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function m(e,r){var n=new t(e.toArray());return r?n.toString(r):n}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in p)return p[n];var f,d=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!i.test(e))return d+=1,d+="02"===r||"05"===r?8:4,p[n]=d,d;switch(i.test(e.shrn(1))||(d+=2),r){case"02":e.mod(o).cmp(a)&&(d+=8);break;case"05":(f=e.mod(s)).cmp(u)&&f.cmp(c)&&(d+=8);break;default:d+=4}return p[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new n(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(e){var r=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(r.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},y.prototype.getPublicKey=function(e){return m(this._pub,e)},y.prototype.getPrivateKey=function(e){return m(this._priv,e)},y.prototype.getPrime=function(e){return m(this.__prime,e)},y.prototype.getGenerator=function(e){return m(this._gen,e)},y.prototype.setGenerator=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.__gen=e,this._gen=new n(e),this}}).call(this,r(7).Buffer)},function(e,t,r){(function(t){var n=r(50),i=r(5),o=r(2),a=r(474),s=r(510),u=r(220);function c(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new c(e)}function d(e){return new l(e)}Object.keys(u).forEach(function(e){u[e].id=new t(u[e].id,"hex"),u[e.toLowerCase()]=u[e]}),o(c,i.Writable),c.prototype._write=function(e,t,r){this._hash.update(e),r()},c.prototype.update=function(e,r){return"string"==typeof e&&(e=new t(e,r)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=a(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},o(l,i.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,r){return"string"==typeof e&&(e=new t(e,r)),this._hash.update(e),this},l.prototype.verify=function(e,r,n){"string"==typeof r&&(r=new t(r,n)),this.end();var i=this._hash.digest();return s(r,i,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}}).call(this,r(7).Buffer)},function(e,t,r){(function(t){var n=r(218),i=r(111),o=r(17).ec,a=r(11),s=r(79),u=r(241);function c(e,r,i,o){if((e=new t(e.toArray())).length<r.byteLength()){var a=new t(r.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var s=i.length,u=function(e,r){e=(e=l(e,r)).mod(r);var n=new t(e.toArray());if(n.length<r.byteLength()){var i=new t(r.byteLength()-n.length);i.fill(0),n=t.concat([i,n])}return n}(i,r),c=new t(s);c.fill(1);var f=new t(s);return f.fill(0),f=n(o,f).update(c).update(new t([0])).update(e).update(u).digest(),c=n(o,f).update(c).digest(),{k:f=n(o,f).update(c).update(new t([1])).update(e).update(u).digest(),v:c=n(o,f).update(c).digest()}}function l(e,t){var r=new a(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function f(e,r,i){var o,a;do{for(o=new t(0);8*o.length<e.bitLength();)r.v=n(i,r.k).update(r.v).digest(),o=t.concat([o,r.v]);a=l(o,e),r.k=n(i,r.k).update(r.v).update(new t([0])).digest(),r.v=n(i,r.k).update(r.v).digest()}while(-1!==a.cmp(e));return a}function d(e,t,r,n){return e.toRed(a.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,r,n,h,p){var y=s(r);if(y.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(e,r){var n=u[r.curve.join(".")];if(!n)throw new Error("unknown curve "+r.curve.join("."));var i=new o(n).keyFromPrivate(r.privateKey).sign(e);return new t(i.toDER())}(e,y)}if("dsa"===y.type){if("dsa"!==h)throw new Error("wrong private key type");return function(e,r,n){for(var i,o=r.params.priv_key,s=r.params.p,u=r.params.q,h=r.params.g,p=new a(0),y=l(e,u).mod(u),m=!1,v=c(o,u,e,n);!1===m;)i=f(u,v,n),p=d(h,i,s,u),0===(m=i.invm(u).imul(y.add(o.mul(p))).mod(u)).cmpn(0)&&(m=!1,p=new a(0));return function(e,r){e=e.toArray(),r=r.toArray(),128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r));var n=[48,e.length+r.length+4,2,e.length];return n=n.concat(e,[2,r.length],r),new t(n)}(p,m)}(e,y,n)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");e=t.concat([p,e]);for(var m=y.modulus.byteLength(),v=[0,1];e.length+v.length+1<m;)v.push(255);v.push(0);for(var b=-1;++b<e.length;)v.push(e[b]);return i(v,y)},e.exports.getKey=c,e.exports.makeKey=f}).call(this,r(7).Buffer)},function(e){e.exports={_from:"elliptic@^6.4.0",_id:"elliptic@6.4.1",_inBundle:!1,_integrity:"sha512-BsXLz5sqX8OHcsh7CqBMztyXARmGQ3LWPtGjJi6DiJHq5C/qvi9P3OqgswKSDftbu8+IoI/QDTAm2fFnQ9SZSQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.4.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.4.0",saveSpec:null,fetchSpec:"^6.4.0"},_requiredBy:["/@trust/keyto","/@trust/webcrypto","/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.1.tgz",_shasum:"c2d0b7776911b86722c632c3c06c60f2f819939a",_spec:"elliptic@^6.4.0",_where:"/Users/ruben/Documents/UGent/Solid/solid-react/node_modules/@trust/webcrypto",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.1"}},function(e,t,r){"use strict";var n=t,i=r(11),o=r(20),a=r(233);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(n-1);o=a>(n>>1)-1?(n>>1)-a:a,i.isubn(o)}else o=0;r.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,u=1;u<s;u++)r.push(0);i.iushrn(s)}return r},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o,a,s,u=e.andln(3)+n&3,c=t.andln(3)+i&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(s=e.andln(7)+n&7)&&5!==s||2!==c?u:-u,r[0].push(o),a=0==(1&c)?0:3!=(s=t.andln(7)+i&7)&&5!==s||2!==u?c:-c,r[1].push(a),2*n===o+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,r){"use strict";var n=r(11),i=r(17).utils,o=i.getNAF,a=i.getJSF,s=i.assert;function u(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var a=[],u=0;u<n.length;u+=r.step){var c=0;for(t=u+r.step-1;t>=u;t--)c=(c<<1)+n[t];a.push(c)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(u=0;u<a.length;u++){(c=a[u])===d?f=f.mixedAdd(r.points[u]):c===-d&&(f=f.mixedAdd(r.points[u].neg()))}l=l.add(f)}return l.toP()},u.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r),u=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(t=0;c>=0&&0===a[c];c--)t++;if(c>=0&&t++,u=u.dblp(t),c<0)break;var l=a[c];s(0!==l),u="affine"===e.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,r,n,i){for(var s=this._wnafT1,u=this._wnafT2,c=this._wnafT3,l=0,f=0;f<n;f++){var d=(O=t[f])._getNAFPoints(e);s[f]=d.wnd,u[f]=d.points}for(f=n-1;f>=1;f-=2){var h=f-1,p=f;if(1===s[h]&&1===s[p]){var y=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(y[1]=t[h].add(t[p]),y[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(y[1]=t[h].toJ().mixedAdd(t[p]),y[2]=t[h].add(t[p].neg())):(y[1]=t[h].toJ().mixedAdd(t[p]),y[2]=t[h].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[h],r[p]);l=Math.max(v[0].length,l),c[h]=new Array(l),c[p]=new Array(l);for(var b=0;b<l;b++){var g=0|v[0][b],_=0|v[1][b];c[h][b]=m[3*(g+1)+(_+1)],c[p][b]=0,u[h]=y}}else c[h]=o(r[h],s[h]),c[p]=o(r[p],s[p]),l=Math.max(c[h].length,l),l=Math.max(c[p].length,l)}var w=this.jpoint(null,null,null),E=this._wnafT4;for(f=l;f>=0;f--){for(var S=0;f>=0;){var T=!0;for(b=0;b<n;b++)E[b]=0|c[b][f],0!==E[b]&&(T=!1);if(!T)break;S++,f--}if(f>=0&&S++,w=w.dblp(S),f<0)break;for(b=0;b<n;b++){var O,x=E[b];0!==x&&(x>0?O=u[b][x-1>>1]:x<0&&(O=u[b][-x-1>>1].neg()),w="affine"===O.type?w.mixedAdd(O):w.add(O))}}for(f=0;f<n;f++)u[f]=null;return i?w:w.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},function(e,t,r){"use strict";var n=r(78),i=r(17),o=r(11),a=r(2),s=n.base,u=i.utils.assert;function c(e){s.call(this,"short",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(t,16),this.y=new o(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(t,16),this.y=new o(r,16),this.z=new o(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new o(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new o(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],u(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new o(e.a,16),b:new o(e.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:o.mont(e),r=new o(2).toRed(t).redInvm(),n=r.redNeg(),i=new o(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,u,c,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new o(1),y=new o(0),m=new o(0),v=new o(1),b=0;0!==d.cmpn(0);){var g=h.div(d);c=h.sub(g.mul(d)),l=m.sub(g.mul(p));var _=v.sub(g.mul(y));if(!n&&c.cmp(f)<0)t=u.neg(),r=p,n=c.neg(),i=l;else if(n&&2==++b)break;u=c,h=d,d=c,m=p,p=l,v=y,y=_}a=c.neg(),s=l;var w=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a:a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:u.add(c).neg()}},c.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return c},a(l,s.BasePoint),c.prototype.point=function(e,t,r){return new l(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new o(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},l.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(f,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),d=u.redSqr().redIAdd(l).redISub(f).redISub(f),h=u.redMul(f.redISub(d)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(c)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(r=0;r<e;r++){var l=o.redSqr(),f=c.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=o.redMul(f),y=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(y),v=h.redMul(m);v=v.redIAdd(v).redISub(d);var b=c.redMul(s);r+1<e&&(u=u.redMul(d)),o=y,s=b,c=v}return this.curve.jpoint(o,c.redMul(i),s)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=y.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),y=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(a),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,d,h)},f.prototype.mul=function(e,t){return e=new o(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,r){"use strict";var n=r(78),i=r(11),o=r(2),a=n.base,s=r(17).utils;function u(e){a.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){a.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(u,a),e.exports=u,u.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},o(c,a.BasePoint),u.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},u.prototype.point=function(e,t){return new c(this,e,t)},u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,r){"use strict";var n=r(78),i=r(17),o=r(11),a=r(2),s=n.base,u=i.utils.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new o(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function l(e,t,r,n,i){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(t,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new o(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},a(l,s.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new l(this,e,t,r,n)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),u=i.redMul(a),c=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(u,c,f,l)},l.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(i)).redAdd(o);if(this.zOne)e=n.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(c.redSub(o)),r=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),u=a.redSub(s).redISub(s);e=n.redSub(i).redISub(o).redMul(u),t=a.redMul(c.redSub(o)),r=a.redMul(u)}}else{var c=i.redAdd(o);s=this.curve._mulC(this.z).redSqr(),u=c.redSub(s).redSub(s);e=this.curve._mulC(n.redISub(c)).redMul(u),t=this.curve._mulC(c).redMul(i.redISub(o)),r=c.redMul(u)}return this.curve.point(e,t,r)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),u=r.redAdd(t),c=o.redMul(a),l=s.redMul(u),f=o.redMul(u),d=a.redMul(s);return this.curve.point(c,l,d,f)},l.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=n.redMul(u).redMul(l);return this.curve.twisted?(t=n.redMul(c).redMul(a.redSub(this.curve._mulA(o))),r=u.redMul(c)):(t=n.redMul(c).redMul(a.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(f,t,r)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},l.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},function(e,t,r){"use strict";var n,i=t,o=r(112),a=r(17),s=a.utils.assert;function u(e){"short"===e.type?this.curve=new a.curve.short(e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(488)}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},function(e,t,r){"use strict";t.sha1=r(483),t.sha224=r(484),t.sha256=r(235),t.sha384=r(485),t.sha512=r(236)},function(e,t,r){"use strict";var n=r(24),i=r(61),o=r(234),a=n.rotl32,s=n.sum32,u=n.sum32_5,c=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),y=u(a(i,5),c(p,o,l,d),h,r[n],f[p]);h=d,d=l,l=a(o,30),o=i,i=y}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(24),i=r(235);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,r){"use strict";var n=r(24),i=r(236);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,r){"use strict";var n=r(24),i=r(61),o=n.rotl32,a=n.sum32,s=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,c),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],b=r,g=n,_=i,w=c,E=l,S=0;S<80;S++){var T=a(o(u(r,f(S,n,i,c),e[p[S]+t],d(S)),m[S]),l);r=l,l=c,c=o(i,10),i=n,n=T,T=a(o(u(b,f(79-S,g,_,w),e[y[S]+t],h(S)),v[S]),E),b=E,E=w,w=o(_,10),_=g,g=T}T=s(this.h[1],i,w),this.h[1]=s(this.h[2],c,E),this.h[2]=s(this.h[3],l,b),this.h[3]=s(this.h[4],r,g),this.h[4]=s(this.h[0],n,_),this.h[0]=T},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,r){"use strict";var n=r(24),i=r(20);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,r){"use strict";var n=r(11),i=r(490),o=r(17),a=o.utils.assert,s=r(491),u=r(492);function c(e){if(!(this instanceof c))return new c(e);"string"==typeof e&&(a(o.curves.hasOwnProperty(e),"Unknown curve "+e),e=o.curves[e]),e instanceof o.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=c,c.prototype.keyPair=function(e){return new s(this,e)},c.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},c.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},c.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),a=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(a)>0))return s.iaddn(1),this.keyFromPrivate(s)}},c.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},c.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),l=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new n(1)),d=0;;d++){var h=o.k?o.k(d):new n(l.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var v=h.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),b^=1),new u({r:m,s:v,recoveryParam:b})}}}}}},c.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new u(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),l=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,r.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(l,r.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},c.prototype.recoverPubKey=function(e,t,r,i){a((3&r)===r,"The recovery param is more than two bits"),t=new u(t,i);var o=this.n,s=new n(e),c=t.r,l=t.s,f=1&r,d=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");c=d?this.curve.pointFromX(c.add(this.curve.n),f):this.curve.pointFromX(c,f);var h=t.r.invm(o),p=o.sub(s).mul(h).umod(o),y=l.mul(h).umod(o);return this.g.mulAdd(p,c,y)},c.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new u(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,r){"use strict";var n=r(112),i=r(233),o=r(20);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},function(e,t,r){"use strict";var n=r(11),i=r(17).utils.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,r){"use strict";var n=r(11),i=r(17).utils,o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a];return t.place=a,i}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function c(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new function(){this.place=0};if(48!==e[r.place++])return!1;if(s(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=s(e,r),a=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var u=s(e,r);if(e.length!==u+r.place)return!1;var c=e.slice(r.place,u+r.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new n(a),this.s=new n(c),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];c(n,t.length),(n=n.concat(t)).push(2),c(n,r.length);var o=n.concat(r),a=[48];return c(a,o.length),a=a.concat(o),i.encode(a,e)}},function(e,t,r){"use strict";var n=r(112),i=r(17),o=i.utils,a=o.assert,s=o.parseBytes,u=r(494),c=r(495);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},l.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,r){"use strict";var n=r(17).utils,i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),a(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},function(e,t,r){"use strict";var n=r(11),i=r(17).utils,o=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},function(e,t,r){"use strict";var n=r(62);t.certificate=r(507);var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var o=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=o;var a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});t.PublicKey=a;var s=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});t.PrivateKey=u;var c=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=c;var l=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=l,t.DSAparam=n.define("DSAparam",function(){this.int()});var f=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f;var d=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});t.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(e,t,r){var n=r(62),i=r(2);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=r(498).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},function(module,exports,__webpack_require__){var indexOf=__webpack_require__(499),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var o=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(2);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof o;if(t=n?e:new o(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,r){var n=r(63).Reporter,i=r(63).EncoderBuffer,o=r(63).DecoderBuffer,a=r(20),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=c;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};l.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},c.prototype._wrap=function(){var e=this._baseState;u.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},c.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),s.forEach(function(e){c.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}}),c.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},c.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,a=!0,s=null;if(null!==r.key&&(s=e.enterKey(r.key)),r.optional){var u=null;if(null!==r.explicit?u=r.explicit:null!==r.implicit?u=r.implicit:null!==r.tag&&(u=r.tag),null!==u||r.any){if(a=this._peekTag(e,u,r.any),e.isError(a))return a}else{var c=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(c)}}if(r.obj&&a&&(n=e.enterObject()),a){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===r.use&&null===r.choice){if(r.any)c=e.save();var d=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(d))return d;r.any?i=e.raw(c):e=d}if(t&&t.track&&null!==r.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var h=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(h,t)}}return r.obj&&a&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,r.key,i),i},c.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(o){var a=e.save(),s=r.choice[o];try{var u=s._decode(e,t);if(e.isError(u))return!1;n={type:o,value:u},i=!0}catch(t){return e.restore(a),!1}return!0},this),i?n:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},c.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,r)._encode(e,t),s=!0;else if(i.children)a=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)},u))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(c,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,r){var n=r(238);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},function(e,t,r){var n=t;n.der=r(239),n.pem=r(504)},function(e,t,r){var n=r(2),i=r(7).Buffer,o=r(239);function a(e){o.call(this,e),this.enc="pem"}n(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,c=0;c<r.length;c++){var l=r[c].match(a);if(null!==l&&l[2]===n){if(-1!==s){if("END"!==l[1])break;u=c;break}if("BEGIN"!==l[1])break;s=c}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+n);var f=r.slice(s+1,u).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(f,"base64");return o.prototype.decode.call(this,d,t)}},function(e,t,r){var n=t;n.der=r(240),n.pem=r(506)},function(e,t,r){var n=r(2),i=r(240);function o(e){i.call(this,e),this.enc="pem"}n(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},function(e,t,r){"use strict";var n=r(62),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=n.define("RelativeDistinguishedName",function(){this.setof(o)}),c=n.define("RDNSequence",function(){this.seqof(u)}),l=n.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),f=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),d=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),h=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},function(e){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,r){(function(t){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=r(77),s=r(109);e.exports=function(e,r){var u,c=e.toString(),l=c.match(n);if(l){var f="aes"+l[1],d=new t(l[2],"hex"),h=new t(l[3].replace(/[\r\n]/g,""),"base64"),p=a(r,d.slice(0,8),parseInt(l[1],10)).key,y=[],m=s.createDecipheriv(f,p,d);y.push(m.update(h)),y.push(m.final()),u=t.concat(y)}else{var v=c.match(o);u=new t(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:u}}}).call(this,r(7).Buffer)},function(e,t,r){(function(t){var n=r(11),i=r(17).ec,o=r(79),a=r(241);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,r,u,c,l){var f=o(u);if("ec"===f.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var o=new i(n),s=r.data.subjectPrivateKey.data;return o.verify(t,e,s)}(e,r,f)}if("dsa"===f.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,r){var i=r.data.p,a=r.data.q,u=r.data.g,c=r.data.pub_key,l=o.signature.decode(e,"der"),f=l.s,d=l.r;s(f,a),s(d,a);var h=n.mont(i),p=f.invm(a);return 0===u.toRed(h).redPow(new n(t).mul(p).mod(a)).fromRed().mul(c.toRed(h).redPow(d.mul(p).mod(a)).fromRed()).mod(i).mod(a).cmp(d)}(e,r,f)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");r=t.concat([l,r]);for(var d=f.modulus.byteLength(),h=[1],p=0;r.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var y=-1;++y<r.length;)h.push(r[y]);h=new t(h);var m=n.mont(f.modulus);e=(e=new n(e).toRed(m)).redPow(new n(f.publicExponent)),e=new t(e.fromRed().toArray());var v=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(v=1),y=-1;++y<d;)v|=e[y]^h[y];return 0===v}}).call(this,r(7).Buffer)},function(e,t,r){(function(t){var n=r(17),i=r(11);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function s(e,r,n){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(n&&i.length<n){var o=new t(n-i.length);o.fill(0),i=t.concat([o,i])}return r?i.toString(r):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,r,n){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,r){r=r||"utf8",t.isBuffer(e)||(e=new t(e,r));var n=new i(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,r(7).Buffer)},function(e,t,r){t.publicEncrypt=r(513),t.privateDecrypt=r(514),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},function(e,t,r){var n=r(79),i=r(49),o=r(50),a=r(242),s=r(243),u=r(11),c=r(244),l=r(111),f=r(3).Buffer;e.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var h,p=n(e);if(4===d)h=function(e,t){var r=e.modulus.byteLength(),n=t.length,c=o("sha1").update(f.alloc(0)).digest(),l=c.length,d=2*l;if(n>r-d-2)throw new Error("message too long");var h=f.alloc(r-n-d-2),p=r-l-1,y=i(l),m=s(f.concat([c,h,f.alloc(1,1),t],p),a(y,p)),v=s(y,a(m,l));return new u(f.concat([f.alloc(1),v,m],r))}(p,t);else if(1===d)h=function(e,t,r){var n,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");n=r?f.alloc(a-o-3,255):function(e){var t,r=f.allocUnsafe(e),n=0,o=i(2*e),a=0;for(;n<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(r[n++]=t);return r}(a-o-3);return new u(f.concat([f.from([0,r?1:2]),n,f.alloc(1),t],a))}(p,t,r);else{if(3!==d)throw new Error("unknown padding");if((h=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(h,p):c(h,p)}},function(e,t,r){var n=r(79),i=r(242),o=r(243),a=r(11),s=r(111),u=r(50),c=r(244),l=r(3).Buffer;e.exports=function(e,t,r){var f;f=e.padding?e.padding:r?1:4;var d,h=n(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=r?c(new a(t),h):s(t,h);var y=l.alloc(p-d.length);if(d=l.concat([y,d],p),4===f)return function(e,t){var r=e.modulus.byteLength(),n=u("sha1").update(l.alloc(0)).digest(),a=n.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),c=t.slice(a+1),f=o(s,i(c,a)),d=o(c,i(f,r-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,d.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(e,t,r){var n=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,d,r);if(3===f)return d;throw new Error("unknown padding")}},function(e,t,r){"use strict";(function(e,n){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(3),a=r(49),s=o.Buffer,u=o.kMaxLength,c=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function d(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>u)throw new RangeError("buffer too small")}function h(e,t,r,i){if(n.browser){var o=e.buffer,s=new Uint8Array(o,t,r);return c.getRandomValues(s),i?void n.nextTick(function(){i(null,e)}):e}if(!i)return a(r).copy(e,t),e;a(r,function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)})}c&&c.getRandomValues||!n.browser?(t.randomFill=function(t,r,n,i){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof r)i=r,r=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-r;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(r,t.length),d(n,r,t.length),h(t,r,n,i)},t.randomFillSync=function(t,r,n){void 0===r&&(r=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(r,t.length),void 0===n&&(n=t.length-r);return d(n,r,t.length),h(t,r,n)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,r(9),r(10))},function(e,t,r){t.parse=r(517),t.stringify=r(518)},function(e,t){var r,n,i,o,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:r,text:i}},u=function(e){return e&&e!==n&&s("Expected '"+e+"' instead of '"+n+"'"),n=i.charAt(r),r+=1,n},c=function(){var e,t="";for("-"===n&&(t="-",u("-"));n>="0"&&n<="9";)t+=n,u();if("."===n)for(t+=".";u()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,u(),"-"!==n&&"+"!==n||(t+=n,u());n>="0"&&n<="9";)t+=n,u();if(e=+t,isFinite(e))return e;s("Bad number")},l=function(){var e,t,r,i="";if('"'===n)for(;u();){if('"'===n)return u(),i;if("\\"===n)if(u(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)r=16*r+e;i+=String.fromCharCode(r)}else{if("string"!=typeof a[n])break;i+=a[n]}else i+=n}s("Bad string")},f=function(){for(;n&&n<=" ";)u()};o=function(){switch(f(),n){case"{":return function(){var e,t={};if("{"===n){if(u("{"),f(),"}"===n)return u("}"),t;for(;n;){if(e=l(),f(),u(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=o(),f(),"}"===n)return u("}"),t;u(","),f()}}s("Bad object")}();case"[":return function(){var e=[];if("["===n){if(u("["),f(),"]"===n)return u("]"),e;for(;n;){if(e.push(o()),f(),"]"===n)return u("]"),e;u(","),f()}}s("Bad array")}();case'"':return l();case"-":return c();default:return n>="0"&&n<="9"?c():function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}s("Unexpected '"+n+"'")}()}},e.exports=function(e,t){var a;return i=e,r=0,n=" ",a=o(),f(),n&&s("Syntax error"),"function"==typeof t?function e(r,n){var i,o,a=r[n];if(a&&"object"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=e(a,i))?a[i]=o:delete a[i]);return t.call(r,n,a)}({"":a},""):a}},function(e,t){var r,n,i,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,t,o){var a;if(r="",n="","number"==typeof o)for(a=0;a<o;a+=1)n+=" ";else"string"==typeof o&&(n=o);if(i=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,o){var a,u,c,l,f,d=r,h=o[t];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),"function"==typeof i&&(h=i.call(o,t,h)),typeof h){case"string":return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(r+=n,f=[],"[object Array]"===Object.prototype.toString.apply(h)){for(l=h.length,a=0;a<l;a+=1)f[a]=e(a,h)||"null";return c=0===f.length?"[]":r?"[\n"+r+f.join(",\n"+r)+"\n"+d+"]":"["+f.join(",")+"]",r=d,c}if(i&&"object"==typeof i)for(l=i.length,a=0;a<l;a+=1)"string"==typeof(u=i[a])&&(c=e(u,h))&&f.push(s(u)+(r?": ":":")+c);else for(u in h)Object.prototype.hasOwnProperty.call(h,u)&&(c=e(u,h))&&f.push(s(u)+(r?": ":":")+c);return c=0===f.length?"{}":r?"{\n"+r+f.join(",\n"+r)+"\n"+d+"}":"{"+f.join(",")+"}",r=d,c}}("",{"":e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(214);class o extends n.ActorQueryOperationTypedMediated{constructor(e,t){if(super(e,t),!o.doesHashAlgorithmExist(this.hashAlgorithm))throw new Error("The given hash algorithm is not present in this version of Node: "+this.hashAlgorithm);if(!o.doesDigestAlgorithmExist(this.digestAlgorithm))throw new Error("The given digest algorithm is not present in this version of Node: "+this.digestAlgorithm)}static doesHashAlgorithmExist(e){return i.getHashes().indexOf(e)>=0}static doesDigestAlgorithmExist(e){return["latin1","hex","base64"].indexOf(e)>=0}static hash(e,t,n){const o=i.createHash(e);return o.update(r(245)(n)),o.digest(t)}async testOperation(e,t){return!0}}t.AbstractFilterHash=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(80),o=r(4),a=r(1);t.ActorQueryOperationExtend=class extends o.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend")}async testOperation(e,t){return new i.AsyncEvaluator(e.expression),!0}async runOperation(e,t){const{expression:r,input:s,variable:u}=e,c=o.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:s,context:t})),l=n.termToString(u),f=new i.AsyncEvaluator(r),d=(a.Actor.getContextLogger(t),c.variables.concat([l])),h=c.bindingsStream.transform({transform:async(e,r)=>{try{const r=await f.evaluate(e),n=e.set(l,r);h._push(n)}catch(r){i.isExpressionError(r)?(h._push(e),this.logWarn(t,`Expression error for extend operation with bindings '${JSON.stringify(e)}'`)):h.emit("error",r)}r()}}),p=c.metadata;return{type:"bindings",bindingsStream:h,metadata:p,variables:d}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(25),o=r(26),a=r(27),s=r(113);function u(e){return e}t.AsyncEvaluator=class{constructor(e,t={}){this.algExpr=e,this.hooks=t,this.evaluators={[i.ExpressionType.Term]:this.evalTerm,[i.ExpressionType.Variable]:this.evalVariable,[i.ExpressionType.Operator]:this.evalOperator,[i.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[i.ExpressionType.Named]:this.evalNamed,[i.ExpressionType.Existence]:this.evalExistence,[i.ExpressionType.Aggregate]:this.evalAggregate},this.expr=s.transformAlgebra(e,t)}async evaluate(e){return u(await this.evalRecursive(this.expr,e)).toRDF()}async evaluateAsEBV(e){return u(await this.evalRecursive(this.expr,e)).coerceEBV()}async evaluateAsInternal(e){return this.evalRecursive(this.expr,e)}async evalRecursive(e,t){const r=this.evaluators[e.expressionType];if(!r)throw new a.InvalidExpressionType(e);return r.bind(this)(e,t)}async evalTerm(e,t){return e}async evalVariable(e,t){const r=t.get(e.name);if(!r)throw new a.UnboundVariableError(e.name,t);return s.transformTerm({term:r,type:"expression",expressionType:"term"})}async evalOperator(e,t){const r=e.args.map(e=>this.evalRecursive(e,t)),n=await Promise.all(r);return e.apply(n)}async evalSpecialOperator(e,t){const r=this.evalRecursive.bind(this),n={args:e.args,mapping:t,evaluate:r};return e.applyAsync(n)}async evalNamed(e,t){const r=e.args.map(e=>this.evalRecursive(e,t)),n=await Promise.all(r);return e.apply(n)}async evalExistence(e,t){const r=await e.exists_with(t);return s.transformTerm({term:n.literal(r.toString(),o.make(o.TypeURL.XSD_BOOLEAN)),expressionType:"term",type:"expression"})}async evalAggregate(e,t){const r=await e.aggregate();return s.transformTerm({type:"expression",expressionType:"term",term:r})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.Variable=class{constructor(e){this.expressionType=n.ExpressionType.Variable,this.name=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(25),o=r(26),a=r(27);class s{constructor(){this.expressionType=i.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],o.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}}t.Term=s;t.NamedNode=class extends s{constructor(e){super(),this.value=e,this.termType="namedNode"}toRDF(){return n.namedNode(this.value)}str(){return this.value}};class u extends s{constructor(e){super(),this.value=e,this.termType="blankNode",this.value=e}static nextID(){return u._nextID+=1,u.nextID.toString()}toRDF(){return n.blankNode(this.value)}}u._nextID=0,t.BlankNode=u;class c extends s{constructor(e,t,r,n){super(),this.typedValue=e,this.typeURL=t,this.strValue=r,this.language=n,this.termType="literal",this.type=o.type(t.value)}toRDF(){return n.literal(this.strValue||this.typedValue.toString(),this.language||this.typeURL)}str(){return this.strValue||this.typedValue.toString()}}t.Literal=c;t.NumericLiteral=class extends c{coerceEBV(){return!!this.typedValue}toRDF(){const e=super.toRDF();return isFinite(this.typedValue)||(e.value=e.value.replace("Infinity","INF")),e}};t.BooleanLiteral=class extends c{constructor(e,t){super(e,o.make(o.TypeURL.XSD_BOOLEAN),t),this.typedValue=e,this.strValue=t}coerceEBV(){return!!this.typedValue}};t.DateTimeLiteral=class extends c{constructor(e,t){super(e,o.make(o.TypeURL.XSD_DATE_TIME),t),this.typedValue=e,this.strValue=t}};t.LangStringLiteral=class extends c{constructor(e,t){super(e,o.make(o.TypeURL.RDF_LANG_STRING),e,t),this.typedValue=e,this.language=t}coerceEBV(){return 0!==this.strValue.length}};t.StringLiteral=class extends c{constructor(e){super(e,o.make(o.TypeURL.XSD_STRING),e),this.typedValue=e}coerceEBV(){return 0!==this.strValue.length}};t.NonLexicalLiteral=class extends c{constructor(e,t,r,n){super(e,t,r,n),this.typedValue=void 0,this.type="nonlexical",this.shouldBeCategory=o.type(t.value)}coerceEBV(){if(o.NumericTypeCategories.contains(this.shouldBeCategory)||"boolean"===this.shouldBeCategory)return!1;throw new a.EBVCoercionError(this)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.Operator=class{constructor(e,t){this.args=e,this.apply=t,this.expressionType=n.ExpressionType.Operator}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.SpecialOperator=class{constructor(e,t,r){this.args=e,this.applyAsync=t,this.applySync=r,this.expressionType=n.ExpressionType.SpecialOperator}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.Named=class{constructor(e,t,r){this.name=e,this.args=t,this.apply=r,this.expressionType=n.ExpressionType.Named}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.Aggregate=class{constructor(e,t,r){this.name=e,this.aggregator=t,this.expression=r,this.expressionType=n.ExpressionType.Aggregate}aggregate(){return this.aggregator(this.expression)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.Existence=class{constructor(e,t){this.exists=e,this.expression=t,this.expressionType=n.ExpressionType.Existence}exists_with(e){return this.exists(this.expression,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28),i=r(27),o=r(26),a=r(114),s=r(115),u={arity:1,overloads:s.declare().onTerm1(e=>s.string(e.str())).collect()},c={arity:1,overloads:s.declare().onNumeric1(e=>s.number(e.typedValue)).onBoolean1Typed(e=>s.number(e?1:0)).onUnary("string",e=>{const t=a.parseXSDFloat(e.str());if(!t)throw new i.CastError(e,o.TypeURL.XSD_FLOAT);return s.number(t)}).copy({from:["string"],to:["nonlexical"]}).collect()},l={arity:1,overloads:s.declare().onNumeric1(e=>s.number(e.typedValue,o.TypeURL.XSD_DOUBLE)).onBoolean1Typed(e=>s.number(e?1:0,o.TypeURL.XSD_DOUBLE)).onUnary("string",e=>{const t=a.parseXSDFloat(e.str());if(!t)throw new i.CastError(e,o.TypeURL.XSD_DOUBLE);return s.number(t,o.TypeURL.XSD_DOUBLE)}).copy({from:["string"],to:["nonlexical"]}).collect()},f={arity:1,overloads:s.declare().onNumeric1(e=>{const t=a.parseXSDDecimal(e.str());if(!t)throw new i.CastError(e,o.TypeURL.XSD_DECIMAL);return s.number(t,o.TypeURL.XSD_DECIMAL)}).copy({from:["integer"],to:["string"]}).copy({from:["integer"],to:["nonlexical"]}).onBoolean1Typed(e=>s.number(e?1:0,o.TypeURL.XSD_DECIMAL)).collect()},d={arity:1,overloads:s.declare().onBoolean1Typed(e=>s.number(e?1:0,o.TypeURL.XSD_INTEGER)).onNumeric1(e=>{const t=a.parseXSDInteger(e.str());if(!t)throw new i.CastError(e,o.TypeURL.XSD_INTEGER);return s.number(t,o.TypeURL.XSD_INTEGER)}).copy({from:["integer"],to:["string"]}).copy({from:["integer"],to:["nonlexical"]}).collect()},h={arity:1,overloads:s.declare().onUnary("date",e=>e).onUnary("string",e=>{const t=new Date(e.str());if(isNaN(t.getTime()))throw new i.CastError(e,o.TypeURL.XSD_DATE_TIME);return s.dateTime(t,e.str())}).copy({from:["string"],to:["nonlexical"]}).collect()},p={arity:1,overloads:s.declare().onNumeric1(e=>s.bool(e.coerceEBV())).onUnary("boolean",e=>e).onUnary("string",e=>{const t=e.str();if("true"!==t&&"false"!==t)throw new i.CastError(e,o.TypeURL.XSD_BOOLEAN);return s.bool("true"===t)}).copy({from:["string"],to:["nonlexical"]}).collect()},y={[o.TypeURL.XSD_STRING]:u,[o.TypeURL.XSD_FLOAT]:c,[o.TypeURL.XSD_DOUBLE]:l,[o.TypeURL.XSD_DECIMAL]:f,[o.TypeURL.XSD_INTEGER]:d,[o.TypeURL.XSD_DATE_TIME]:h,[o.TypeURL.XSD_BOOLEAN]:p};t.namedDefinitions=n.Map(y)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(50),o=r(531),a=r(28),s=r(81),u=r(26),c=r(27),l=r(114),f=r(533),d=r(26),h=r(113),p=r(115),y={arity:1,overloads:p.declare().onTerm1(e=>p.bool(!e.coerceEBV())).collect()},m={arity:1,overloads:p.declare().onNumeric1(e=>p.number(e.typedValue,e.typeURL.value)).collect()},v={arity:1,overloads:p.declare().onNumeric1(e=>p.number(-e.typedValue,e.typeURL.value)).collect()},b={arity:2,overloads:p.declare().arithmetic((e,t)=>e*t).collect()},g={arity:2,overloads:p.declare().arithmetic((e,t)=>e/t).onBinaryTyped(["integer","integer"],(e,t)=>{if(0===t)throw new c.ExpressionError("Integer division by 0");return p.number(e/t,d.TypeURL.XSD_DECIMAL)}).collect()},_={arity:2,overloads:p.declare().arithmetic((e,t)=>e+t).collect()},w={arity:2,overloads:p.declare().arithmetic((e,t)=>e-t).collect()},E={arity:2,overloads:p.declare().numberTest((e,t)=>e===t).stringTest((e,t)=>0===e.localeCompare(t)).booleanTest((e,t)=>e===t).dateTimeTest((e,t)=>e.getTime()===t.getTime()).set(["term","term"],([e,t])=>p.bool(S(e,t))).collect()};function S(e,t){const r=e.toRDF(),n=t.toRDF(),i=r.equals(n);if("Literal"===r.termType&&"Literal"===n.termType)throw new c.RDFEqualTypeError([e,t]);return i}const T={arity:2,overloads:p.declare().numberTest((e,t)=>e!==t).stringTest((e,t)=>0!==e.localeCompare(t)).booleanTest((e,t)=>e!==t).dateTimeTest((e,t)=>e.getTime()!==t.getTime()).set(["term","term"],([e,t])=>p.bool(!S(e,t))).collect()},O={arity:2,overloads:p.declare().numberTest((e,t)=>e<t).stringTest((e,t)=>-1===e.localeCompare(t)).booleanTest((e,t)=>e<t).dateTimeTest((e,t)=>e.getTime()<t.getTime()).collect()},x={arity:2,overloads:p.declare().numberTest((e,t)=>e>t).stringTest((e,t)=>1===e.localeCompare(t)).booleanTest((e,t)=>e>t).dateTimeTest((e,t)=>e.getTime()>t.getTime()).collect()},A={arity:2,overloads:p.declare().numberTest((e,t)=>e<=t).stringTest((e,t)=>1!==e.localeCompare(t)).booleanTest((e,t)=>e<=t).dateTimeTest((e,t)=>e.getTime()<=t.getTime()).collect()},I={arity:2,overloads:p.declare().numberTest((e,t)=>e>=t).stringTest((e,t)=>-1!==e.localeCompare(t)).booleanTest((e,t)=>e>=t).dateTimeTest((e,t)=>e.getTime()>=t.getTime()).collect()},N={arity:1,overloads:p.declare().onTerm1(e=>p.bool("namedNode"===e.termType)).collect()},j={arity:1,overloads:p.declare().onTerm1(e=>p.bool("blankNode"===e.termType)).collect()},k={arity:1,overloads:p.declare().onTerm1(e=>p.bool("literal"===e.termType)).collect()},R={arity:1,overloads:p.declare().onNumeric1(e=>p.bool(!0)).set(["nonlexical"],e=>p.bool(!1)).collect()},P={arity:1,overloads:p.declare().onTerm1(e=>p.string(e.str())).collect()},D={arity:1,overloads:p.declare().onLiteral1(e=>p.string(e.language||"")).collect()},M={arity:1,overloads:p.declare().onLiteral1(e=>new s.NamedNode(e.typeURL.value)).collect()},C={arity:1,overloads:p.declare().unimplemented("IRI").collect()},L=(e,t)=>p.bool(f.matches(e,t)),F=(e,t,r)=>p.bool(f.matches(e,t,r));function B(e){return l.parseXSDDateTime(e.strValue)}const q={"!":y,UPLUS:m,UMINUS:v,"*":b,"/":g,"+":_,"-":w,"=":E,"!=":T,"<":O,">":x,"<=":A,">=":I,isiri:N,isblank:j,isliteral:k,isnumeric:R,str:P,lang:D,datatype:M,iri:C,uri:C,BNODE:{arity:[0,1],overloads:p.declare().onString1Typed(e=>new s.BlankNode(e)).collect()},strdt:{arity:2,overloads:p.declare().onBinary(["string","namedNode"],(e,t)=>{const r=n.literal(e.typedValue,n.namedNode(t.value));return h.transformLiteral(r)}).collect()},strlang:{arity:2,overloads:p.declare().onBinaryTyped(["string","string"],(e,t)=>new s.LangStringLiteral(e,t)).collect()},uuid:{arity:0,overloads:p.declare().set([],()=>new s.NamedNode(`urn:uuid:${o.v4()}`)).collect()},struuid:{arity:0,overloads:p.declare().set([],()=>p.string(o.v4())).collect()},strlen:{arity:1,overloads:p.declare().onLiteral1(e=>p.number(e.typedValue.length,d.TypeURL.XSD_INTEGER)).collect()},substr:{arity:[2,3],overloads:p.declare().unimplemented("SUBSTR").collect()},ucase:{arity:1,overloads:p.declare().unimplemented("UCASE").collect()},lcase:{arity:1,overloads:p.declare().unimplemented("LCASE").collect()},strstarts:{arity:2,overloads:p.declare().unimplemented("STRSTARTS").collect()},strends:{arity:2,overloads:p.declare().unimplemented("STRENDS").collect()},contains:{arity:2,overloads:p.declare().unimplemented("CONTAINS").collect()},strbefore:{arity:2,overloads:p.declare().unimplemented("STRBEFORE").collect()},strafter:{arity:2,overloads:p.declare().unimplemented("STRAFTER").collect()},encode_for_uri:{arity:1,overloads:p.declare().unimplemented("ENCODE_FOR_URI").collect()},concat:{arity:1/0,overloads:p.declare().unimplemented("CONCAT").collect()},langmatches:{arity:2,overloads:p.declare().onBinaryTyped(["string","string"],(e,t)=>p.bool(f.langMatches(e,t))).collect()},regex:{arity:[2,3],overloads:p.declare().onBinaryTyped(["string","string"],L).onBinaryTyped(["langString","langString"],L).onTernaryTyped(["string","string","string"],F).onTernaryTyped(["langString","string","string"],F).collect()},replace:{arity:[3,4],overloads:p.declare().unimplemented("REPLACE").collect()},abs:{arity:1,overloads:p.declare().onNumeric1(e=>p.number(Math.abs(e.typedValue),e.typeURL.value)).collect()},round:{arity:1,overloads:p.declare().onNumeric1(e=>p.number(Math.round(e.typedValue),e.typeURL.value)).collect()},ceil:{arity:1,overloads:p.declare().onNumeric1(e=>p.number(Math.ceil(e.typedValue),e.typeURL.value)).collect()},floor:{arity:1,overloads:p.declare().onNumeric1(e=>p.number(Math.floor(e.typedValue),e.typeURL.value)).collect()},rand:{arity:0,overloads:p.declare().set([],()=>p.number(Math.random(),d.TypeURL.XSD_DOUBLE)).collect()},now:{arity:0,overloads:p.declare().unimplemented("now").collect()},year:{arity:1,overloads:p.declare().onDateTime1(e=>p.number(Number(B(e).year),d.TypeURL.XSD_INTEGER)).collect()},month:{arity:1,overloads:p.declare().onDateTime1(e=>p.number(Number(B(e).month),d.TypeURL.XSD_INTEGER)).collect()},day:{arity:1,overloads:p.declare().onDateTime1(e=>p.number(Number(B(e).day),d.TypeURL.XSD_INTEGER)).collect()},hours:{arity:1,overloads:p.declare().onDateTime1(e=>p.number(Number(B(e).hours),d.TypeURL.XSD_INTEGER)).collect()},minutes:{arity:1,overloads:p.declare().onDateTime1(e=>p.number(Number(B(e).minutes),d.TypeURL.XSD_INTEGER)).collect()},seconds:{arity:1,overloads:p.declare().onDateTime1(e=>p.number(Number(B(e).seconds),d.TypeURL.XSD_DECIMAL)).collect()},timezone:{arity:1,overloads:p.declare().onDateTime1(e=>{const t=f.formatDayTimeDuration(B(e).timezone);if(!t)throw new c.InvalidTimezoneCall(e.strValue);return new s.Literal(t,u.make(d.TypeURL.XSD_DAYTIME_DURATION),t)}).collect()},tz:{arity:1,overloads:p.declare().onDateTime1(e=>p.string(B(e).timezone)).collect()},md5:{arity:1,overloads:p.declare().onString1Typed(e=>p.string(i("md5").update(e).digest("hex"))).collect()},sha1:{arity:1,overloads:p.declare().onString1Typed(e=>p.string(i("sha1").update(e).digest("hex"))).collect()},sha256:{arity:1,overloads:p.declare().onString1Typed(e=>p.string(i("sha256").update(e).digest("hex"))).collect()},sha384:{arity:1,overloads:p.declare().onString1Typed(e=>p.string(i("sha384").update(e).digest("hex"))).collect()},sha512:{arity:1,overloads:p.declare().onString1Typed(e=>p.string(i("sha512").update(e).digest("hex"))).collect()}};t.definitions=a.Map(q)},function(e,t,r){var n=r(532),i=r(137),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t,r){var n,i,o=r(138),a=r(139),s=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,l=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:u+1,m=p-s+(y-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||p>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=y,i=d;var v=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;l[c++]=v>>>24&255,l[c++]=v>>>16&255,l[c++]=v>>>8&255,l[c++]=255&v;var b=p/4294967296*1e4&268435455;l[c++]=b>>>8&255,l[c++]=255&b,l[c++]=b>>>24&15|16,l[c++]=b>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var g=0;g<6;++g)l[c+g]=f[g];return t||a(l)}},function(e,t,r){"use strict";function n(e){return"*"===e}function i(e,t){return new RegExp(`/${e}/`,"i").test(`/${t}/`)}Object.defineProperty(t,"__esModule",{value:!0}),t.matches=function(e,t,r){return new RegExp(t,r).test(e)},t.langMatches=function(e,t){const r=e.split("-"),o=t.split("-");if(!i(o[0],r[0])&&!n(r[0]))return!1;let a=1,s=1;for(;s<o.length;)if(n(o[s]))s++;else{if(a===r.length)return!1;if(i(o[s],r[a]))a++,s++;else{if(1===r[a].length)return!1;a++}}return!0},t.formatDayTimeDuration=function(e){if(e){if("Z"===e[0])return"PT0S";{const[t,r,n,i,o,a]=e,s="0"!==r?r:"",u=s||"0"!==n?n:"",c="0"!==o?o:"",l=c||"0"!==a?a:"";return`${"-"===t?"-":""}PT${`${s+u?s+u+"H":""}${c+l?c+l+"M":""}`}`}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28),i=r(81),o=r(26),a=r(27),s=r(115),u=r(247);function c({args:e,mapping:t}){const r=e[0];if(r.expressionType!==i.ExpressionType.Variable)throw new a.InvalidArgumentTypes(e,o.SpecialOperator.BOUND);const n=t.has(r.name)&&!!t.get(r.name);return s.bool(n)}const l={bound:{arity:1,applyAsync:async({args:e,mapping:t})=>c({args:e,mapping:t}),applySync:({args:e,mapping:t})=>c({args:e,mapping:t})},if:{arity:3,applyAsync:async({args:e,mapping:t,evaluate:r})=>r((await r(e[0],t)).coerceEBV()?e[1]:e[2],t),applySync:({args:e,mapping:t,evaluate:r})=>r(r(e[0],t).coerceEBV()?e[1]:e[2],t)},coalesce:{arity:1/0,async applyAsync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return await r(i,t)}catch(e){n.push(e)}throw new a.CoalesceError(n)},applySync({args:e,mapping:t,evaluate:r}){const n=[];for(const i of e)try{return r(i,t)}catch(e){n.push(e)}throw new a.CoalesceError(n)}},"&&":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(!(await r(n,t)).coerceEBV())return s.bool(!1);const e=(await r(i,t)).coerceEBV();return s.bool(e)}catch(e){if((await r(i,t)).coerceEBV())throw e;return s.bool(!1)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(!r(n,t).coerceEBV())return s.bool(!1);const e=r(i,t).coerceEBV();return s.bool(e)}catch(e){if(r(i,t).coerceEBV())throw e;return s.bool(!1)}}},"||":{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if((await r(n,t)).coerceEBV())return s.bool(!0);const e=(await r(i,t)).coerceEBV();return s.bool(e)}catch(e){if(!(await r(i,t)).coerceEBV())throw e;return s.bool(!0)}},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e;try{if(r(n,t).coerceEBV())return s.bool(!0);const e=r(i,t).coerceEBV();return s.bool(e)}catch(e){if(!r(i,t).coerceEBV())throw e;return s.bool(!0)}}},sameterm:{arity:2,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map(e=>r(e,t)),o=await n,a=await i;return s.bool(o.toRDF().equals(a.toRDF()))},applySync({args:e,mapping:t,evaluate:r}){const[n,i]=e.map(e=>r(e,t));return s.bool(n.toRDF().equals(i.toRDF()))}},in:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync({args:e,mapping:t,evaluate:r}){const[n,...i]=e;return async function e(t,{args:r,mapping:n,evaluate:i},c){if(0===r.length){const e=c.every(e=>!e);return e?s.bool(!1):Promise.reject(new a.InError(c))}try{const a=await i(r.shift(),n),l=u.regularFunctions.get(o.RegularOperator.EQUAL);if(l.apply([t,a]))return s.bool(!0);e(t,{args:r,mapping:n,evaluate:i},[...c,!1])}catch(o){return e(t,{args:r,mapping:n,evaluate:i},[...c,o])}}(await r(n,t),{args:i,mapping:t,evaluate:r},[])},applySync({args:e,mapping:t,evaluate:r}){const[n,...i]=e;return function e(t,{args:r,mapping:n,evaluate:i},c){if(0===r.length){const e=c.every(e=>!e);if(!e)throw new a.InError(c);s.bool(!1)}try{const a=i(r.shift(),n),l=u.regularFunctions.get(o.RegularOperator.EQUAL);if(l.apply([t,a]))return s.bool(!0);e(t,{args:r,mapping:n,evaluate:i},[...c,!1])}catch(o){return e(t,{args:r,mapping:n,evaluate:i},[...c,o])}}(r(n,t),{args:i,mapping:t,evaluate:r},[])}},notin:{arity:1/0,checkArity:e=>e.length>=1,async applyAsync(e){const t=u.specialFunctions.get(o.SpecialOperator.IN),r=await t.applyAsync(e);return s.bool(!r.typedValue)},applySync(e){const t=u.specialFunctions.get(o.SpecialOperator.IN).applySync(e);return s.bool(!t.typedValue)}}};t.specialDefinitions=n.Map(l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25),i=r(27),o=r(113);function a(e){return e}t.SimpleEvaluator=class{constructor(e){this.algExpr=e,this.evaluators={[n.ExpressionType.Term]:this.evalTerm,[n.ExpressionType.Variable]:this.evalVariable,[n.ExpressionType.Operator]:this.evalOperator,[n.ExpressionType.SpecialOperator]:this.evalSpecialOperator,[n.ExpressionType.Named]:this.evalNamed,[n.ExpressionType.Existence]:this.evalExistence,[n.ExpressionType.Aggregate]:this.evalAggregate},this.expr=o.transformAlgebra(e)}evaluate(e){return a(this.evalRecursive(this.expr,e)).toRDF()}evaluateAsEBV(e){return a(this.evalRecursive(this.expr,e)).coerceEBV()}evaluateAsInternal(e){return this.evalRecursive(this.expr,e)}evalRecursive(e,t){const r=this.evaluators[e.expressionType];if(!r)throw new i.InvalidExpressionType(e);return r.bind(this)(e,t)}evalTerm(e,t){return e}evalVariable(e,t){const r=t.get(e.name);if(!r)throw new i.UnboundVariableError(e.name,t);return o.transformTerm({term:r,type:"expression",expressionType:"term"})}evalOperator(e,t){const r=e.args.map(e=>this.evalRecursive(e,t));return e.apply(r)}evalSpecialOperator(e,t){const r=this.evalRecursive.bind(this),n={args:e.args,mapping:t,evaluate:r};return e.applySync(n)}evalNamed(e,t){const r=e.args.map(e=>this.evalRecursive(e,t));return e.apply(r)}evalExistence(e,t){throw new s("EXISTS")}evalAggregate(e,t){throw new s(`aggregate ${e.name}`)}};class s extends Error{constructor(e){super(`Operation '${e}' is unsupported in SimpleEvaluator`)}}t.UnsupportedOperation=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(104),i=r(537);class o extends n.AbstractBindingHash{constructor(e){super(e,"reduced")}newHashFilter(e,t){const r=new i({max:this.cacheSize});return n=>{const i=o.hash(e,t,n);return!r.has(i)&&r.set(i,!0)}}}t.ActorQueryOperationReducedHash=o},function(e,t,r){"use strict";const n=r(538),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=()=>1;const y=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(m(e,t)){if(b(e,n),!e[s])return}else r&&(e[h]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},v=e=>{if(e[o]>e[i])for(let t=e[f].tail;e[o]>e[i]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[o]-=r.length,e[d].delete(r.key),e[f].removeNode(t)}};class g{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const _=(e,t,r,n)=>{let i=r.value;m(e,i)&&(b(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[a]="function"!=typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,v(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),v(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;_(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;_(this,e,r,t),r=n}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[c]&&this[f]&&this[f].length&&this[f].forEach(e=>this[c](e.key,e.value)),this[d]=new Map,this[f]=new n,this[o]=0}dump(){return this[f].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](t,e);if(this[d].has(e)){if(s>this[i])return b(this,this[d].get(e)),!1;const a=this[d].get(e).value;return this[c]&&(this[l]||this[c](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),v(this),!0}const h=new g(e,t,s,n,r);return h.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=h.length,this[f].unshift(h),this[d].set(e,this[f].head),v(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach((e,t)=>y(this,t,!1))}}},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(539)(n)}catch(e){}},function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(80);t.ActorQueryOperationFilterSparqlee=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter")}async testOperation(e,t){return new i.AsyncEvaluator(e.expression),!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),o=n.ActorQueryOperation.getSafeBindings(r);n.ActorQueryOperation.validateQueryOutput(o,"bindings");const{variables:a,metadata:s}=o,u=new i.AsyncEvaluator(e.expression),c=o.bindingsStream.transform({transform:async(e,t)=>{try{await u.evaluateAsEBV(e)&&c._push(e)}catch(e){i.isExpressionError(e)||c.emit("error",e)}t()}});return{type:"bindings",bindingsStream:c,metadata:s,variables:a}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(14);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,t){const r={};for(const n of Object.keys(e))Array.isArray(e[n])?r[n]="variables"===n?e[n]:e[n].map(t):o.ALGEBRA_TYPES.indexOf(e[n].type)>=0?r[n]=t(e[n]):r[n]=e[n];return r}static applyOperationDefaultGraph(e,t){if("bgp"===e.type&&e.patterns.length||"path"===e.type){if("bgp"===e.type)return o.joinOperations(e.patterns.map(e=>{if("DefaultGraph"!==e.graph.termType)return o.FACTORY.createBgp([e]);const r=t.map(t=>o.FACTORY.createBgp([o.FACTORY.createPattern(e.subject,e.predicate,e.object,t)]));return o.unionOperations(r)}));{if("DefaultGraph"!==e.graph.termType)return e;const r=t.map(t=>o.FACTORY.createPath(e.subject,e.predicate,e.object,t));return o.joinOperations(r)}}return o.copyOperation(e,e=>this.applyOperationDefaultGraph(e,t))}static applyOperationNamedGraph(e,t,n){if("bgp"===e.type&&e.patterns.length||"path"===e.type){let i;if("DefaultGraph"===(i="bgp"===e.type?e.patterns[0].graph:e.graph).termType)return{type:"bgp",patterns:[]};if("Variable"===i.termType){if(1===t.length){const r=t[0],n={};n["?"+i.value]=r;const a=o.FACTORY.createValues([i],[n]);let s;return s="bgp"===e.type?o.FACTORY.createBgp(e.patterns.map(e=>o.FACTORY.createPattern(e.subject,e.predicate,e.object,r))):o.FACTORY.createPath(e.subject,e.predicate,e.object,r),o.FACTORY.createJoin(a,s)}return o.unionOperations(t.map(t=>o.applyOperationNamedGraph(e,[t],n)))}return r(542)(t.concat(n),e=>e.equals(i))?e:{type:"bgp",patterns:[]}}return o.copyOperation(e,e=>this.applyOperationNamedGraph(e,t,n))}static joinOperations(e){if(1===e.length)return e[0];if(2===e.length)return o.FACTORY.createJoin(e[0],e[1]);if(e.length>2)return o.FACTORY.createJoin(e.shift(),this.joinOperations(e));throw new Error("A join can only be applied on at least one operation")}static unionOperations(e){if(1===e.length)return e[0];if(2===e.length)return o.FACTORY.createUnion(e[0],e[1]);if(e.length>2)return o.FACTORY.createUnion(e.shift(),this.unionOperations(e));throw new Error("A union can only be applied on at least one operation")}static createOperation(e){let t=e.input;return e.default.length&&(t=o.applyOperationDefaultGraph(t,e.default)),e.named.length&&(t=o.applyOperationNamedGraph(t,e.named,e.default)),t}async testOperation(e,t){return!0}async runOperation(e,t){const r=o.createOperation(e);return this.mediatorQueryOperation.mediate({operation:r,context:t})}}o.FACTORY=new i.Factory,o.ALGEBRA_TYPES=Object.keys(i.Algebra.types).map(e=>i.Algebra.types[e]),t.ActorQueryOperationFromQuad=o},function(e,t,r){(function(e,r){var n=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,u=1/0,c=9007199254740991,l=1.7976931348623157e308,f=NaN,d="[object Arguments]",h="[object Array]",p="[object Boolean]",y="[object Date]",m="[object Error]",v="[object Function]",b="[object GeneratorFunction]",g="[object Map]",_="[object Number]",w="[object Object]",E="[object RegExp]",S="[object Set]",T="[object String]",O="[object Symbol]",x="[object ArrayBuffer]",A="[object DataView]",I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,j=/^\./,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/^\s+|\s+$/g,P=/\\(\\)?/g,D=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,C=/^\[object .+?Constructor\]$/,L=/^0o[0-7]+$/i,F=/^(?:0|[1-9]\d*)$/,B={};B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B[d]=B[h]=B[x]=B[p]=B[A]=B[y]=B[m]=B[v]=B[g]=B[_]=B[w]=B[E]=B[S]=B[T]=B["[object WeakMap]"]=!1;var q=parseInt,U="object"==typeof e&&e&&e.Object===Object&&e,V="object"==typeof self&&self&&self.Object===Object&&self,z=U||V||Function("return this")(),Q=t&&!t.nodeType&&t,G=Q&&"object"==typeof r&&r&&!r.nodeType&&r,H=G&&G.exports===Q&&U.process,$=function(){try{return H&&H.binding("util")}catch(e){}}(),J=$&&$.isTypedArray;function X(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function Y(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function W(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var Z=Array.prototype,ee=Function.prototype,te=Object.prototype,re=z["__core-js_shared__"],ne=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ie=ee.toString,oe=te.hasOwnProperty,ae=te.toString,se=RegExp("^"+ie.call(oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=z.Symbol,ce=z.Uint8Array,le=te.propertyIsEnumerable,fe=Z.splice,de=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),he=Math.max,pe=Qe(z,"DataView"),ye=Qe(z,"Map"),me=Qe(z,"Promise"),ve=Qe(z,"Set"),be=Qe(z,"WeakMap"),ge=Qe(Object,"create"),_e=We(pe),we=We(ye),Ee=We(me),Se=We(ve),Te=We(be),Oe=ue?ue.prototype:void 0,xe=Oe?Oe.valueOf:void 0,Ae=Oe?Oe.toString:void 0;function Ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ne(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function je(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=e?e.length:0;for(this.__data__=new je;++t<r;)this.add(e[t])}function Re(e){this.__data__=new Ne(e)}function Pe(e,t){var r=nt(e)||rt(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!oe.call(e,o)||i&&("length"==o||He(o,n))||r.push(o);return r}function De(e,t){for(var r=e.length;r--;)if(tt(e[r][0],t))return r;return-1}function Me(e,t){for(var r=0,n=(t=$e(t,e)?[t]:Ue(t)).length;null!=e&&r<n;)e=e[Ke(t[r++])];return r&&r==n?e:void 0}function Ce(e,t){return null!=e&&t in Object(e)}function Le(e,t,r,n,i){return e===t||(null==e||null==t||!st(e)&&!ut(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var u=nt(e),c=nt(t),l=h,f=h;u||(l=(l=Ge(e))==d?w:l);c||(f=(f=Ge(t))==d?w:f);var v=l==w&&!Y(e),b=f==w&&!Y(t),I=l==f;if(I&&!v)return o||(o=new Re),u||lt(e)?Ve(e,t,r,n,i,o):function(e,t,r,n,i,o,u){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!n(new ce(e),new ce(t)));case p:case y:case _:return tt(+e,+t);case m:return e.name==t.name&&e.message==t.message;case E:case T:return e==t+"";case g:var c=K;case S:var l=o&s;if(c||(c=W),e.size!=t.size&&!l)return!1;var f=u.get(e);if(f)return f==t;o|=a,u.set(e,t);var d=Ve(c(e),c(t),n,i,o,u);return u.delete(e),d;case O:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,l,r,n,i,o);if(!(i&s)){var N=v&&oe.call(e,"__wrapped__"),j=b&&oe.call(t,"__wrapped__");if(N||j){var k=N?e.value():e,R=j?t.value():t;return o||(o=new Re),r(k,R,n,i,o)}}if(!I)return!1;return o||(o=new Re),function(e,t,r,n,i,o){var a=i&s,u=ft(e),c=u.length,l=ft(t).length;if(c!=l&&!a)return!1;for(var f=c;f--;){var d=u[f];if(!(a?d in t:oe.call(t,d)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var p=!0;o.set(e,t),o.set(t,e);for(var y=a;++f<c;){d=u[f];var m=e[d],v=t[d];if(n)var b=a?n(v,m,d,t,e,o):n(m,v,d,e,t,o);if(!(void 0===b?m===v||r(m,v,n,i,o):b)){p=!1;break}y||(y="constructor"==d)}if(p&&!y){var g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,n,i,o)}(e,t,Le,r,n,i))}function Fe(e){return!(!st(e)||function(e){return!!ne&&ne in e}(e))&&(ot(e)||Y(e)?se:C).test(We(e))}function Be(e){return"function"==typeof e?e:null==e?dt:"object"==typeof e?nt(e)?function(e,t){if($e(e)&&Je(t))return Xe(Ke(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Me(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){var n,i=-1,o=(t=$e(t,e)?[t]:Ue(t)).length;for(;++i<o;){var a=Ke(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;return!!(o=e?e.length:0)&&at(o)&&He(a,o)&&(nt(e)||rt(e))}(e,t,Ce)}(r,e):Le(t,n,void 0,a|s)}}(e[0],e[1]):function(e){var t=function(e){var t=ft(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,Je(i)]}return t}(e);if(1==t.length&&t[0][2])return Xe(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,u=!n;if(null==e)return!o;for(e=Object(e);i--;){var c=r[i];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var l=(c=r[i])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new Re;if(n)var p=n(f,d,l,e,t,h);if(!(void 0===p?Le(d,f,n,a|s,h):p))return!1}}return!0}(r,e,t)}}(e):function(e){return $e(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Ke(e)):function(e){return function(t){return Me(t,e)}}(e)}(e)}function qe(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||te;return e===r}(e))return de(e);var t=[];for(var r in Object(e))oe.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ue(e){return nt(e)?e:Ye(e)}function Ve(e,t,r,n,i,o){var u=i&s,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=o.get(e);if(f&&o.get(t))return f==t;var d=-1,h=!0,p=i&a?new ke:void 0;for(o.set(e,t),o.set(t,e);++d<c;){var y=e[d],m=t[d];if(n)var v=u?n(m,y,d,t,e,o):n(y,m,d,e,t,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!X(t,function(e,t){if(!p.has(t)&&(y===e||r(y,e,n,i,o)))return p.add(t)})){h=!1;break}}else if(y!==m&&!r(y,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ze(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Qe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Fe(r)?r:void 0}Ie.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ie.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===o?void 0:r}return oe.call(t,e)?t[e]:void 0},Ie.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:oe.call(t,e)},Ie.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?o:t,this},Ne.prototype.clear=function(){this.__data__=[]},Ne.prototype.delete=function(e){var t=this.__data__,r=De(t,e);return!(r<0||(r==t.length-1?t.pop():fe.call(t,r,1),0))},Ne.prototype.get=function(e){var t=this.__data__,r=De(t,e);return r<0?void 0:t[r][1]},Ne.prototype.has=function(e){return De(this.__data__,e)>-1},Ne.prototype.set=function(e,t){var r=this.__data__,n=De(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},je.prototype.clear=function(){this.__data__={hash:new Ie,map:new(ye||Ne),string:new Ie}},je.prototype.delete=function(e){return ze(this,e).delete(e)},je.prototype.get=function(e){return ze(this,e).get(e)},je.prototype.has=function(e){return ze(this,e).has(e)},je.prototype.set=function(e,t){return ze(this,e).set(e,t),this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,o),this},ke.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new Ne},Re.prototype.delete=function(e){return this.__data__.delete(e)},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ne){var i=r.__data__;if(!ye||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new je(i)}return r.set(e,t),this};var Ge=function(e){return ae.call(e)};function He(e,t){return!!(t=null==t?c:t)&&("number"==typeof e||F.test(e))&&e>-1&&e%1==0&&e<t}function $e(e,t){if(nt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ct(e))||(N.test(e)||!I.test(e)||null!=t&&e in Object(t))}function Je(e){return e==e&&!st(e)}function Xe(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(pe&&Ge(new pe(new ArrayBuffer(1)))!=A||ye&&Ge(new ye)!=g||me&&"[object Promise]"!=Ge(me.resolve())||ve&&Ge(new ve)!=S||be&&"[object WeakMap]"!=Ge(new be))&&(Ge=function(e){var t=ae.call(e),r=t==w?e.constructor:void 0,n=r?We(r):void 0;if(n)switch(n){case _e:return A;case we:return g;case Ee:return"[object Promise]";case Se:return S;case Te:return"[object WeakMap]"}return t});var Ye=et(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(ct(e))return Ae?Ae.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}(e)}(e);var t=[];return j.test(e)&&t.push(""),e.replace(k,function(e,r,n,i){t.push(n?i.replace(P,"$1"):r||e)}),t});function Ke(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function We(e){if(null!=e){try{return ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ze=function(e){return function(t,r,n){var i=Object(t);if(!it(t)){var o=Be(r);t=ft(t),r=function(e){return o(i[e],e,i)}}var a=e(t,r,n);return a>-1?i[o?t[a]:a]:void 0}}(function(e,t,r){var n=e?e.length:0;if(!n)return-1;var i=null==r?0:function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(ct(e))return f;if(st(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=st(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(R,"");var r=M.test(e);return r||L.test(e)?q(e.slice(2),r?2:8):D.test(e)?f:+e}(e))===u||e===-u){var t=e<0?-1:1;return t*l}return e==e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}(r);return i<0&&(i=he(n+i,0)),function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Be(t),i)});function et(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(et.Cache||je),r}function tt(e,t){return e===t||e!=e&&t!=t}function rt(e){return function(e){return ut(e)&&it(e)}(e)&&oe.call(e,"callee")&&(!le.call(e,"callee")||ae.call(e)==d)}et.Cache=je;var nt=Array.isArray;function it(e){return null!=e&&at(e.length)&&!ot(e)}function ot(e){var t=st(e)?ae.call(e):"";return t==v||t==b}function at(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function st(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ut(e){return!!e&&"object"==typeof e}function ct(e){return"symbol"==typeof e||ut(e)&&ae.call(e)==O}var lt=J?function(e){return function(t){return e(t)}}(J):function(e){return ut(e)&&at(e.length)&&!!B[ae.call(e)]};function ft(e){return it(e)?Pe(e):qe(e)}function dt(e){return e}r.exports=Ze}).call(this,r(9),r(38)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4);t.ActorQueryOperationJoin=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,t){return!0}async runOperation(e,t){const r=this.mediatorQueryOperation.mediate({operation:e.left,context:t}),i=this.mediatorQueryOperation.mediate({operation:e.right,context:t});return this.mediatorJoin.mediate({entries:[n.ActorQueryOperation.getSafeBindings(await r),n.ActorQueryOperation.getSafeBindings(await i)]})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(167),o=r(80);t.ActorQueryOperationLeftJoinNestedLoop=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}async testOperation(e,t){return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.left,context:t}),a=n.ActorQueryOperation.getSafeBindings(r),s=await this.mediatorQueryOperation.mediate({operation:e.right,context:t}),u=n.ActorQueryOperation.getSafeBindings(s),c=e.expression?new o.AsyncEvaluator(e.expression):null,l=(t,r)=>{const n=((t,r)=>{const n=r.transform({transform:async(r,a)=>{const s=i.ActorRdfJoin.join(t,r);if(s){if(!e.expression)return n._push({joinedBindings:s,result:!0}),void a();try{const e=await c.evaluateAsEBV(s);n._push({joinedBindings:s,result:e})}catch(e){o.isExpressionError(e)||f.emit("error",e)}a()}else a()}});return n})(t,u.bindingsStream.clone());n.on("end",()=>r()),n.on("data",async({joinedBindings:e,result:t})=>{t&&f._push(e)})},f=a.bindingsStream.transform({optional:!0,transform:l}),d=i.ActorRdfJoin.joinVariables({entries:[a,u]});return{type:"bindings",bindingsStream:f,metadata:()=>Promise.all([e.left,e.right].map(e=>e.metadata)).then(e=>e.reduce((e,t)=>e*t.totalItems,1)).catch(()=>1/0).then(e=>({totalItems:e})),variables:d}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(14),o=r(80),a=r(4),s=r(546);t.ActorQueryOperationOrderBySparqlee=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"orderby"),this.window=e.window||1/0}async testOperation(e,t){for(let t of e.expressions)t=this.extractSortExpression(t),new o.AsyncEvaluator(t);return!0}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),i=a.ActorQueryOperation.getSafeBindings(r),u={window:this.window};let c=i.bindingsStream;for(let t of e.expressions){const e=i.bindingsStream,r=this.isAscending(t);t=this.extractSortExpression(t);const a=new o.AsyncEvaluator(t),l=async(e,t)=>{try{const t=await a.evaluate(e);f._push({bindings:e,result:t})}catch(t){o.isExpressionError(t)||c.emit("error",t),f._push({bindings:e,result:void 0})}t()},f=e.transform({transform:l}),d=new s.SortIterator(f,(e,t)=>{const i=n.termToString(e.result),o=n.termToString(t.result);return i&&o?i>o===r?1:-1:0},u);c=d.map(({bindings:e,result:t})=>e)}return{type:"bindings",bindingsStream:c,metadata:i.metadata,variables:i.variables}}extractSortExpression(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR?e:"desc"===r?e.args[0]:e}isAscending(e){const{expressionType:t,operator:r}=e;return t!==i.Algebra.expressionTypes.OPERATOR||"desc"!==r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8);t.SortIterator=class extends n.TransformIterator{constructor(e,t,r){super(e,r);const n=r&&r.window;this.windowLength=isFinite(n)&&n>0?n:1/0,this.sort=t,this.sorted=[]}_read(e,t){let r,n=this.sorted.length;for(;n!==this.windowLength&&null!==(r=this.source.read());){let e,t,i=0,o=n-1;for(;i<=o;)e=Math.trunc((i+o)/2),(t=this.sort(r,this.sorted[e]))<0?i=e+1:t>0?o=e-1:(i=e,o=-1);this.sorted.splice(i,0,r),n++}n===this.windowLength&&this._push(this.sorted.pop()),t()}_flush(e){let t=this.sorted.length;for(;t--;)this._push(this.sorted.pop());e()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4),i=r(12);t.ActorQueryOperationProject=class extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,t){return!0}async runOperation(e,t){const r=n.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),o=e.variables.map(i.termToString),a=r.variables.filter(e=>o.indexOf(e)<0),s=o.filter(e=>r.variables.indexOf(e)<0);return{type:"bindings",bindingsStream:a.length||s.length?r.bindingsStream.map(e=>{for(const t of a)e=e.delete(t);for(const t of s)e=e.set(t,null);return e}):r.bindingsStream,metadata:r.metadata,variables:o}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(104),i=r(4),o=r(41);class a extends n.AbstractFilterHash{constructor(e){super(e,"minus")}newHashFilter(e,t,r,n){return i=>{return!(a.hash(e,t,i.filter((e,t)=>r[t]))in n)}}async runOperation(e,t){const r=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.right,context:t})),n=i.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.left,context:t})),s=this.getCommonVariables(r.variables,n.variables);if(0!==Object.keys(s).length){const e={};return{type:"bindings",bindingsStream:new o.PromiseProxyIterator(async()=>(await new Promise(t=>{r.bindingsStream.on("data",t=>{const r=a.hash(this.hashAlgorithm,this.digestAlgorithm,t.filter((e,t)=>s[t]));e[r]=!0}),r.bindingsStream.on("end",()=>{t()})}),n.bindingsStream.filter(this.newHashFilter(this.hashAlgorithm,this.digestAlgorithm,s,e)))),variables:n.variables,metadata:n.metadata}}return n}getCommonVariables(e,t){return e.filter(e=>-1!==t.indexOf(e)).reduce((e,t)=>(e[t]=!0,e),{})}}t.ActorQueryOperationMinus=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(550),i=r(22),o=r(1),a=r(102),s=r(12),u=r(29),c=r(14);class l extends n.ActorInit{constructor(e){super(e)}static applyInitialBindings(e,t){const r={};for(const n of Object.keys(e))if(Array.isArray(e[n])?r[n]="variables"===n?e[n].filter(e=>t.keySeq().indexOf(s.termToString(e))<0):e[n].map(e=>l.applyInitialBindings(e,t)):l.ALGEBRA_TYPES.indexOf(e[n].type)>=0?r[n]=l.applyInitialBindings(e[n],t):r[n]=e[n],e.type===c.Algebra.types.PATTERN||e.type===c.Algebra.types.PATH)for(const n of u.QUAD_TERM_NAMES)if(e.type!==c.Algebra.types.PATH||"predicate"!==n){const i=e[n];if("Variable"===i.termType){const e=s.termToString(i),o=t.get(e);o&&(r[n]=o)}}return r}async test(e){return!0}async query(e,r){for(const e in r)if(this.contextKeyShortcuts[e]){const t=r[e];r[this.contextKeyShortcuts[e]]=t,delete r[e]}r[o.KEY_CONTEXT_LOG]||(r[o.KEY_CONTEXT_LOG]=this.logger),Array.isArray(r[i.KEY_CONTEXT_SOURCES])&&(r[i.KEY_CONTEXT_SOURCES]=a.AsyncReiterableArray.fromFixedData(r[i.KEY_CONTEXT_SOURCES])),r=o.ActionContext(r);const n=this.mediatorContextPreprocess.mediate({context:r});let s="sparql";r&&r.has(t.KEY_CONTEXT_QUERYFORMAT)&&(s=r.get(t.KEY_CONTEXT_QUERYFORMAT),r=r.delete(t.KEY_CONTEXT_QUERYFORMAT));let u=(await this.mediatorSparqlParse.mediate({context:r,query:e,queryFormat:s})).operation;(r=(await n).context).has(t.KEY_CONTEXT_INITIALBINDINGS)&&(u=l.applyInitialBindings(u,r.get(t.KEY_CONTEXT_INITIALBINDINGS)));const c={context:r,operation:u=(await this.mediatorOptimizeQueryOperation.mediate({context:r,operation:u})).operation};return await this.mediatorQueryOperation.mediate(c)}async getResultMediaTypes(e){return(await this.mediatorSparqlSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async resultToString(e,t,r){if(r=o.ActionContext(r),!t)switch(e.type){case"bindings":t="application/json";break;case"quads":t="application/trig";break;default:t="simple"}const n=e;return n.context=r,(await this.mediatorSparqlSerialize.mediate({context:r,handle:n,handleMediaType:t})).handle}invalidateHttpCache(e){return this.mediatorHttpInvalidate.mediate({pageUrl:e})}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}l.ALGEBRA_TYPES=Object.keys(c.Algebra.types).map(e=>c.Algebra.types[e]),t.ActorInitSparql=l,t.KEY_CONTEXT_INITIALBINDINGS="@comunica/actor-init-sparql:initialBindings",t.KEY_CONTEXT_QUERYFORMAT="@comunica/actor-init-sparql:queryFormat"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(551))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorInit=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48);t.ActorSparqlSerialize=class extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48);t.ActorSparqlSerializeFixedMediaTypes=class extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,t){return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(555))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(100);class i{constructor(e){(e=e||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new n.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,t,r,n,o,a,s){const u=t[0],c=n?n+s+u:u,l=o.singularizeVariables[c];if(1===t.length){const t=a?r.value:r;l?e[u]||(e[u]=t):(e[u]||(e[u]=[]),e[u].push(t))}else{let n;l?(e[u]||(e[u]={}),n=e[u]):(e[u]||(e[u]=[]),n={},e[u].push(n)),i.addValueToTree(n,t.slice(1),r,c,o,a,s)}}sparqlJsonResultsToTree(e,t){return this.bindingsToTree(this.parser.parseJsonResults(e),t||{singularizeVariables:{}})}bindingsToTree(e,t){const r=t&&t.singularizeVariables[""],n=r?{}:[];for(const o of e){let e=n;r||(e={},n.push(e));for(const r in o){const n=r.split(this.delimiter),a=o[r];i.addValueToTree(e,n,a,"",t,this.materializeRdfJsTerms,this.delimiter)}}return n}}t.Converter=i},function(e,t,r){const n=new(r(141).LoggerVoid)({}),i=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/Bus/Init"}),o=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/Bus/Http"}),a=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/Bus/RdfJoin"}),s=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/Bus/RdfParse"}),u=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference/Bus/RdfDereference"}),c=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/Bus/RdfSerialize"}),l=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-source-identifier/Bus/RdfSourceIdentifier"}),f=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/Bus/ContextPreprocess"}),d=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Bus/RdfResolveQuadPattern"}),h=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/Bus/RdfResolveHypermedia"}),p=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-dereference-paged/Bus/RdfDereferencePaged"}),y=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/Bus/RdfMetadata"}),m=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/Bus/RdfMetadataExtract"}),v=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/Bus/HttpInvalidate"}),b=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/Bus/QueryOperation"}),g=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/Bus/OptimizeQueryOperation"}),_=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-parse/Bus/SparqlParse"}),w=new(r(1).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-sparql-serialize/Bus/SparqlSerialize"}),E=(new(r(557).ActorHttpNative)({agentOptions:'{ "keepAlive": true, "maxSockets": 5 }',name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#myHttpFetcher",bus:o}),new(r(46).MediatorNumber)({field:"time",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http.json#mediatorHttp",bus:o})),S=(new(r(166).ActorRdfJoinNestedLoop)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/join.json#myRdfJoinActor",bus:a}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorRdfJoin",bus:a})),T=new(r(47).MediatorCombineUnion)({field:"mediaTypes",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseMediatypes",bus:s}),O=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#mediatorRdfParseHandle",bus:s}),x=(new(r(150).ActorRdfParseN3)({mediaTypes:{"application/trig":"1.0","application/n-quads":"0.7","text/turtle":"0.6","application/n-triples":"0.3","text/n3":"0.2"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserN3",bus:s}),new(r(156).ActorRdfParseJsonLd)({mediaTypes:{"application/ld+json":"1.0","application/json":"0.1"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserJsonLd",bus:s}),new(r(164).ActorRdfParseRdfXml)({mediaTypes:{"application/rdf+xml":"1.0"},priorityScale:"9.5E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-parsers.json#myRdfParserRdfXml",bus:s}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfDereference",bus:u})),A=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-file.json#mediatorRdfDereference",bus:u}),I=(new(r(566).ActorRdfSerializeN3)({mediaTypes:{"application/trig":"1.0","application/n-quads":"0.7","text/turtle":"0.6","application/n-triples":"0.3","text/n3":"0.2"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializerN3",bus:c}),new(r(570).ActorRdfSerializeJsonLd)({jsonStringifyIndentSpaces:2,mediaTypes:{"application/ld+json":"1.0"},priorityScale:"9.0E-1",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-serializers.json#myRdfSerializeJsonLd",bus:c}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mediatorRdfSerialize",bus:c})),N=new(r(47).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode275",bus:c}),j=new(r(46).MediatorNumber)({field:"priority",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMax",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/context-preprocess-rdf-source-identifiers.json#mediatorRdfSourceIdentifier",bus:l}),k=new(r(73).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorContextPreprocess",bus:f}),R=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorResolveQuadPattern",bus:d}),P=(new(r(573).ActorRdfResolveHypermediaQpf)({subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myHypermediaQpfResolver",bus:h}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfResolveHypermedia",bus:h})),D=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorRdfDereferencePaged",bus:p}),M=new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadata",bus:y}),C=(new(r(577).ActorRdfMetadataPrimaryTopic)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataPrimaryTopic",bus:y}),new(r(580).ActorRdfMetadataTriplePredicate)({predicateRegexes:["^http://www.w3.org/ns/hydra/core#.*"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataTriplePredicate",bus:y}),new(r(47).MediatorCombineUnion)({field:"metadata",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#mediatorMetadataExtract",bus:m})),L=(new(r(582).ActorRdfMetadataExtractHydraControls)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraControls",bus:m}),new(r(588).ActorRdfMetadataExtractHydraCount)({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfMetadataExtractHydraCount",bus:m}),new(r(96).ActorHttpInvalidateListenable)({name:"cbrrqp:Actor/RdfResolveQuadPattern/httpInvalidator#default",bus:v})),F=new(r(96).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/Actor/RdfResolveQuadPattern/httpInvalidator#default",bus:v}),B=new(r(171).MediatorAll)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorHttpInvalidate",bus:v}),q=new(r(46).MediatorNumber)({field:"httpRequests",type:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/mediator-number/Mediator/Number/type/TypeMin",ignoreErrors:!0,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mediatorQueryOperation",bus:b}),U=(new(r(172).ActorQueryOperationBgpEmpty)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myEmptyBgpQueryOperator",bus:b}),new(r(175).ActorQueryOperationValues)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myValuesQueryOperator",bus:b}),new(r(73).MediatorCombinePipeline)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorOptimizeQueryOperation",bus:g})),V=(new(r(176).ActorOptimizeQueryOperationJoinBgp)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-optimize.json#myJoinBgpOptimizer",bus:g}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlParse",bus:_})),z=(new(r(590).ActorSparqlParseGraphql)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/graphql-parsers.json#myGraphqlParser",bus:_}),new(r(178).ActorSparqlParseAlgebra)({prefixes:{rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dc:"http://purl.org/dc/terms/",dcterms:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-parsers.json#mySparqlParser",bus:_}),new(r(15).MediatorRace)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-init.json#mediatorSparqlSerialize",bus:w})),Q=new(r(47).MediatorCombineUnion)({field:"mediaTypes",name:"_:b0bnode269",bus:w}),G=(new(r(594).ActorSparqlSerializeJson)({mediaTypes:{"application/json":"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myJsonSparqlSerializer",bus:w}),new(r(596).ActorSparqlSerializeSimple)({mediaTypes:{simple:"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySimpleSparqlSerializer",bus:w}),new(r(598).ActorSparqlSerializeSparqlJson)({mediaTypes:{"application/sparql-results+json":"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlJsonSparqlSerializer",bus:w}),new(r(600).ActorSparqlSerializeSparqlXml)({mediaTypes:{"application/sparql-results+xml":"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#mySparqlXmlSparqlSerializer",bus:w}),new(r(604).ActorSparqlSerializeStats)({mediaTypes:{stats:"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myStatsSparqlSerializer",bus:w}),new(r(606).ActorSparqlSerializeTable)({columnWidth:50,mediaTypes:{table:"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTableSparqlSerializer",bus:w}),new(r(258).ActorSparqlSerializeTree)({mediaTypes:{tree:"1.0"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myTreeSparqlSerializer",bus:w}),new(r(608).ActorHttpMemento)({mediatorHttp:E,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/http-memento.json#myHttpFetcher",bus:o}),new(r(180).ActorRdfSourceIdentifierHypermediaQpf)({mediatorHttp:E,acceptHeader:"application/trig;q=1.0,application/n-quads;q=0.7,text/n3;q=0.6,application/n-triples;q=0.3,text/n3;q=0.2",toContain:["http://www.w3.org/ns/hydra/core#","search","template","mapping","variable","property"],priority:.9,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-source-identifiers.json#myActorRdfSourceIdentifierHypermediaQpf",bus:l}),new(r(181).ActorRdfSourceIdentifierSparql)({mediatorHttp:E,priority:.5,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-source-identifiers.json#myActorRdfSourceIdentifierSparql",bus:l}),new(r(182).ActorRdfSourceIdentifierFileContentType)({mediatorHttp:E,allowedMediaTypes:["application/trig","application/n-quads","text/turtle","application/n-triples","text/n3","application/ld+json","application/json","application/rdf+xml"],priority:.1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-source-identifiers.json#myActorRdfSourceIdentifierFileContentType",bus:l}),new(r(183).ActorRdfResolveQuadPatternSparqlJson)({mediatorHttp:E,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlQuadPatternResolver",bus:d}),new(r(185).ActorQueryOperationSparqlEndpoint)({mediatorHttp:E,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-sparql.json#mySparqlEndpointResolver",bus:b}),new(r(189).ActorRdfDereferenceHttpParse)({mediatorHttp:E,mediatorRdfParseMediatypes:T,mediatorRdfParseHandle:O,mediaMappings:{ttl:"text/turtle",turtle:"text/turtle",nt:"application/n-triples",ntriples:"application/n-triples",nq:"application/n-quads",nquads:"application/n-quads",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",trig:"application/trig",jsonld:"application/ld+json",json:"application/json"},name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/rdf-dereference.json#myRdfDereferencer",bus:u}),new(r(610).ActorSparqlSerializeRdf)({mediatorRdfSerialize:I,mediatorMediaTypeCombiner:N,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-serializers.json#myRdfSparqlSerializer",bus:w}),new(r(193).ActorContextPreprocessRdfSourceIdentifier)({mediatorRdfSourceIdentifier:j,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/context-preprocess-rdf-source-identifiers.json#myContextPreprocessRdfSourceIdentifier",bus:f}),new(r(191).ActorRdfResolveQuadPatternFederated)({mediatorResolveQuadPattern:R,skipEmptyPatterns:!1,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-federated.json#myFederatedQuadPatternResolver",bus:d}),new(r(192).ActorQueryOperationQuadpattern)({mediatorResolveQuadPattern:R,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myQuadPatternQueryOperator",bus:b}),new(r(612).ActorRdfResolveQuadPatternHypermedia)({mediatorRdfDereferencePaged:D,mediatorRdfResolveHypermedia:P,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myQuadPatternHypermediaResolver",bus:d}),new(r(614).ActorRdfDereferencePagedNext)({mediatorRdfDereference:x,mediatorMetadata:M,mediatorMetadataExtract:C,cacheSize:100,httpInvalidator:L,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-hypermedia.json#myRdfPagedDereferencer",bus:p}),new(r(194).ActorRdfResolveQuadPatternFile)({mediatorRdfDereference:A,cacheSize:100,httpInvalidator:F,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/resolve-file.json#myQuadPatternFileResolver",bus:d}),new(r(206).ActorQueryOperationAsk)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myAskQueryOperator",bus:b}),new(r(207).ActorQueryOperationService)({mediatorRdfSourceIdentifier:j,forceSparqlEndpoint:!1,mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myServiceQueryOperator",bus:b}),new(r(208).ActorQueryOperationSlice)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySliceQueryOperator",bus:b}),new(r(209).ActorQueryOperationBgpSingle)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#mySingleBgpQueryOperator",bus:b}),new(r(210).ActorQueryOperationBgpLeftDeepSmallest)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftDeepSmallestBgpQueryOperator",bus:b}),new(r(211).ActorQueryOperationConstruct)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myConstructQueryOperator",bus:b}),new(r(212).ActorQueryOperationDescribeSubject)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDescribeQueryOperator",bus:b}),new(r(213).ActorQueryOperationDistinctHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myDistinctQueryOperator",bus:b}),new(r(246).ActorQueryOperationExtend)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myExtendQueryOperator",bus:b}),new(r(249).ActorQueryOperationReducedHash)({hashAlgorithm:"sha1",digestAlgorithm:"base64",cacheSize:["100"],mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myReducedQueryOperator",bus:b}),new(r(250).ActorQueryOperationFilterSparqlee)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFilterQueryOperator",bus:b}),new(r(251).ActorQueryOperationFromQuad)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myFromQueryOperator",bus:b}),new(r(252).ActorQueryOperationJoin)({mediatorJoin:S,mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myJoinQueryOperator",bus:b}),new(r(253).ActorQueryOperationLeftJoinNestedLoop)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myLeftJoinQueryOperator",bus:b}),new(r(254).ActorQueryOperationOrderBySparqlee)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myOrderByQueryOperator",bus:b}),new(r(255).ActorQueryOperationProject)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myProjectQueryOperator",bus:b}),new(r(103).ActorQueryOperationUnion)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myUnionQueryOperator",bus:b}),new(r(256).ActorQueryOperationMinus)({hashAlgorithm:"sha1",digestAlgorithm:"base64",mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperators.json#myMinusQueryOperator",bus:b}),new(r(196).ActorQueryOperationPathAlt)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myAltPathOperator",bus:b}),new(r(199).ActorQueryOperationPathInv)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myInvPathOperator",bus:b}),new(r(200).ActorQueryOperationPathLink)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myLinkPathOperator",bus:b}),new(r(201).ActorQueryOperationPathNps)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myNpsPathOperator",bus:b}),new(r(202).ActorQueryOperationPathOneOrMore)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myOneOrMorePathOperator",bus:b}),new(r(203).ActorQueryOperationPathSeq)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#mySeqPathOperator",bus:b}),new(r(204).ActorQueryOperationPathZeroOrMore)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrMorePathOperator",bus:b}),new(r(205).ActorQueryOperationPathZeroOrOne)({mediatorQueryOperation:q,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-init-sparql/^1.0.0/config/sets/sparql-queryoperator-path.json#myZeroOrOnePathOperator",bus:b}),new(r(257).ActorInitSparql)({mediatorOptimizeQueryOperation:U,mediatorQueryOperation:q,mediatorSparqlParse:V,mediatorSparqlSerialize:z,mediatorSparqlSerializeMediaTypeCombiner:Q,mediatorContextPreprocess:k,mediatorHttpInvalidate:B,logger:n,contextKeyShortcuts:{source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",initialBindings:"@comunica/actor-init-sparql:initialBindings",queryFormat:"@comunica/actor-init-sparql:queryFormat",log:"@comunica/core:log",datetime:"@comunica/actor-http-memento:datetime"},name:"urn:comunica:sparqlinit",bus:i}));e.exports=G},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(558))},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});const i=r(45);r(44);const o=r(559);class a extends i.ActorHttp{constructor(e){super(e),this.userAgent=a.createUserAgent(),this.requester=new o.default(e.agentOptions?JSON.parse(e.agentOptions):void 0)}static createUserAgent(){return`Comunica/actor-http-native (${"undefined"==typeof window?"Node.js "+e.version+"; "+e.platform:"Browser-"+window.navigator.userAgent})`}async test(e){return{time:1/0}}async run(e){const t={};if(e.input.url?(t.url=e.input.url,Object.assign(t,e.input)):t.url=e.input,e.init&&Object.assign(t,e.init),t.headers){const e={};t.headers.forEach((t,r)=>{e[r]=t}),t.headers=e}else t.headers={};return t.headers["user-agent"]||(t.headers["user-agent"]=this.userAgent),t.method=t.method||"GET",this.logInfo(e.context,`Requesting ${t.url}`),new Promise((e,r)=>{this.requester.createRequest(t).on("response",i=>{i.on("error",e=>{i=null,r(e)}),"HEAD"===t.method&&i.destroy(),n(()=>{if(i){i.cancel=(()=>Promise.resolve(i.destroy()));const r=new Headers(i.headers),n={body:i,headers:r,ok:i.statusCode<300,redirected:t.url!==i.responseUrl,status:i.statusCode,url:r.has("content-location")?r.get("content-location"):i.responseUrl};e(n)}})})})}}t.ActorHttpNative=a}).call(this,r(10),r(16).setImmediate)},function(e,t,r){"use strict";
/*! @license MIT ©2013-2016 Ruben Verborgh, Ghent University - imec */Object.defineProperty(t,"__esModule",{value:!0});const n=r(54),i=r(260),o=r(5),a={"accept-encoding":!0,"user-agent":!0,referer:!0};t.default=class{constructor(){this.negotiatedResources={}}createRequest(e){this.negotiatedResources[this.removeQuery(e.url)]&&delete e.headers["accept-datetime"];const t=new XMLHttpRequest,r=e.headers;t.open(e.method,e.url,!0),t.timeout=e.timeout;for(const e in r)e in a||!r[e]||t.setRequestHeader(e,r[e]);const s=new n.EventEmitter;return s.abort=(()=>{t.abort()}),t.onload=(()=>{const n=new o.Readable;n.push(t.responseText||""),n.push(null),n.statusCode=t.status,n.responseUrl=t.responseURL,n.headers={};const a=n.headers,u=t.getAllResponseHeaders()||"",c=/^([^:\n\r]+):[ \t]*([^\r\n]*)$/gm;let l=c.exec(u);for(;l;)a[l[1].toLowerCase()]=l[2],l=c.exec(u);if(s.emit("response",n),r["accept-datetime"]&&a["memento-datetime"]){const t=this.removeQuery(a["content-location"]||e.url);if(!this.negotiatedResources[t]){const e=a.link&&i(a.link);t!==this.removeQuery(e&&e.timegate&&e.timegate.url)&&(this.negotiatedResources[t]=!0)}}}),t.onerror=(()=>{s.emit("error",new Error("Error requesting "+e.url))}),t.ontimeout=(()=>{s.emit("error",new Error("Timeout requesting "+e.url))}),t.send(),s}removeQuery(e){return e?e.replace(/\?.*$/,""):""}}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,d,h,p,y=e[l].replace(s,"%20"),m=y.indexOf(r);m>=0?(f=y.substr(0,m),d=y.substr(m+1)):(f=y,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),n(a,h)?i(a[h])?a[h].push(p):a[h]=[a[h],p]:a[h]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[a]))}).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n=r(563),i=r(564);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=g,t.resolve=function(e,t){return g(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=g(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(261);function g(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var g=e=c.join(s);if(g=g.trim(),!r&&1===e.split("#").length){var _=u.exec(g);if(_)return this.path=g,this.href=g,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(g);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,g=g.substr(w.length)}if(r||w||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===g.substr(0,2);!S||w&&m[w]||(g=g.substr(2),this.slashes=!0)}if(!m[w]&&(S||w&&!v[w])){for(var T,O,x=-1,A=0;A<d.length;A++){-1!==(I=g.indexOf(d[A]))&&(-1===x||I<x)&&(x=I)}-1!==(O=-1===x?g.lastIndexOf("@"):g.lastIndexOf("@",x))&&(T=g.slice(0,O),g=g.slice(O+1),this.auth=decodeURIComponent(T)),x=-1;for(A=0;A<f.length;A++){var I;-1!==(I=g.indexOf(f[A]))&&(-1===x||I<x)&&(x=I)}-1===x&&(x=g.length),this.host=g.slice(0,x),g=g.slice(x),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var j=this.hostname.split(/\./),k=(A=0,j.length);A<k;A++){var R=j[A];if(R&&!R.match(h)){for(var P="",D=0,M=R.length;D<M;D++)R.charCodeAt(D)>127?P+="x":P+=R[D];if(!P.match(h)){var C=j.slice(0,A),L=j.slice(A+1),F=R.match(p);F&&(C.push(F[1]),L.unshift(F[2])),L.length&&(g="/"+L.join(".")+g),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+B,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!y[E])for(A=0,k=l.length;A<k;A++){var U=l[A];if(-1!==g.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),g=g.split(U).join(V)}}var z=g.indexOf("#");-1!==z&&(this.hash=g.substr(z),g=g.slice(0,z));var Q=g.indexOf("?");if(-1!==Q?(this.search=g.substr(Q),this.query=g.substr(Q+1),t&&(this.query=b.parse(this.query)),g=g.slice(0,Q)):t&&(this.search="",this.query={}),g&&(this.pathname=g),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var G=this.search||"";this.path=B+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!v[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",b=r.search||"";r.path=y+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||g||r.host&&e.pathname,E=w,S=r.pathname&&r.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(T&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===S[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T)r.hostname=r.host=S.shift(),(N=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=N.shift(),r.host=r.hostname=N.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=S.slice(-1)[0],x=(r.host||e.host||S.length>1)&&("."===O||".."===O)||""===O,A=0,I=S.length;I>=0;I--)"."===(O=S[I])?S.splice(I,1):".."===O?(S.splice(I,1),A++):A&&(S.splice(I,1),A--);if(!w&&!E)for(;A--;A)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),x&&"/"!==S.join("/").substr(-1)&&S.push("");var N,j=""===S[0]||S[0]&&"/"===S[0].charAt(0);T&&(r.hostname=r.host=j?"":S.length?S.shift():"",(N=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=N.shift(),r.host=r.hostname=N.shift()));return(w=w||r.host&&S.length)&&!j&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,f=26,d=38,h=700,p=72,y=128,m="-",v=/^xn--/,b=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,E=Math.floor,S=String.fromCharCode;function T(e){throw new RangeError(_[e])}function O(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function x(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+O((e=e.replace(g,".")).split("."),t).join(".")}function A(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function I(e){return O(e,function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function N(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function j(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,r){var n=0;for(e=r?E(e/h):e>>1,e+=E(e/t);e>w*f>>1;n+=c)e=E(e/w);return E(n+(w+1)*e/(e+d))}function R(e){var t,r,n,i,o,a,s,d,h,v,b=[],g=e.length,_=0,w=y,S=p;for((r=e.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&T("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=_,a=1,s=c;i>=g&&T("invalid-input"),((d=N(e.charCodeAt(i++)))>=c||d>E((u-_)/a))&&T("overflow"),_+=d*a,!(d<(h=s<=S?l:s>=S+f?f:s-S));s+=c)a>E(u/(v=c-h))&&T("overflow"),a*=v;S=k(_-o,t=b.length+1,0==o),E(_/t)>u-w&&T("overflow"),w+=E(_/t),_%=t,b.splice(_++,0,w)}return I(b)}function P(e){var t,r,n,i,o,a,s,d,h,v,b,g,_,w,O,x=[];for(g=(e=A(e)).length,t=y,r=0,o=p,a=0;a<g;++a)(b=e[a])<128&&x.push(S(b));for(n=i=x.length,i&&x.push(m);n<g;){for(s=u,a=0;a<g;++a)(b=e[a])>=t&&b<s&&(s=b);for(s-t>E((u-r)/(_=n+1))&&T("overflow"),r+=(s-t)*_,t=s,a=0;a<g;++a)if((b=e[a])<t&&++r>u&&T("overflow"),b==t){for(d=r,h=c;!(d<(v=h<=o?l:h>=o+f?f:h-o));h+=c)O=d-v,w=c-v,x.push(S(j(v+O%w,0))),d=E(O/w);x.push(S(j(d,0))),o=k(r,_,n==i),r=0,++n}++r,++t}return x.join("")}s={version:"1.4.1",ucs2:{decode:A,encode:I},decode:R,encode:P,toASCII:function(e){return x(e,function(e){return b.test(e)?"xn--"+P(e):e})},toUnicode:function(e){return x(e,function(e){return v.test(e)?R(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(38)(e),r(9))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(567))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(262),i=r(70),o=r(5);t.ActorRdfSerializeN3=class extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){const n=new o.Readable({objectMode:!0});n._read=(()=>{}),e.quads.on("error",e=>a.emit("error",e)),e.quads.on("data",e=>n.push(e)),e.quads.on("end",()=>n.emit("end"));const a=n.pipe(new i.StreamWriter({format:t}));return{data:a,triples:"text/turtle"===t||"application/n-triples"===t||"text/n3"===t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48);t.ActorRdfSerialize=class extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(48);t.ActorRdfSerializeFixedMediaTypes=class extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(571))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(262);t.ActorRdfSerializeJsonLd=class extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e),this.jsonLd=r(157)()}async runHandle(e,t,n){const i=await r(187)(e.quads),o=(await this.jsonLd.fromRDF(i,{useNativeTypes:!0})).map(e=>JSON.stringify(e,null,this.jsonStringifyIndentSpaces));return{data:r(572)(`[${o.join(",")}]`)}}}},function(e,t,r){const n=r(5).Readable;function i(e,t){if(!(this instanceof i))return new i(e,t);n.call(this,t),this.str=e}r(36).inherits(i,n),i.prototype._read=function(e){var t=this.str.slice(0,e);t?(this.str=this.str.slice(e),this.push(t)):this.push(null)},e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(574))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(575),i=r(22);t.ActorRdfResolveHypermediaQpf=class extends n.ActorRdfResolveHypermedia{constructor(e){super(e)}async test(e){if("hypermedia"!==e.context.get(i.KEY_CONTEXT_SOURCE).type)throw new Error(this.name+" requires a single source with a Hypermedia 'hypermedia' entrypoint to be present in the context.");if(!e.metadata||!e.metadata.searchForms)throw new Error(`${this.name} requires metadata and searchForms to work on.`);return!0}async run(e){const t=e.metadata.searchForms;for(const e of t.values){if(this.graphUri&&this.subjectUri in e.mappings&&this.predicateUri in e.mappings&&this.objectUri in e.mappings&&this.graphUri in e.mappings&&4===Object.keys(e.mappings).length)return{searchForm:e};if(this.subjectUri in e.mappings&&this.predicateUri in e.mappings&&this.objectUri in e.mappings&&3===Object.keys(e.mappings).length)return{searchForm:e}}throw new Error("No valid Hydra search form was found for quad pattern or triple pattern queries.")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(576))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorRdfResolveHypermedia=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(578))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(263),i=r(5);t.ActorRdfMetadataPrimaryTopic=class extends n.ActorRdfMetadata{constructor(e){super(e)}async test(e){if(e.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(e){const t=new i.Readable({objectMode:!0}),r=new i.Readable({objectMode:!0});return t._read=r._read=(()=>{(()=>{t._read=r._read=(()=>{}),e.quads.on("error",e=>{t.emit("error",e),r.emit("error",e)});const n={};let i=null;const o={};e.quads.on("data",t=>{"http://rdfs.org/ns/void#subset"===t.predicate.value&&t.object.value===e.pageUrl?i=t.subject.value:"http://xmlns.com/foaf/0.1/primaryTopic"===t.predicate.value&&(o[t.object.value]=t.subject.value);let r=n[t.graph.value];r||(r=n[t.graph.value]=[]),r.push(t)}),e.quads.on("end",()=>{const e=i?o[i]:null;for(const i in n)if(i===e)for(const e of n[i])r.push(e);else for(const e of n[i])t.push(e);t.push(null),r.push(null)})})()}),{data:t,metadata:r}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5),i=r(264);t.ActorRdfMetadataQuadPredicate=class extends i.ActorRdfMetadata{constructor(e){super(e)}async run(e){const t=new n.Readable({objectMode:!0}),r=new n.Readable({objectMode:!0}),i=()=>{t._read=r._read=(()=>{}),e.quads.on("error",e=>{t.emit("error",e),r.emit("error",e)});const n={};e.quads.on("data",i=>{this.isMetadata(i,e.pageUrl,n)?r.push(i):t.push(i)}),e.quads.on("end",()=>{t.push(null),r.push(null)})};return t._read=r._read=(()=>{i()}),{data:t,metadata:r}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(581))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(263);t.ActorRdfMetadataTriplePredicate=class extends n.ActorRdfMetadataQuadPredicate{constructor(e){super(e)}async test(e){return!0}isMetadata(e,t,r){if(e.subject.value===t)return!0;for(const t of this.predicateRegexes)if(e.predicate.value.match(t))return!0;return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(583))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(265),i=r(585);class o extends n.ActorRdfMetadataExtract{constructor(e){super(e),this.parsedUriTemplateCache={}}async test(e){return!0}getLinks(e,t){return o.LINK_TYPES.reduce((r,n)=>{const i=t[n]||t[n+"Page"],o=i&&i[e];return o&&o.length>0&&(r[n]=o[0]),r},{})}parseUriTemplateCached(e){const t=this.parsedUriTemplateCache[e];return t||(this.parsedUriTemplateCache[e]=i.parse(e))}getSearchForms(e){const t=e.search;let n;return{values:n=t?r(586)(r(587)(r(152)(t,t=>t.map(t=>{const r=(e.template||{})[t]||[];if(1!==r.length)throw new Error("Expected 1 hydra:template for "+t);const n=r[0],i=this.parseUriTemplateCached(n),o=((e.mapping||{})[t]||[]).reduce((t,r)=>{const n=((e.variable||{})[r]||[])[0],i=((e.property||{})[r]||[])[0];if(!n)throw new Error("Expected a hydra:variable for "+r);if(!i)throw new Error("Expected a hydra:property for "+r);return t[i]=n,t},{});return{template:n,mappings:o,getUri:e=>i.expand(Object.keys(e).reduce((t,r)=>(t[o[r]]=e[r],t),{}))}})))):[]}}getHydraProperties(e){return new Promise((t,r)=>{e.on("error",r);const n={};e.on("data",e=>{if(e.predicate.value.startsWith(o.HYDRA)){const t=e.predicate.value.substr(o.HYDRA.length),r=n[t]||(n[t]={});(r[e.subject.value]||(r[e.subject.value]=[])).push(e.object.value)}}),e.on("end",()=>t(n))})}async run(e){const t={},n=await this.getHydraProperties(e.metadata);return r(53)(t,this.getLinks(e.pageUrl,n)),t.searchForms=this.getSearchForms(n),{metadata:t}}}o.HYDRA="http://www.w3.org/ns/hydra/core#",o.LINK_TYPES=["first","next","previous","last"],t.ActorRdfMetadataExtractHydraControls=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorRdfMetadataExtract=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){!function(t){"use strict";var r=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),n=function(){function e(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;var r,n;for(n in Object.freeze(t),t)t.hasOwnProperty(n)&&"object"==typeof(r=t[n])&&e(r);return t}(t):t}return{isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){var r,n="",i=!0;for(r=0;r<e.length;r+=1)i?i=!1:n+=t,n+=e[r];return n},map:function(e,t){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r},filter:function(e,t){for(var r=[],n=0;n<e.length;n+=1)t(e[n])&&r.push(e[n]);return r},deepFreeze:e}}(),i=function(){function e(e){return e>="0"&&e<="9"}return{isAlpha:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||t>="a"&&t<="f"||t>="A"&&t<="F"}}}(),o=function(){var e={encode:function(e){return unescape(encodeURIComponent(e))},numBytes:function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},isValidFollowingCharCode:function(e){return 128<=e&&e<=191}};function t(e,t){return"%"===e.charAt(t)&&i.isHexDigit(e.charAt(t+1))&&i.isHexDigit(e.charAt(t+2))}function r(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(t){var r,n,i="",o=e.encode(t);for(n=0;n<o.length;n+=1)i+="%"+((r=o.charCodeAt(n))<16?"0":"")+r.toString(16).toUpperCase();return i},isPctEncoded:function(n){if(!t(n,0))return!1;var i=r(n,1),o=e.numBytes(i);if(0===o)return!1;for(var a=1;a<o;a+=1)if(!t(n,3*a)||!e.isValidFollowingCharCode(r(n,3*a+1)))return!1;return!0},pctCharAt:function(n,i){var o=n.charAt(i);if(!t(n,i))return o;var a=r(n,i+1),s=e.numBytes(a);if(0===s)return o;for(var u=1;u<s;u+=1)if(!t(n,i+3*u)||!e.isValidFollowingCharCode(r(n,i+3*u+1)))return o;return n.substr(i,3*s)}}}(),a=function(){return{isVarchar:function(e){return i.isAlpha(e)||i.isDigit(e)||"_"===e||o.isPctEncoded(e)},isUnreserved:function(e){return i.isAlpha(e)||i.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},isReserved:function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}}}(),s=function(){function e(e,t){var r,n="",i="";for("number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),r=0;r<e.length;r+=i.length)i=e.charAt(r),n+=a.isUnreserved(i)||t&&a.isReserved(i)?i:o.encodeCharacter(i);return n}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(e){var t,r="",n="";for(t=0;t<e.length;t+=n.length)(n=o.pctCharAt(e,t)).length>1?r+=n:r+=a.isReserved(n)||a.isUnreserved(n)?n:o.encodeCharacter(n);return r},encodeLiteralCharacter:function(e,t){var r=o.pctCharAt(e,t);return r.length>1?r:a.isReserved(r)||a.isUnreserved(r)?r:o.encodeCharacter(r)}}}(),u=function(){var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}return t(""),t("+"),t("#"),t("."),t("/"),t(";"),t("?"),t("&"),{valueOf:function(t){return e[t]?e[t]:"=,!@|".indexOf(t)>=0?null:e[""]}}}();function c(e){var t;if(null===e||void 0===e)return!1;if(n.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(t in e)if(e.hasOwnProperty(t)&&c(e[t]))return!0;return!1}var l=function(){function e(e){this.literal=s.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),f=function(){function e(e){var t,n,s=[],c=null,l=null,f=null,h="";function p(){var t=e.substring(l,n);if(0===t.length)throw new r({expressionText:e,message:"a varname must be specified",position:n});c={varname:t,exploded:!1,maxLength:null},l=null}function y(){if(f===n)throw new r({expressionText:e,message:"after a ':' you have to specify the length",position:n});c.maxLength=parseInt(e.substring(f,n),10),f=null}for(t=function(t){var i=u.valueOf(t);if(null===i)throw new r({expressionText:e,message:"illegal use of reserved operator",position:n,operator:t});return i}(e.charAt(0)),n=t.symbol.length,l=n;n<e.length;n+=h.length){if(h=o.pctCharAt(e,n),null!==l){if("."===h){if(l===n)throw new r({expressionText:e,message:"a varname MUST NOT start with a dot",position:n});continue}if(a.isVarchar(h))continue;p()}if(null!==f){if(n===f&&"0"===h)throw new r({expressionText:e,message:"A :prefix must not start with digit 0",position:n});if(i.isDigit(h)){if(n-f>=4)throw new r({expressionText:e,message:"A :prefix must have max 4 digits",position:n});continue}y()}if(":"!==h)if("*"!==h){if(","!==h)throw new r({expressionText:e,message:"illegal character",character:h,position:n});s.push(c),c=null,l=n+1}else{if(null===c)throw new r({expressionText:e,message:"exploded without varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"exploded twice",position:n});if(c.maxLength)throw new r({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:n});c.exploded=!0}else{if(null!==c.maxLength)throw new r({expressionText:e,message:"only one :maxLength is allowed per varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:n});f=n+1}}return null!==l&&p(),null!==f&&y(),s.push(c),new d(e,t,s)}return function(t){var n,i,o=[],a=null,s=0;for(n=0;n<t.length;n+=1)if(i=t.charAt(n),null===s){if(null===a)throw new Error("reached unreachable code");if("{"===i)throw new r({templateText:t,message:"brace already opened",position:n});if("}"===i){if(a+1===n)throw new r({templateText:t,message:"empty braces",position:a});try{o.push(e(t.substring(a+1,n)))}catch(e){if(e.prototype===r.prototype)throw new r({templateText:t,message:e.options.message,position:a+e.options.position,details:e.options});throw e}a=null,s=n+1}}else{if("}"===i)throw new r({templateText:t,message:"unopened brace closed",position:n});"{"===i&&(s<n&&o.push(new l(t.substring(s,n))),s=null,a=n)}if(null!==a)throw new r({templateText:t,message:"unclosed brace",position:a});return s<t.length&&o.push(new l(t.substr(s))),new h(t,o)}}(),d=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function t(e){if(!c(e))return!0;if(n.isString(e))return""===e;if(n.isNumber(e)||n.isBoolean(e))return!1;if(n.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push({name:t,value:e[t]});return r}function i(e,t,r){this.templateText=e,this.operator=t,this.varspecs=r}function o(e,t,r){var n="";if(r=r.toString(),t.named){if(n+=s.encodeLiteral(e.varname),""===r)return n+=t.ifEmpty;n+="="}return null!==e.maxLength&&(r=r.substr(0,e.maxLength)),n+=t.encode(r)}function a(e){return c(e.value)}function u(e,i,o){var u=[],l="";if(i.named){if(l+=s.encodeLiteral(e.varname),t(o))return l+=i.ifEmpty;l+="="}return n.isArray(o)?(u=o,u=n.filter(u,c),u=n.map(u,i.encode),l+=n.join(u,",")):(u=r(o),u=n.filter(u,a),u=n.map(u,function(e){return i.encode(e.name)+","+i.encode(e.value)}),l+=n.join(u,",")),l}function l(e,i,o){var u=[];return n.isArray(o)?(u=o,u=n.filter(u,c),u=n.map(u,function(r){var n=s.encodeLiteral(e.varname);return t(r)?n+=i.ifEmpty:n+="="+i.encode(r),n})):(u=r(o),u=n.filter(u,a),u=n.map(u,function(e){var r=s.encodeLiteral(e.name);return t(e.value)?r+=i.ifEmpty:r+="="+i.encode(e.value),r})),n.join(u,i.separator)}function f(e,t){var i=[],o="";return n.isArray(t)?(i=t,i=n.filter(i,c),i=n.map(i,e.encode),o+=n.join(i,e.separator)):(i=r(t),i=n.filter(i,function(e){return c(e.value)}),i=n.map(i,function(t){return e.encode(t.name)+"="+e.encode(t.value)}),o+=n.join(i,e.separator)),o}return i.prototype.toString=function(){return this.templateText},i.prototype.expand=function(r){var i,a,s,d=[],h=this.operator;for(i=0;i<this.varspecs.length;i+=1)if(null!==(s=r[(a=this.varspecs[i]).varname])&&void 0!==s)if(a.exploded&&!0,n.isArray(s),"string"==typeof s||"number"==typeof s||"boolean"==typeof s)d.push(o(a,h,s));else{if(a.maxLength&&c(s))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(s));a.exploded?c(s)&&(h.named?d.push(l(a,h,s)):d.push(f(h,s))):!h.named&&t(s)||d.push(u(a,h,s))}return 0===d.length?"":h.first+n.join(d,h.separator)},i}(),h=function(){function e(e,t){this.templateText=e,this.expressions=t,n.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,r="";for(t=0;t<this.expressions.length;t+=1)r+=this.expressions[t].expand(e);return r},e.parse=f,e.UriTemplateError=r,e}();!function(t){e.exports=t}(h)}()},function(e,t,r){(function(t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function c(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var l=Object.prototype,f=l.hasOwnProperty,d=l.toString,h=u.Symbol,p=l.propertyIsEnumerable,y=h?h.isConcatSpreadable:void 0;function m(e){return v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?d.call(e):"";return t==i||t==o}(e)}(e)}(e)&&f.call(e,"callee")&&(!p.call(e,"callee")||d.call(e)==n)}(e)||!!(y&&e&&e[y])}var v=Array.isArray;e.exports=function(e){return e&&e.length?function e(t,r,n,i,o){var a=-1,s=t.length;for(n||(n=m),o||(o=[]);++a<s;){var u=t[a];r>0&&n(u)?r>1?e(u,r-1,n,i,o):c(o,u):i||(o[o.length]=u)}return o}(e,1):[]}}).call(this,r(9))},function(e,t){var r=9007199254740991,n="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(t,function(t){return e[t]})}var u=Object.prototype,c=u.hasOwnProperty,l=u.toString,f=u.propertyIsEnumerable,d=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object);function h(e,t){var r=m(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&v(e)}(e)&&c.call(e,"callee")&&(!f.call(e,"callee")||l.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=r.length,o=!!i;for(var a in e)!t&&!c.call(e,a)||o&&("length"==a||y(a,i))||r.push(a);return r}function p(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||u;return e===r}(e))return d(e);var t=[];for(var r in Object(e))c.call(e,r)&&"constructor"!=r&&t.push(r);return t}function y(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}var m=Array.isArray;function v(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return t==i||t==o}(e)}e.exports=function(e){return e?s(e,function(e){return v(e)?h(e):p(e)}(e)):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(589))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(265);t.ActorRdfMetadataExtractHydraCount=class extends n.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}run(e){return new Promise((t,r)=>{e.metadata.on("error",r),e.metadata.on("data",e=>{this.predicates.indexOf(e.predicate.value)>=0&&t({metadata:{totalItems:parseInt(e.object.value,10)}})}),e.metadata.on("end",()=>{t({metadata:{totalItems:1/0}})})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(591))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(179),i=r(592);t.ActorSparqlParseGraphql=class extends n.ActorSparqlParse{constructor(e){super(e),this.graphqlToSparql=new i.Converter({requireContext:!0})}async test(e){if("graphql"!==e.queryFormat)throw new Error("This actor can only parse GraphQL queries");return!0}async run(e){return{operation:this.graphqlToSparql.graphqlToSparqlAlgebra(e.query,e.context&&e.context.has("@context")?e.context.get("@context"):{})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(593))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),i=r(626),o=r(14);t.Converter=class{constructor(e){this.expressionVariableCounter=0,e=e||{},this.dataFactory=e.dataFactory||n,this.operationFactory=new o.Factory(this.dataFactory),this.arraysToRdfLists=e.arraysToRdfLists,this.variableDelimiter=e.variableDelimiter||"_",this.requireContext=e.requireContext}graphqlToSparqlAlgebra(e,t,r){const n=i.parse(e),o={context:t,fragmentDefinitions:this.indexFragments(n),path:[],terminalVariables:[],variablesDict:r||{},variablesMetaDict:{}},a=this.operationFactory.createProject(n.definitions.map(this.definitionToPattern.bind(this,o)).reduce((e,t)=>t?e?this.operationFactory.createUnion(e,t):t:e,null),o.terminalVariables);return this.translateBlankNodesToVariables(a)}indexFragments(e){const t={},r=[];for(const n of e.definitions)"FragmentDefinition"===n.kind?t[n.name.value]=n:r.push(n);return e.definitions=r,t}definitionToPattern(e,t){switch(t.kind){case"OperationDefinition":const r=t;if("query"!==r.operation)throw new Error("Unsupported definition operation: "+r.operation);const n=this.dataFactory.blankNode();if(r.variableDefinitions)for(const t of r.variableDefinitions){const r=t.variable.name.value;t.defaultValue&&(e.variablesDict[r]||(e.variablesDict[r]=t.defaultValue));let n=t.type;const i="NonNullType"===n.kind;i&&(n=n.type);const o="ListType"===n.kind;o&&(n=n.type);const a=n.name.value;e.variablesMetaDict[r]={mandatory:i,list:o,type:a}}if(r.directives)for(const t of r.directives)if(!this.handleDirective(t,e))return null;return this.joinOperations(r.selectionSet.selections.map(this.selectionToPatterns.bind(this,e,n)));case"FragmentDefinition":throw new Error("Illegal state: fragment definitions must be indexed and removed before processing");default:throw new Error("Unsupported definition node: "+t.kind)}}selectionToPatterns(e,t,r){switch(r.kind){case"FragmentSpread":const n=r,i=e.fragmentDefinitions[n.name.value];if(!i)throw new Error("Undefined fragment definition: "+n.name.value);return this.operationFactory.createLeftJoin(this.operationFactory.createBgp([]),this.fieldToOperation(e,t,{alias:null,arguments:null,directives:i.directives,kind:"Field",name:n.name,selectionSet:i.selectionSet},!1,[this.newTypePattern(t,i.typeCondition,e)]));case"InlineFragment":const o=r;return this.operationFactory.createLeftJoin(this.operationFactory.createBgp([]),this.fieldToOperation(e,t,{alias:null,arguments:null,directives:o.directives,kind:"Field",name:{kind:"Name",value:t.value},selectionSet:o.selectionSet},!1,o.typeCondition?[this.newTypePattern(t,o.typeCondition,e)]:[]));case"Field":return this.fieldToOperation(e,t,r,!0)}}newTypePattern(e,t,r){return this.operationFactory.createPattern(e,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(t.name.value,r.context))}fieldToOperation(e,t,r,n,i){let o,a=0;if(n){const n=this.handleMetaField(e,t,r,i);if(n)return n}let s=i?i.concat([]):[];const u=this.nameToVariable(r.alias?r.alias:r.name,e);let c=null;if(r.arguments&&r.arguments.length){for(const e of r.arguments)if("_"===e.name.value){c=e,n=!1;break}if(c){const n=this.valueToTerm(c.value,e,r.name.value);n.terms.forEach(n=>s.push(this.createTriplePattern(t,r.name,n,e.context))),n.auxiliaryPatterns&&(s=s.concat(n.auxiliaryPatterns))}}if(n&&s.push(this.createTriplePattern(t,r.name,u,e.context)),r.arguments&&r.arguments.length)for(const t of r.arguments)if("_"===t.name.value);else if("first"===t.name.value){if("IntValue"!==t.value.kind)throw new Error("Invalid value type for 'first' argument: "+t.value.kind);o=parseInt(t.value.value,10)}else if("offset"===t.name.value){if("IntValue"!==t.value.kind)throw new Error("Invalid value type for 'offset' argument: "+t.value.kind);a=parseInt(t.value.value,10)}else{const r=this.valueToTerm(t.value,e,t.name.value);for(const n of r.terms)s.push(this.createTriplePattern(u,t.name,n,e.context));r.auxiliaryPatterns&&(s=s.concat(r.auxiliaryPatterns))}if(r.directives)for(const t of r.directives)if(!this.handleDirective(t,e))return this.operationFactory.createBgp([]);let l=this.operationFactory.createBgp(s);if(r.selectionSet&&r.selectionSet.selections.length){const i=r.alias?r.alias.value:r.name.value,o=n?Object.assign(Object.assign({},e),{path:e.path.concat([i])}):e;let a=!1;const s=r.selectionSet.selections.filter(e=>"Field"!==e.kind||"totalCount"!==e.name.value||(a=!0,!1));let c=this.joinOperations([l].concat(s.map(this.selectionToPatterns.bind(this,o,n?u:t))));if(a){const t=this.dataFactory.variable("var"+this.expressionVariableCounter++),r=this.dataFactory.variable(u.value+this.variableDelimiter+"totalCount"),n=this.operationFactory.createBoundAggregate(t,"count",this.operationFactory.createTermExpression(u),!1),i=this.operationFactory.createProject(this.operationFactory.createExtend(this.operationFactory.createGroup(l,[],[n]),r,this.operationFactory.createTermExpression(t)),[r]);e.terminalVariables.push(r),c=s.length?this.operationFactory.createJoin(this.operationFactory.createProject(c,[]),i):i}l=c}else n&&e.terminalVariables.push(u);return(a||o)&&(l=this.operationFactory.createSlice(this.operationFactory.createProject(l,[]),a,o)),l}createTriplePattern(e,t,r,n){const i=this.valueToNamedNode(t.value,n);return n&&n[t.value]&&n[t.value]["@reverse"]===i.value?this.operationFactory.createPattern(r,i,e):this.operationFactory.createPattern(e,i,r)}handleMetaField(e,t,r,n){if("__typename"===r.name.value){const i=this.nameToVariable(r.alias?r.alias:r.name,e);return e.terminalVariables.push(i),this.operationFactory.createBgp([this.operationFactory.createPattern(t,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),i)].concat(n||[]))}return null}joinOperations(e){if(!e.length)throw new Error("Can not make a join of no operations");if(1===e.length)return e[0];let t=!0;for(const r of e)if("bgp"!==r.type){t=!1;break}return t?this.operationFactory.createBgp([].concat.apply([],e.map(e=>e.patterns))):e.reverse().reduce((e,t)=>e?this.operationFactory.createJoin(t,e):t,null)}nameToVariable(e,t){return this.dataFactory.variable((t.path.length?t.path.join(this.variableDelimiter)+this.variableDelimiter:"")+e.value)}valueToNamedNode(e,t){let r=t[e];if(this.requireContext&&!r)throw new Error("No context entry was found for "+e);return r&&"string"!=typeof r&&(r=r["@id"]||r["@reverse"]),this.dataFactory.namedNode(r||e)}valueToTerm(e,t,r){switch(e.kind){case"Variable":const n=e.name.value,i=t.variablesDict[n],o=t.variablesMetaDict[n];if(!i){if(!o||o.mandatory)throw new Error(`Undefined variable: ${n}`);return this.valueToTerm({kind:"NullValue"},t,r)}if("Variable"===i.kind)throw new Error(`Variable refers to another variable: ${n}`);if(o)if(o.list){if("ListValue"!==i.kind)throw new Error(`Expected a list, but got ${i.kind} for ${n}`);if(o.type){const e=i;for(const t of e.values)if(t.kind!==o.type)throw new Error(`Expected ${o.type}, but got ${t.kind} for ${n}`)}}else o.type;return this.valueToTerm(i,t,r);case"IntValue":return{terms:[this.dataFactory.literal(e.value,this.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer"))]};case"FloatValue":return{terms:[this.dataFactory.literal(e.value,this.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float"))]};case"StringValue":const a=t.context[r];let s=null,u=null;return a&&"string"!=typeof a&&(a["@language"]?s=a["@language"]:a["@type"]&&(u=this.dataFactory.namedNode(a["@type"]))),{terms:[this.dataFactory.literal(e.value,s||u)]};case"BooleanValue":return{terms:[this.dataFactory.literal(e.value?"true":"false",this.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean"))]};case"NullValue":return{terms:[this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")]};case"EnumValue":return{terms:[this.valueToNamedNode(e.value,t.context)]};case"ListValue":const c=[];let l=[];for(const n of e.values){const e=this.valueToTerm(n,t,r);for(const t of e.terms)c.push(t);e.auxiliaryPatterns&&(l=l.concat(e.auxiliaryPatterns))}if(this.arraysToRdfLists){const e=this.dataFactory.blankNode();let t=e,r=c.length;for(const e of c){l.push(this.operationFactory.createPattern(t,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),e));const n=0==--r?this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"):this.dataFactory.blankNode();l.push(this.operationFactory.createPattern(t,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),n)),t=n}return{terms:[e],auxiliaryPatterns:l}}return{terms:c,auxiliaryPatterns:l};case"ObjectValue":const f=this.dataFactory.blankNode();let d=[];for(const n of e.fields){this.valueToNamedNode(n.name.value,t.context);const e=this.valueToTerm(n.value,t,r);for(const r of e.terms)d.push(this.createTriplePattern(f,n.name,r,t.context));e.auxiliaryPatterns&&(d=d.concat(e.auxiliaryPatterns))}return{terms:[f],auxiliaryPatterns:d}}}getArgument(e,t){if(!e)throw new Error("No arguments were defined for the directive.");for(const r of e)if(r.name.value===t)return r;throw new Error("Undefined argument: "+t)}handleDirective(e,t){const r=this.getArgument(e.arguments,"if"),n=this.valueToTerm(r.value,t,r.name.value);if(1!==n.terms.length)throw new Error(`Can not apply a directive with a list: ${n.terms}`);const i=n.terms[0];switch(e.name.value){case"include":if("Literal"===i.termType&&"false"===i.value)return!1;break;case"skip":if("Literal"===i.termType&&"true"===i.value)return!1;break;default:throw new Error("Unsupported directive: "+e.name.value)}return!0}translateBlankNodesToVariables(e){const t=this.dataFactory,r={},n=Array.from(e.variables).reduce((e,t)=>(e[t.value]=!0,e),{});return o.Util.mapOperation(e,{path:(e,t)=>({recurse:!1,result:t.createPath(i(e.subject),e.predicate,i(e.object),i(e.graph))}),pattern:(e,t)=>({recurse:!1,result:t.createPattern(i(e.subject),i(e.predicate),i(e.object),i(e.graph))})});function i(e){if("BlankNode"===e.termType){let i=r[e.value];return i||(i=o.Util.createUniqueVariable(e.value,n,t),n[i.value]=!0,r[e.value]=i),i}return e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(595))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(12),o=r(5);t.ActorSparqlSerializeJson=class extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){if(["bindings","quads","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(t,r,n){const a=new o.Readable;a._read=(()=>{});let s=!0;if("bindings"===t.type){const e=t.bindingsStream;a.push("["),e.on("error",e=>a.emit("error",e)),e.on("data",e=>{a.push(s?"\n":",\n"),a.push(JSON.stringify(e.map(i.termToString)).trim()),s=!1}),e.on("end",()=>{a.push(s?"]\n":"\n]\n"),a.push(null)})}else if("quads"===t.type){const e=t.quadStream;a.push("["),e.on("error",e=>a.emit("error",e)),e.on("data",e=>{a.push(s?"\n":",\n"),a.push(JSON.stringify(i.quadToStringQuad(e)).trim()),s=!1}),e.on("end",()=>{a.push(s?"]\n":"\n]\n"),a.push(null)})}else try{a.push(JSON.stringify(await t.booleanResult)+"\n"),a.push(null)}catch(t){e(()=>a.emit("error",t))}return{data:a}}}}).call(this,r(16).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(597))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(5);t.ActorSparqlSerializeSimple=class extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){if(["bindings","quads","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams, quad streams or booleans.");return!0}async runHandle(t,r,n){const o=new i.Readable;let a;if(o._read=(()=>{}),"bindings"===t.type)(a=t.bindingsStream).on("error",e=>o.emit("error",e)),a.on("data",e=>o.push(e.map((e,t)=>t+": "+e.value).join("\n")+"\n\n")),a.on("end",()=>o.push(null));else if("quads"===t.type)(a=t.quadStream).on("error",e=>o.emit("error",e)),a.on("data",e=>o.push("subject: "+e.subject.value+"\npredicate: "+e.predicate.value+"\nobject: "+e.object.value+"\ngraph: "+e.graph.value+"\n\n")),a.on("end",()=>o.push(null));else try{o.push(JSON.stringify(await t.booleanResult)+"\n"),o.push(null)}catch(t){e(()=>o.emit("error",t))}return{data:o}}}}).call(this,r(16).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(599))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(5);class o extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToJsonBindings(e){if("Literal"===e.termType){const t=e,r={value:t.value,type:"literal"},n=t.language,i=t.datatype;return n?r["xml:lang"]=n:i&&"http://www.w3.org/2001/XMLSchema#string"!==i.value&&(r.datatype=i.value),r}return"BlankNode"===e.termType?{value:e.value,type:"bnode"}:{value:e.value,type:"uri"}}async testHandleChecked(e,t){if(["bindings","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(t,r,n){const a=new i.Readable;a._read=(()=>{});const s={};"bindings"===t.type&&t.variables.length&&(s.vars=t.variables.map(e=>e.substr(1))),a.push('{"head": '+JSON.stringify(s)+",\n");let u=!0;if("bindings"===t.type){const e=t.bindingsStream;e.on("error",e=>{a.emit("error",e)}),e.on("data",e=>{u?a.push('"results": { "bindings": [\n'):a.push(",\n");const t=e.filter((e,t)=>!!e&&t.startsWith("?"));a.push(JSON.stringify(t.mapEntries(([e,t])=>[e.substr(1),o.bindingToJsonBindings(t)]).toJSON())),u=!1}),e.on("end",()=>{u?a.push('"results": { "bindings": [] }}\n'):a.push("\n]}}\n"),a.push(null)})}else try{a.push('"boolean":'+await t.booleanResult+"\n}\n"),a.push(null)}catch(t){e(()=>a.emit("error",t))}return{data:a}}}t.ActorSparqlSerializeSparqlJson=o}).call(this,r(16).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(601))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(5),o=r(602);class a extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToXmlBindings(e,t){let r;if("Literal"===e.termType){const t=e;r={literal:t.value};const n=t.language,i=t.datatype;n?r.literal=[{_attr:{"xml:lang":n}},r.literal]:i&&"http://www.w3.org/2001/XMLSchema#string"!==i.value&&(r.literal=[{_attr:{datatype:i.value}},r.literal])}else r="BlankNode"===e.termType?{bnode:e.value}:{uri:e.value};return{binding:[{_attr:{name:t.substring(1)}},r]}}async testHandleChecked(e,t){if(["bindings","boolean"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(t,r,n){const s=new i.Readable;s._read=(()=>{});const u=o.element({_attr:{xlmns:"http://www.w3.org/2005/sparql-results#"}});if(o({sparql:u},{stream:!0,indent:"  ",declaration:!0}).on("data",e=>s.push(e+"\n")),"bindings"===t.type&&t.variables.length&&u.push({head:t.variables.map(e=>({variable:{_attr:{name:e.substr(1)}}}))}),"bindings"===t.type){const e=o.element({});u.push({results:e});const r=t.bindingsStream;r.on("error",e=>{s.emit("error",e)}),r.on("data",t=>{const r=t.filter((e,t)=>!!e&&t.startsWith("?"));e.push({result:r.map(a.bindingToXmlBindings)})}),r.on("end",()=>{e.close(),u.close(),s.push(null)})}else try{u.push({boolean:await t.booleanResult}),u.close(),e(()=>s.push(null))}catch(t){e(()=>s.emit("error",t))}return{data:s}}}t.ActorSparqlSerializeSparqlXml=a}).call(this,r(16).setImmediate)},function(e,t,r){(function(t){var n=r(603),i=r(5).Stream,o="    ";function a(e,t,r){var i,o=function(e,t){return new Array(t||0).join(e||"")}(t,r=r||0),s=e;if("object"==typeof e&&((s=e[i=Object.keys(e)[0]])&&s._elem))return s._elem.name=i,s._elem.icount=r,s._elem.indent=t,s._elem.indents=o,s._elem.interrupt=s,s._elem;var u,c=[],l=[];function f(e){Object.keys(e).forEach(function(t){c.push(function(e,t){return e+'="'+n(t)+'"'}(t,e[t]))})}switch(typeof s){case"object":if(null===s)break;s._attr&&f(s._attr),s._cdata&&l.push(("<![CDATA["+s._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),s.forEach&&(u=!1,l.push(""),s.forEach(function(e){"object"==typeof e?"_attr"==Object.keys(e)[0]?f(e._attr):l.push(a(e,t,r+1)):(l.pop(),u=!0,l.push(n(e)))}),u||l.push(""));break;default:l.push(n(s))}return{name:i,interrupt:!1,attributes:c,content:l,icount:r,indents:o,indent:t}}function s(e,t,r){if("object"!=typeof t)return e(!1,t);var n=t.interrupt?1:t.content.length;function i(){for(;t.content.length;){var i=t.content.shift();if(void 0!==i){if(o(i))return;s(e,i)}}e(!1,(n>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!r?"\n":"")),r&&r()}function o(t){return!!t.interrupt&&(t.interrupt.append=e,t.interrupt.end=i,t.interrupt=!1,e(!0),!0)}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(n?t.name?">":"":t.name?"/>":"")+(t.indent&&n>1?"\n":"")),!n)return e(!1,t.indent?"\n":"");o(t)||i()}e.exports=function(e,r){"object"!=typeof r&&(r={indent:r});var n=r.stream?new i:null,u="",c=!1,l=r.indent?!0===r.indent?o:r.indent:"",f=!0;function d(e){f?t.nextTick(e):e()}function h(e,t){if(void 0!==t&&(u+=t),e&&!c&&(n=n||new i,c=!0),e&&c){var r=u;d(function(){n.emit("data",r)}),u=""}}function p(e,t){s(h,a(e,l,l?1:0),t)}function y(){if(n){var e=u;d(function(){n.emit("data",e),n.emit("end"),n.readable=!1,n.emit("close")})}}return d(function(){f=!1}),r.declaration&&function(e){var t={version:"1.0",encoding:e.encoding||"UTF-8"};e.standalone&&(t.standalone=e.standalone),p({"?xml":{_attr:t}}),u=u.replace("/>","?>")}(r.declaration),e&&e.forEach?e.forEach(function(t,r){var n;r+1===e.length&&(n=y),p(t,n)}):p(e,y),n?(n.readable=!0,n):u},e.exports.element=e.exports.Element=function(){var e={_elem:a(Array.prototype.slice.call(arguments)),push:function(e){if(!this.append)throw new Error("not assigned to a parent!");var t=this,r=this._elem.indent;s(this.append,a(e,r,this._elem.icount+(r?1:0)),function(){t.append(!0)})},close:function(e){void 0!==e&&this.push(e),this.end&&this.end()}};return e}}).call(this,r(10))},function(e,t){var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};e.exports=function(e){return e&&e.replace?e.replace(/([&"<>'])/g,function(e,t){return r[t]}):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(605))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(5);t.ActorSparqlSerializeStats=class extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){if(["bindings","quads"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(e){const t=["Result","Delay (ms)"].join(",");e.push(t+"\n")}pushStat(e,t,r){const n=[r,this.delay(t)].join(",");e.push(n+"\n")}pushFooter(e,t){const r=["TOTAL",this.delay(t)].join(",");e.push(r+"\n"),e.push(null)}async runHandle(t,r,n){const o=new i.Readable;o._read=(()=>{});const a="bindings"===t.type?t.bindingsStream:t.quadStream,s=e.hrtime();let u=1;return this.pushHeader(o),a.on("error",e=>o.emit("error",e)),a.on("data",()=>this.pushStat(o,s,u++)),a.on("end",()=>this.pushFooter(o,s)),{data:o}}delay(t){const r=e.hrtime(t);return 1e3*r[0]+r[1]/1e6}}}).call(this,r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(607))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(35),i=r(29),o=r(5);class a extends n.ActorSparqlSerializeFixedMediaTypes{constructor(e){super(e),this.padding=a.repeat(" ",this.columnWidth)}static repeat(e,t){return new Array(t+1).join(e)}async testHandleChecked(e,t){if(["bindings","quads"].indexOf(e.type)<0)throw new Error("This actor can only handle bindings or quad streams.");return!0}pad(e){return e.length<=this.columnWidth?e+this.padding.slice(e.length):e.slice(0,this.columnWidth-1)+"…"}pushHeader(e,t){const r=t.map(this.pad,this).join(" ");e.push(r+"\n"+a.repeat("-",r.length)+"\n")}async runHandle(e,t,r){const n=new o.Readable;let a;return n._read=(()=>{}),"bindings"===e.type?(a=e.bindingsStream,this.pushHeader(n,e.variables),a.on("error",e=>n.emit("error",e)),a.on("data",e=>n.push(e.map((e,t)=>this.pad(e?e.value:"")).join(" ")+"\n"))):(a=e.quadStream,this.pushHeader(n,i.QUAD_TERM_NAMES),a.on("error",e=>n.emit("error",e)),a.on("data",e=>n.push(i.getTerms(e).map(e=>this.pad(e.value)).join(" ")+"\n"))),a.on("end",()=>n.push(null)),{data:n}}}t.ActorSparqlSerializeTable=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(609))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(45);r(44);const i=r(260);t.ActorHttpMemento=class extends n.ActorHttp{constructor(e){super(e)}async test(e){if(!(e.context&&e.context.has(t.KEY_CONTEXT_DATETIME)&&e.context.get(t.KEY_CONTEXT_DATETIME)instanceof Date))throw new Error("This actor only handles request with a set valid datetime.");if(e.init&&new Headers(e.init.headers||{}).has("accept-datetime"))throw new Error("The request already has a set datetime.");return!0}async run(e){const r=e.init?Object.assign({},e.init):{},n=r.headers=new Headers(r.headers||{});e.context&&e.context.has(t.KEY_CONTEXT_DATETIME)&&n.append("accept-datetime",e.context.get(t.KEY_CONTEXT_DATETIME).toUTCString());const o={context:e.context,input:e.input,init:r},a=await this.mediatorHttp.mediate(o);if(n.has("accept-datetime")&&a.headers&&!a.headers.has("memento-datetime")){const t=a.headers.has("link")&&i(a.headers.get("link"));if(t&&t.timegate){a.body.cancel();const n={context:e.context,input:t.timegate.url,init:r};return this.mediatorHttp.mediate(n)}}return a}},t.KEY_CONTEXT_DATETIME="@comunica/actor-http-memento:datetime"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(611))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(35);t.ActorSparqlSerializeRdf=class extends n.ActorSparqlSerialize{constructor(e){super(e)}async testHandle(e,t,r){if("quads"!==e.type)throw new Error("Actor "+this.name+" can only handle quad streams");const n=(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes;if(!(t in n))throw new Error("Actor "+this.name+" can not handle media type "+t+". All available types: "+Object.keys(n));return!0}async runHandle(e,t,r){return(await this.mediatorRdfSerialize.mediate({context:r,handle:{quads:e.quadStream},handleMediaType:t})).handle}async testMediaType(e){return!0}async getMediaTypes(e){return(await this.mediatorMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(613)),n(r(266))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(186),o=r(12),a=r(266);t.ActorRdfResolveQuadPatternHypermedia=class extends n.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.sources={}}async test(e){if(!await i.DataSourceUtils.singleSourceHasType(e.context,"hypermedia"))throw new Error(`${this.name} requires a single source with a 'hypermedia' entrypoint to be present in the context.`);return!0}async chooseForm(e,t){const r=(await this.mediatorRdfDereferencePaged.mediate({context:t,url:e})).firstPageMetadata;if(!r)throw new Error(`No metadata was found at hypermedia entrypoint ${e}`);const n=await r();if(!n.searchForms||!n.searchForms.values.length)throw new Error(`No Hydra search forms were discovered in the metadata of ${e}.`+" You may be missing an actor that extracts this metadata");return(await this.mediatorRdfResolveHypermedia.mediate({metadata:n,context:t})).searchForm}async createSource(e){let t=null;return new a.MediatedQuadSource(this.mediatorRdfDereferencePaged,async(r,n,i,a)=>{if(!t){const r=this.getContextSource(e).value;t=this.chooseForm(r,e)}const s={},u=[{uri:this.subjectUri,term:r},{uri:this.predicateUri,term:n},{uri:this.objectUri,term:i},{uri:this.graphUri,term:a}];for(const e of u)e.uri&&e.term&&(s[e.uri]=o.termToString(e.term));return(await t).getUri(s)},e)}async getSource(e){const t=this.getContextSource(e).value;return this.sources[t]?this.sources[t]:await(this.sources[t]=this.createSource(e))}async getOutput(e,t,r){const n=await super.getOutput(e,t,r);return n.metadata=(()=>new Promise((e,t)=>{n.data.on("error",t),n.data.on("end",()=>t(new Error("No metadata was found"))),n.data.on("metadata",t=>{e(t())})})),n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(615))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(616),i=r(618),o=r(621);t.ActorRdfDereferencePagedNext=class extends n.ActorRdfDereferencePaged{constructor(e){super(e),this.cache=this.cacheSize?new i({max:this.cacheSize}):null,this.cache&&this.httpInvalidator.addInvalidateListener(({pageUrl:e})=>e?this.cache.del(e):this.cache.reset())}test(e){return this.mediatorRdfDereference.mediateActor({context:e.context,url:e.url})}run(e){if(this.cacheSize&&this.cache.has(e.url))return this.cloneOutput(this.cache.get(e.url));const t=this.runAsync(e);return this.cacheSize?(this.cache.set(e.url,t),this.cloneOutput(t)):t}async cloneOutput(e){const t=await e;return{data:t.data.clone(),firstPageMetadata:()=>t.firstPageMetadata().then(e=>Object.assign({},e)),firstPageUrl:t.firstPageUrl,triples:t.triples}}async runAsync(e){const t=await this.mediatorRdfDereference.mediate(e),r=t.pageUrl,n=await this.mediatorMetadata.mediate({context:e.context,pageUrl:r,quads:t.quads,triples:t.triples});let i=null;const a=()=>i||(i=this.mediatorMetadataExtract.mediate({context:e.context,pageUrl:r,metadata:n.metadata}).then(e=>e.metadata)),s=new o.MediatedPagedAsyncRdfIterator(r,n.data,a,this.mediatorRdfDereference,this.mediatorMetadata,this.mediatorMetadataExtract,e.context);return{firstPageUrl:r,data:s,firstPageMetadata:a,triples:t.triples}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(617))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.ActorRdfDereferencePaged=class extends n.Actor{constructor(e){super(e)}}},function(e,t,r){"use strict";const n=r(619),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=()=>1;const y=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(m(e,t)){if(b(e,n),!e[s])return}else r&&(e[h]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},v=e=>{if(e[o]>e[i])for(let t=e[f].tail;e[o]>e[i]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[o]-=r.length,e[d].delete(r.key),e[f].removeNode(t)}};class g{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const _=(e,t,r,n)=>{let i=r.value;m(e,i)&&(b(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[a]="function"!=typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,v(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),v(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;_(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;_(this,e,r,t),r=n}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[c]&&this[f]&&this[f].length&&this[f].forEach(e=>this[c](e.key,e.value)),this[d]=new Map,this[f]=new n,this[o]=0}dump(){return this[f].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](t,e);if(this[d].has(e)){if(s>this[i])return b(this,this[d].get(e)),!1;const a=this[d].get(e).value;return this[c]&&(this[l]||this[c](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),v(this),!0}const h=new g(e,t,s,n,r);return h.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=h.length,this[f].unshift(h),this[d].set(e,this[f].head),v(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach((e,t)=>y(this,t,!1))}}},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(620)(n)}catch(e){}},function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(622);t.MediatedPagedAsyncRdfIterator=class extends n.PagedAsyncRdfIterator{constructor(e,t,r,n,i,o,a){super(e,{autoStart:!1}),this.firstPageData=t,this.firstPageMetadata=r,this.mediatorRdfDereference=n,this.mediatorMetadata=i,this.mediatorMetadataExtract=o,this.context=a}async getIterator(e,t,r){let n;if(t){const t=await this.mediatorRdfDereference.mediate({context:this.context,url:e}),i=await this.mediatorMetadata.mediate({context:this.context,pageUrl:t.pageUrl,quads:t.quads,triples:t.triples});n=i.data,this.mediatorMetadataExtract.mediate({context:this.context,pageUrl:t.pageUrl,metadata:i.metadata}).then(e=>r(e.metadata.next)).catch(e=>this.emit("error",e))}else{let e;n=this.firstPageData;try{e=(await this.firstPageMetadata()).next}catch(e){this.emit("error",e)}r(e)}return n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8);t.PagedAsyncRdfIterator=class extends n.BufferedIterator{constructor(e,t){super(t),this.page=0,this.startUrl=e,this.nextUrl=e}_read(e,t){this.nextUrl?this.startIterator(this.nextUrl,this.page++).then(t).catch(e=>this.emit("error",e)):t()}async startIterator(e,t){this.nextUrl=null;let r=!1,n=!1;const i=await this.getIterator(e,t,e=>{e?(this.nextUrl=e,this.readable=!0):r?this.close():n=!0});i.on("data",e=>{this._push(e),this.readable=!0}),i.on("error",e=>this.emit("error",e)),i.on("end",()=>{r=!0,n&&this.close()})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(86)),i=a(r(23)),o=r(6);function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends n.default{handle(){const e=this.getWebId().then(o.namedNode);return this._createSubjectPath(e)}async getWebId(){const e=await i.default.currentSession();if(!e)throw new Error("Cannot resolve user path: no user logged in");return e.webId}}},function(e,t,r){"use strict";var n=r(625);function i(){}e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=i,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";r.r(t);var n=Array.prototype.find?function(e,t){return Array.prototype.find.call(e,t)}:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n))return n}},i=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},o=Object.entries||function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},a="function"==typeof Symbol?Symbol.for("nodejs.util.inspect.custom"):void 0;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,a&&(e.prototype[a]=t)}function u(e){"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}})}var c=function(e,t){return e instanceof t};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){switch(l(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(e){var t=function(e){var t=e[String(a)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(t){var r=t.call(e);return"string"==typeof r?r:f(r)}if(Array.isArray(e))return"["+e.map(f).join(", ")+"]";var n=Object.keys(e).map(function(t){return"".concat(t,": ").concat(f(e[t]))}).join(", ");return n?"{ "+n+" }":"{}"}return String(e);default:return String(e)}}function d(e,t){if(!e)throw new Error(t)}function h(e,t){return e.reduce(function(e,r){return e[t(r)]=r,e},Object.create(null))}function p(e,t){var r=Object.create(null),n=!0,i=!1,a=void 0;try{for(var s,u=o(e)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=c[0],f=c[1];r[l]=t(f,l)}}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return r}var y=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function m(e,t,r){return e.reduce(function(e,n){return e[t(n)]=r(n),e},Object.create(null))}function v(e){return void 0===e||e!=e}function b(e,t){switch(e.kind){case y.NULL:return null;case y.INT:return parseInt(e.value,10);case y.FLOAT:return parseFloat(e.value);case y.STRING:case y.ENUM:case y.BOOLEAN:return e.value;case y.LIST:return e.values.map(function(e){return b(e,t)});case y.OBJECT:return m(e.fields,function(e){return e.name.value},function(e){return b(e.value,t)});case y.VARIABLE:var r=e.name.value;return t&&!v(t[r])?t[r]:void 0}throw new Error("Unexpected value kind: "+e.kind)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){w(e,t,r[t])})}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return T(e)||x(e)||I(e)||j(e)||R(e)||D(e)||C(e)||F(e)}function S(e){return E(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL type.")),e}function T(e){return c(e,se)}function O(e){return T(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL Scalar type.")),e}function x(e){return c(e,ue)}function A(e){return x(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL Object type.")),e}function I(e){return c(e,de)}function N(e){return I(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL Interface type.")),e}function j(e){return c(e,he)}function k(e){return j(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL Union type.")),e}function R(e){return c(e,pe)}function P(e){return R(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL Enum type.")),e}function D(e){return c(e,ye)}function M(e){return D(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL Input Object type.")),e}function C(e){return c(e,Y)}function L(e){return C(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL List type.")),e}function F(e){return c(e,K)}function B(e){return F(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL Non-Null type.")),e}function q(e){return T(e)||R(e)||D(e)||W(e)&&q(e.ofType)}function U(e){return q(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL input type.")),e}function V(e){return T(e)||x(e)||I(e)||j(e)||R(e)||W(e)&&V(e.ofType)}function z(e){return V(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL output type.")),e}function Q(e){return T(e)||R(e)}function G(e){return Q(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL leaf type.")),e}function H(e){return x(e)||I(e)||j(e)}function $(e){return H(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL composite type.")),e}function J(e){return I(e)||j(e)}function X(e){return J(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL abstract type.")),e}function Y(e){if(!(this instanceof Y))return new Y(e);this.ofType=S(e)}function K(e){if(!(this instanceof K))return new K(e);this.ofType=te(e)}function W(e){return C(e)||F(e)}function Z(e){return W(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL wrapping type.")),e}function ee(e){return E(e)&&!F(e)}function te(e){return ee(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL nullable type.")),e}function re(e){if(e)return F(e)?e.ofType:e}function ne(e){return T(e)||x(e)||I(e)||j(e)||R(e)||D(e)}function ie(e){return ne(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL named type.")),e}function oe(e){if(e){for(var t=e;W(t);)t=t.ofType;return t}}function ae(e){return"function"==typeof e?e():e}Y.prototype.toString=function(){return"["+String(this.ofType)+"]"},s(Y),K.prototype.toString=function(){return String(this.ofType)+"!"},s(K);var se=function(){function e(e){this.name=e.name,this.description=e.description,this.serialize=e.serialize,this.parseValue=e.parseValue||function(e){return e},this.parseLiteral=e.parseLiteral||b,this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,"string"!=typeof e.name&&d(0,"Must provide name."),"function"!=typeof e.serialize&&d(0,"".concat(this.name,' must provide "serialize" function. If this custom Scalar ')+'is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.'),(e.parseValue||e.parseLiteral)&&("function"!=typeof e.parseValue||"function"!=typeof e.parseLiteral)&&d(0,"".concat(this.name,' must provide both "parseValue" and "parseLiteral" ')+"functions.")}return e.prototype.toString=function(){return this.name},e}();u(se),s(se);var ue=function(){function e(e){this.name=e.name,this.description=e.description,this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,this.isTypeOf=e.isTypeOf,this._fields=ce.bind(void 0,e),this._interfaces=function(e){var t=ae(e.interfaces)||[];return Array.isArray(t)||d(0,"".concat(e.name," interfaces must be an Array or a function which returns ")+"an Array."),t}.bind(void 0,e),"string"!=typeof e.name&&d(0,"Must provide name."),null!=e.isTypeOf&&"function"!=typeof e.isTypeOf&&d(0,"".concat(this.name,' must provide "isTypeOf" as a function, ')+"but got: ".concat(f(e.isTypeOf),"."))}var t=e.prototype;return t.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},t.getInterfaces=function(){return"function"==typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces},t.toString=function(){return this.name},e}();function ce(e){var t=ae(e.fields)||{};return le(t)||d(0,"".concat(e.name," fields must be an object with field names as keys or a ")+"function which returns such an object."),p(t,function(t,r){le(t)||d(0,"".concat(e.name,".").concat(r," field config must be an object")),t.hasOwnProperty("isDeprecated")&&d(0,"".concat(e.name,".").concat(r,' should provide "deprecationReason" ')+'instead of "isDeprecated".'),null!=t.resolve&&"function"!=typeof t.resolve&&d(0,"".concat(e.name,".").concat(r," field resolver must be a function if ")+"provided, but got: ".concat(f(t.resolve),"."));var n=t.args||{};le(n)||d(0,"".concat(e.name,".").concat(r," args must be an object with argument ")+"names as keys.");var i=o(n).map(function(e){var t=e[0],r=e[1];return{name:t,description:void 0===r.description?null:r.description,type:r.type,defaultValue:r.defaultValue,astNode:r.astNode}});return _({},t,{isDeprecated:Boolean(t.deprecationReason),name:r,args:i})})}function le(e){return e&&"object"===g(e)&&!Array.isArray(e)}function fe(e){return F(e.type)&&void 0===e.defaultValue}u(ue),s(ue);var de=function(){function e(e){this.name=e.name,this.description=e.description,this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,this.resolveType=e.resolveType,this._fields=ce.bind(void 0,e),"string"!=typeof e.name&&d(0,"Must provide name."),null!=e.resolveType&&"function"!=typeof e.resolveType&&d(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(f(e.resolveType),"."))}var t=e.prototype;return t.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},t.toString=function(){return this.name},e}();u(de),s(de);var he=function(){function e(e){this.name=e.name,this.description=e.description,this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,this.resolveType=e.resolveType,this._types=function(e){var t=ae(e.types)||[];return Array.isArray(t)||d(0,"Must provide Array of types or a function which returns "+"such an array for Union ".concat(e.name,".")),t}.bind(void 0,e),"string"!=typeof e.name&&d(0,"Must provide name."),null!=e.resolveType&&"function"!=typeof e.resolveType&&d(0,"".concat(this.name,' must provide "resolveType" as a function, ')+"but got: ".concat(f(e.resolveType),"."))}var t=e.prototype;return t.getTypes=function(){return"function"==typeof this._types&&(this._types=this._types()),this._types},t.toString=function(){return this.name},e}();u(he),s(he);var pe=function(){function e(e){this.name=e.name,this.description=e.description,this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,this._values=function(e,t){return le(t)||d(0,"".concat(e.name," values must be an object with value names as keys.")),o(t).map(function(t){var r=t[0],n=t[1];return le(n)||d(0,"".concat(e.name,".").concat(r,' must refer to an object with a "value" key ')+"representing an internal value but got: ".concat(f(n),".")),n.hasOwnProperty("isDeprecated")&&d(0,"".concat(e.name,".").concat(r,' should provide "deprecationReason" instead ')+'of "isDeprecated".'),{name:r,description:n.description,isDeprecated:Boolean(n.deprecationReason),deprecationReason:n.deprecationReason,astNode:n.astNode,value:n.hasOwnProperty("value")?n.value:r}})}(this,e.values),this._valueLookup=new Map(this._values.map(function(e){return[e.value,e]})),this._nameLookup=h(this._values,function(e){return e.name}),"string"!=typeof e.name&&d(0,"Must provide name.")}var t=e.prototype;return t.getValues=function(){return this._values},t.getValue=function(e){return this._nameLookup[e]},t.serialize=function(e){var t=this._valueLookup.get(e);if(t)return t.name},t.parseValue=function(e){if("string"==typeof e){var t=this.getValue(e);if(t)return t.value}},t.parseLiteral=function(e,t){if(e.kind===y.ENUM){var r=this.getValue(e.value);if(r)return r.value}},t.toString=function(){return this.name},e}();u(pe),s(pe);var ye=function(){function e(e){this.name=e.name,this.description=e.description,this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes,this._fields=function(e){var t=ae(e.fields)||{};return le(t)||d(0,"".concat(e.name," fields must be an object with field names as keys or a ")+"function which returns such an object."),p(t,function(t,r){return t.hasOwnProperty("resolve")&&d(0,"".concat(e.name,".").concat(r," field has a resolve property, but ")+"Input Types cannot define resolvers."),_({},t,{name:r})})}.bind(void 0,e),"string"!=typeof e.name&&d(0,"Must provide name.")}var t=e.prototype;return t.getFields=function(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields},t.toString=function(){return this.name},e}();function me(e){return F(e.type)&&void 0===e.defaultValue}u(ye),s(ye);var ve=Number.isFinite||function(e){return"number"==typeof e&&ve(e)},be=ve,ge=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var we=2147483647,Ee=-2147483648;var Se=new se({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1. ",serialize:function(e){if("boolean"==typeof e)return e?1:0;var t=e;if("string"==typeof e&&""!==e&&(t=Number(e)),!ge(t))throw new TypeError("Int cannot represent non-integer value: ".concat(f(e)));if(t>we||t<Ee)throw new TypeError("Int cannot represent non 32-bit signed integer value: ".concat(f(e)));return t},parseValue:function(e){if(!ge(e))throw new TypeError("Int cannot represent non-integer value: ".concat(f(e)));if(e>we||e<Ee)throw new TypeError("Int cannot represent non 32-bit signed integer value: ".concat(f(e)));return e},parseLiteral:function(e){if(e.kind===y.INT){var t=parseInt(e.value,10);if(t<=we&&t>=Ee)return t}}});var Te=new se({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point). ",serialize:function(e){if("boolean"==typeof e)return e?1:0;var t=e;if("string"==typeof e&&""!==e&&(t=Number(e)),!be(t))throw new TypeError("Float cannot represent non numeric value: ".concat(f(e)));return t},parseValue:function(e){if(!be(e))throw new TypeError("Float cannot represent non numeric value: ".concat(f(e)));return e},parseLiteral:function(e){return e.kind===y.FLOAT||e.kind===y.INT?parseFloat(e.value):void 0}});function Oe(e){if("object"===_e(e)&&null!==e){if("function"==typeof e.valueOf){var t=e.valueOf();if("object"!==_e(t))return t}if("function"==typeof e.toJSON)return e.toJSON()}return e}var xe=new se({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize:function(e){var t=Oe(e);if("string"==typeof t)return t;if("boolean"==typeof t)return t?"true":"false";if(be(t))return t.toString();throw new TypeError("String cannot represent value: ".concat(f(e)))},parseValue:function(e){if("string"!=typeof e)throw new TypeError("String cannot represent a non string value: ".concat(f(e)));return e},parseLiteral:function(e){return e.kind===y.STRING?e.value:void 0}});var Ae=new se({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize:function(e){if("boolean"==typeof e)return e;if(be(e))return 0!==e;throw new TypeError("Boolean cannot represent a non boolean value: ".concat(f(e)))},parseValue:function(e){if("boolean"!=typeof e)throw new TypeError("Boolean cannot represent a non boolean value: ".concat(f(e)));return e},parseLiteral:function(e){return e.kind===y.BOOLEAN?e.value:void 0}});var Ie=new se({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize:function(e){var t=Oe(e);if("string"==typeof t)return t;if(ge(t))return String(t);throw new TypeError("ID cannot represent value: ".concat(f(e)))},parseValue:function(e){if("string"==typeof e)return e;if(ge(e))return e.toString();throw new TypeError("ID cannot represent value: ".concat(f(e)))},parseLiteral:function(e){return e.kind===y.STRING||e.kind===y.INT?e.value:void 0}}),Ne=[xe,Se,Te,Ae,Ie];function je(e){return ne(e)&&(e.name===xe.name||e.name===Se.name||e.name===Te.name||e.name===Ae.name||e.name===Ie.name)}var ke=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){return c(e,Me)}function De(e){return Pe(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL directive.")),e}var Me=function(){function e(e){this.name=e.name,this.description=e.description,this.locations=e.locations,this.astNode=e.astNode,e.name||d(0,"Directive must be named."),Array.isArray(e.locations)||d(0,"@".concat(e.name," locations must be an Array."));var t=e.args||{};("object"!==Re(t)||Array.isArray(t))&&d(0,"@".concat(e.name," args must be an object with argument names as keys.")),this.args=o(t).map(function(e){var t=e[0],r=e[1];return{name:t,description:void 0===r.description?null:r.description,type:r.type,defaultValue:r.defaultValue,astNode:r.astNode}})}return e.prototype.toString=function(){return"@"+this.name},e}();u(Me),s(Me);var Ce=new Me({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[ke.FIELD,ke.FRAGMENT_SPREAD,ke.INLINE_FRAGMENT],args:{if:{type:K(Ae),description:"Included when true."}}}),Le=new Me({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[ke.FIELD,ke.FRAGMENT_SPREAD,ke.INLINE_FRAGMENT],args:{if:{type:K(Ae),description:"Skipped when true."}}}),Fe="No longer supported",Be=new Me({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[ke.FIELD_DEFINITION,ke.ENUM_VALUE],args:{reason:{type:xe,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax (as specified by [CommonMark](https://commonmark.org/).",defaultValue:Fe}}}),qe=[Ce,Le,Be];function Ue(e){return qe.some(function(t){return t.name===e.name})}var Ve="function"==typeof Symbol?Symbol:void 0,ze=Ve&&Ve.iterator,Qe=ze||"@@iterator";function Ge(e){var t=null!=e&&e.length;return"number"==typeof t&&t>=0&&t%1==0}function He(e){return Object(e)===e&&(Ge(e)||function(e){return!!Je(e)}(e))}function $e(e){var t=Je(e);if(t)return t.call(e)}function Je(e){if(null!=e){var t=ze&&e[ze]||e["@@iterator"];if("function"==typeof t)return t}}function Xe(e){this._o=e,this._i=0}function Ye(e,t,r){if(null!=e){if("function"==typeof e.forEach)return e.forEach(t,r);var n=0,i=$e(e);if(i){for(var o;!(o=i.next()).done;)if(t.call(r,o.value,n++,e),n>9999999)throw new TypeError("Near-infinite iteration.")}else if(Ge(e))for(;n<e.length;n++)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}}Xe.prototype[Qe]=function(){return this},Xe.prototype.next=function(){return void 0===this._o||this._i>=this._o.length?(this._o=void 0,{value:void 0,done:!0}):{value:this._o[this._i++],done:!1}};var Ke=Ve&&Ve.asyncIterator,We=Ke||"@@asyncIterator";function Ze(e){return!!tt(e)}function et(e){var t=tt(e);if(t)return t.call(e)}function tt(e){if(null!=e){var t=Ke&&e[Ke]||e["@@asyncIterator"];if("function"==typeof t)return t}}function rt(e){this._i=e}function nt(e){return null===e||void 0===e||e!=e}function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){if(F(t)){var r=ot(e,t.ofType);return r&&r.kind===y.NULL?null:r}if(null===e)return{kind:y.NULL};if(v(e))return null;if(C(t)){var n=t.ofType;if(He(e)){var o=[];return Ye(e,function(e){var t=ot(e,n);t&&o.push(t)}),{kind:y.LIST,values:o}}return ot(e,n)}if(D(t)){if(null===e||"object"!==it(e))return null;var a=i(t.getFields()),s=[],u=!0,c=!1,l=void 0;try{for(var d,h=a[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var p=d.value,m=ot(e[p.name],p.type);m&&s.push({kind:y.OBJECT_FIELD,name:{kind:y.NAME,value:p.name},value:m})}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}return{kind:y.OBJECT,fields:s}}if(T(t)||R(t)){var b=t.serialize(e);if(nt(b))return null;if("boolean"==typeof b)return{kind:y.BOOLEAN,value:b};if("number"==typeof b){var g=String(b);return at.test(g)?{kind:y.INT,value:g}:{kind:y.FLOAT,value:g}}if("string"==typeof b)return R(t)?{kind:y.ENUM,value:b}:t===Ie&&at.test(b)?{kind:y.INT,value:b}:{kind:y.STRING,value:b};throw new TypeError("Cannot convert value to AST: ".concat(f(b)))}throw new Error("Unknown type: ".concat(t,"."))}rt.prototype[We]=function(){return this},rt.prototype.next=function(){var e=this._i.next();return Promise.resolve(e.value).then(function(t){return{value:t,done:e.done}})};var at=/^-?(0|[1-9][0-9]*)$/,st={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ut={};function ct(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,n=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,d=[],h=[],p=e;do{var y=++a===o.length,m=y&&0!==s.length;if(y){if(c=0===h.length?void 0:d[d.length-1],u=l,l=h.pop(),m){if(i)u=u.slice();else{for(var v={},b=Object.keys(u),g=0;g<b.length;g++){var _=b[g];v[_]=u[_]}u=v}for(var w=0,E=0;E<s.length;E++){var S=s[E][0],T=s[E][1];i&&(S-=w),i&&null===T?(u.splice(S,1),w++):u[S]=T}}a=n.index,o=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(c=l?i?a:o[a]:void 0,null===(u=l?l[c]:p)||void 0===u)continue;l&&d.push(c)}var O=void 0;if(!Array.isArray(u)){if(!lt(u))throw new Error("Invalid AST Node: "+f(u));var x=ht(t,u.kind,y);if(x){if((O=x.call(t,u,c,l,d,h))===ut)break;if(!1===O){if(!y){d.pop();continue}}else if(void 0!==O&&(s.push([c,O]),!y)){if(!lt(O)){d.pop();continue}u=O}}}void 0===O&&m&&s.push([c,u]),y?d.pop():(n={inArray:i,index:a,keys:o,edits:s,prev:n},o=(i=Array.isArray(u))?u:r[u.kind]||[],a=-1,s=[],l&&h.push(l),l=u)}while(void 0!==n);return 0!==s.length&&(p=s[s.length-1][1]),p}function lt(e){return Boolean(e&&"string"==typeof e.kind)}function ft(e){var t=new Array(e.length);return{enter:function(r){for(var n=0;n<e.length;n++)if(!t[n]){var i=ht(e[n],r.kind,!1);if(i){var o=i.apply(e[n],arguments);if(!1===o)t[n]=r;else if(o===ut)t[n]=ut;else if(void 0!==o)return o}}},leave:function(r){for(var n=0;n<e.length;n++)if(t[n])t[n]===r&&(t[n]=null);else{var i=ht(e[n],r.kind,!0);if(i){var o=i.apply(e[n],arguments);if(o===ut)t[n]=ut;else if(void 0!==o&&!1!==o)return o}}}}}function dt(e,t){return{enter:function(r){e.enter(r);var n=ht(t,r.kind,!1);if(n){var i=n.apply(t,arguments);return void 0!==i&&(e.leave(r),lt(i)&&e.enter(i)),i}},leave:function(r){var n,i=ht(t,r.kind,!0);return i&&(n=i.apply(t,arguments)),e.leave(r),n}}}function ht(e,t,r){var n=e[t];if(n){if(!r&&"function"==typeof n)return n;var i=r?n.leave:n.enter;if("function"==typeof i)return i}else{var o=r?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}function pt(e){return ct(e,{leave:yt})}var yt={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return vt(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=gt("(",vt(e.variableDefinitions,", "),")"),i=vt(e.directives," "),o=e.selectionSet;return r||i||n||"query"!==t?vt([t,vt([r,n]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,r=e.type,n=e.defaultValue,i=e.directives;return t+": "+r+gt(" = ",n)+gt(" ",vt(i," "))},SelectionSet:function(e){return bt(e.selections)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,i=e.directives,o=e.selectionSet;return vt([gt("",t,": ")+r+gt("(",vt(n,", "),")"),vt(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+gt(" ",vt(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return vt(["...",gt("on ",t),vt(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(gt("(",vt(n,", "),")")," ")+"on ".concat(r," ").concat(gt("",vt(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(e,t){var r=e.replace(/"""/g,'\\"""');return wt(e)||" "!==e[0]&&"\t"!==e[0]?'"""\n'.concat(t?r:_t(r),'\n"""'):'"""'.concat(r.replace(/"$/,'"\n'),'"""')}(r,"description"===t):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+vt(e.values,", ")+"]"},ObjectValue:function(e){return"{"+vt(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+gt("(",vt(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,r=e.operationTypes;return vt(["schema",vt(t," "),bt(r)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:mt(function(e){return vt(["scalar",e.name,vt(e.directives," ")]," ")}),ObjectTypeDefinition:mt(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return vt(["type",t,gt("implements ",vt(r," & ")),vt(n," "),bt(i)]," ")}),FieldDefinition:mt(function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(Et(r)?gt("(\n",_t(vt(r,"\n")),"\n)"):gt("(",vt(r,", "),")"))+": "+n+gt(" ",vt(i," "))}),InputValueDefinition:mt(function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return vt([t+": "+r,gt("= ",n),vt(i," ")]," ")}),InterfaceTypeDefinition:mt(function(e){var t=e.name,r=e.directives,n=e.fields;return vt(["interface",t,vt(r," "),bt(n)]," ")}),UnionTypeDefinition:mt(function(e){var t=e.name,r=e.directives,n=e.types;return vt(["union",t,vt(r," "),n&&0!==n.length?"= "+vt(n," | "):""]," ")}),EnumTypeDefinition:mt(function(e){var t=e.name,r=e.directives,n=e.values;return vt(["enum",t,vt(r," "),bt(n)]," ")}),EnumValueDefinition:mt(function(e){return vt([e.name,vt(e.directives," ")]," ")}),InputObjectTypeDefinition:mt(function(e){var t=e.name,r=e.directives,n=e.fields;return vt(["input",t,vt(r," "),bt(n)]," ")}),DirectiveDefinition:mt(function(e){var t=e.name,r=e.arguments,n=e.locations;return"directive @"+t+(Et(r)?gt("(\n",_t(vt(r,"\n")),"\n)"):gt("(",vt(r,", "),")"))+" on "+vt(n," | ")}),SchemaExtension:function(e){var t=e.directives,r=e.operationTypes;return vt(["extend schema",vt(t," "),bt(r)]," ")},ScalarTypeExtension:function(e){return vt(["extend scalar",e.name,vt(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return vt(["extend type",t,gt("implements ",vt(r," & ")),vt(n," "),bt(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return vt(["extend interface",t,vt(r," "),bt(n)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return vt(["extend union",t,vt(r," "),n&&0!==n.length?"= "+vt(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return vt(["extend enum",t,vt(r," "),bt(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return vt(["extend input",t,vt(r," "),bt(n)]," ")}};function mt(e){return function(t){return vt([t.description,e(t)],"\n")}}function vt(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function bt(e){return e&&0!==e.length?"{\n"+_t(vt(e,"\n"))+"\n}":""}function gt(e,t,r){return t?e+t+(r||""):""}function _t(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function wt(e){return-1!==e.indexOf("\n")}function Et(e){return e&&e.some(wt)}var St=new ue({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:function(){return{types:{description:"A list of all types supported by this server.",type:K(Y(K(xt))),resolve:function(e){return i(e.getTypeMap())}},queryType:{description:"The type that query operations will be rooted at.",type:K(xt),resolve:function(e){return e.getQueryType()}},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:xt,resolve:function(e){return e.getMutationType()}},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:xt,resolve:function(e){return e.getSubscriptionType()}},directives:{description:"A list of all directives supported by this server.",type:K(Y(K(Tt))),resolve:function(e){return e.getDirectives()}}}}}),Tt=new ue({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:function(){return{name:{type:K(xe),resolve:function(e){return e.name}},description:{type:xe,resolve:function(e){return e.description}},locations:{type:K(Y(K(Ot))),resolve:function(e){return e.locations}},args:{type:K(Y(K(It))),resolve:function(e){return e.args||[]}}}}}),Ot=new pe({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:ke.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:ke.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:ke.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:ke.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:ke.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:ke.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:ke.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:ke.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:ke.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:ke.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:ke.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:ke.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:ke.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:ke.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:ke.UNION,description:"Location adjacent to a union definition."},ENUM:{value:ke.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:ke.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:ke.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:ke.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),xt=new ue({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name and description, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:function(){return{kind:{type:K(kt),resolve:function(e){if(T(e))return jt.SCALAR;if(x(e))return jt.OBJECT;if(I(e))return jt.INTERFACE;if(j(e))return jt.UNION;if(R(e))return jt.ENUM;if(D(e))return jt.INPUT_OBJECT;if(C(e))return jt.LIST;if(F(e))return jt.NON_NULL;throw new Error("Unknown kind of type: "+e)}},name:{type:xe,resolve:function(e){return e.name}},description:{type:xe,resolve:function(e){return e.description}},fields:{type:Y(K(At)),args:{includeDeprecated:{type:Ae,defaultValue:!1}},resolve:function(e,t){var r=t.includeDeprecated;if(x(e)||I(e)){var n=i(e.getFields());return r||(n=n.filter(function(e){return!e.deprecationReason})),n}return null}},interfaces:{type:Y(K(xt)),resolve:function(e){if(x(e))return e.getInterfaces()}},possibleTypes:{type:Y(K(xt)),resolve:function(e,t,r,n){var i=n.schema;if(J(e))return i.getPossibleTypes(e)}},enumValues:{type:Y(K(Nt)),args:{includeDeprecated:{type:Ae,defaultValue:!1}},resolve:function(e,t){var r=t.includeDeprecated;if(R(e)){var n=e.getValues();return r||(n=n.filter(function(e){return!e.deprecationReason})),n}}},inputFields:{type:Y(K(It)),resolve:function(e){if(D(e))return i(e.getFields())}},ofType:{type:xt,resolve:function(e){return e.ofType}}}}}),At=new ue({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:function(){return{name:{type:K(xe),resolve:function(e){return e.name}},description:{type:xe,resolve:function(e){return e.description}},args:{type:K(Y(K(It))),resolve:function(e){return e.args||[]}},type:{type:K(xt),resolve:function(e){return e.type}},isDeprecated:{type:K(Ae),resolve:function(e){return e.isDeprecated}},deprecationReason:{type:xe,resolve:function(e){return e.deprecationReason}}}}}),It=new ue({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:function(){return{name:{type:K(xe),resolve:function(e){return e.name}},description:{type:xe,resolve:function(e){return e.description}},type:{type:K(xt),resolve:function(e){return e.type}},defaultValue:{type:xe,description:"A GraphQL-formatted string representing the default value for this input value.",resolve:function(e){return v(e.defaultValue)?null:pt(ot(e.defaultValue,e.type))}}}}}),Nt=new ue({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:function(){return{name:{type:K(xe),resolve:function(e){return e.name}},description:{type:xe,resolve:function(e){return e.description}},isDeprecated:{type:K(Ae),resolve:function(e){return e.isDeprecated}},deprecationReason:{type:xe,resolve:function(e){return e.deprecationReason}}}}}),jt={SCALAR:"SCALAR",OBJECT:"OBJECT",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",INPUT_OBJECT:"INPUT_OBJECT",LIST:"LIST",NON_NULL:"NON_NULL"},kt=new pe({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:jt.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:jt.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:jt.INTERFACE,description:"Indicates this type is an interface. `fields` and `possibleTypes` are valid fields."},UNION:{value:jt.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:jt.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:jt.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:jt.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:jt.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),Rt={name:"__schema",type:K(St),description:"Access the current type schema of this server.",args:[],resolve:function(e,t,r,n){return n.schema}},Pt={name:"__type",type:xt,description:"Request the type information of a single type.",args:[{name:"name",type:K(xe)}],resolve:function(e,t,r,n){var i=t.name;return n.schema.getType(i)}},Dt={name:"__typename",type:K(xe),description:"The name of the current Object type at runtime.",args:[],resolve:function(e,t,r,n){return n.parentType.name}},Mt=[St,Tt,Ot,xt,At,It,Nt,kt];function Ct(e){return ne(e)&&(e.name===St.name||e.name===Tt.name||e.name===Ot.name||e.name===xt.name||e.name===At.name||e.name===It.name||e.name===Nt.name||e.name===kt.name)}function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e){return c(e,qt)}function Bt(e){return Ft(e)||d(0,"Expected ".concat(f(e)," to be a GraphQL schema.")),e}var qt=function(){function e(e){e&&e.assumeValid?this.__validationErrors=[]:(this.__validationErrors=void 0,"object"!==Lt(e)&&d(0,"Must provide configuration object."),e.types&&!Array.isArray(e.types)&&d(0,'"types" must be Array if provided but got: '.concat(f(e.types),".")),e.directives&&!Array.isArray(e.directives)&&d(0,'"directives" must be Array if provided but got: '+"".concat(f(e.directives),".")),e.allowedLegacyNames&&!Array.isArray(e.allowedLegacyNames)&&d(0,'"allowedLegacyNames" must be Array if provided but got: '+"".concat(f(e.allowedLegacyNames),"."))),this.__allowedLegacyNames=e.allowedLegacyNames||[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=e.directives||qe,this.astNode=e.astNode,this.extensionASTNodes=e.extensionASTNodes;var t=[this.getQueryType(),this.getMutationType(),this.getSubscriptionType(),St],r=e.types;r&&(t=t.concat(r));var n=Object.create(null);n=t.reduce(Ut,n),n=this._directives.reduce(Vt,n),this._typeMap=n,this._possibleTypeMap=Object.create(null),this._implementations=Object.create(null);var o=!0,a=!1,s=void 0;try{for(var u,c=i(this._typeMap)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(x(l)){var h=!0,p=!1,y=void 0;try{for(var m,v=l.getInterfaces()[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var b=m.value;if(I(b)){var g=this._implementations[b.name];g?g.push(l):this._implementations[b.name]=[l]}}}catch(e){p=!0,y=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw y}}}else J(l)&&!this._implementations[l.name]&&(this._implementations[l.name]=[])}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}var t=e.prototype;return t.getQueryType=function(){return this._queryType},t.getMutationType=function(){return this._mutationType},t.getSubscriptionType=function(){return this._subscriptionType},t.getTypeMap=function(){return this._typeMap},t.getType=function(e){return this.getTypeMap()[e]},t.getPossibleTypes=function(e){return j(e)?e.getTypes():this._implementations[e.name]},t.isPossibleType=function(e,t){var r=this._possibleTypeMap;if(!r[e.name]){var n=this.getPossibleTypes(e);r[e.name]=n.reduce(function(e,t){return e[t.name]=!0,e},Object.create(null))}return Boolean(r[e.name][t.name])},t.getDirectives=function(){return this._directives},t.getDirective=function(e){return n(this.getDirectives(),function(t){return t.name===e})},e}();function Ut(e,t){if(!t)return e;if(W(t))return Ut(e,t.ofType);if(e[t.name])return e[t.name]!==t&&d(0,"Schema must contain unique named types but contains multiple "+'types named "'.concat(t.name,'".')),e;e[t.name]=t;var r=e;if(j(t)&&(r=t.getTypes().reduce(Ut,r)),x(t)&&(r=t.getInterfaces().reduce(Ut,r)),x(t)||I(t)){var n=!0,o=!1,a=void 0;try{for(var s,u=i(t.getFields())[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;if(c.args)r=c.args.map(function(e){return e.type}).reduce(Ut,r);r=Ut(r,c.type)}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}}if(D(t)){var l=!0,f=!1,h=void 0;try{for(var p,y=i(t.getFields())[Symbol.iterator]();!(l=(p=y.next()).done);l=!0){r=Ut(r,p.value.type)}}catch(e){f=!0,h=e}finally{try{l||null==y.return||y.return()}finally{if(f)throw h}}}return r}function Vt(e,t){return Pe(t)?t.args.reduce(function(e,t){return Ut(e,t.type)},e):e}function zt(e,t){for(var r,n=/\r\n|[\n\r]/g,i=1,o=t+1;(r=n.exec(e.body))&&r.index<t;)i+=1,o=t+1-(r.index+r[0].length);return{line:i,column:o}}function Qt(e){var t=[];if(e.nodes){var r=!0,n=!1,i=void 0;try{for(var o,a=e.nodes[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;s.loc&&t.push(Gt(s.loc.source,zt(s.loc.source,s.loc.start)))}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}}else if(e.source&&e.locations){var u=e.source,c=!0,l=!1,f=void 0;try{for(var d,h=e.locations[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value;t.push(Gt(u,p))}}catch(e){l=!0,f=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}}return 0===t.length?e.message:[e.message].concat(t).join("\n\n")+"\n"}function Gt(e,t){var r=e.locationOffset.column-1,n=Ht(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?r:0,u=t.column+s,c=n.split(/\r\n|[\n\r]/g);return"".concat(e.name," (").concat(a,":").concat(u,")\n")+function(e){var t=e.filter(function(e){e[0];var t=e[1];return void 0!==t}),r=0,n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=u[0];r=Math.max(r,c.length)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return t.map(function(e){var t=e[0],n=e[1];return function(e,t){return Ht(e-t.length)+t}(r,t)+n}).join("\n")}([["".concat(a-1,": "),c[i-1]],["".concat(a,": "),c[i]],["",Ht(u-1)+"^"],["".concat(a+1,": "),c[i+1]]])}function Ht(e){return Array(e+1).join(" ")}function $t(e,t,r,n,i,o,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,u=r;if(!u&&s){var c=s[0];u=c&&c.loc&&c.loc.source}var l,f=n;!f&&s&&(f=s.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),f&&0===f.length&&(f=void 0),n&&r?l=n.map(function(e){return zt(r,e)}):s&&(l=s.reduce(function(e,t){return t.loc&&e.push(zt(t.loc.source,t.loc.start)),e},[]));var d=a||o&&o.extensions;Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:s||void 0},source:{value:u||void 0},positions:{value:f||void 0},originalError:{value:o},extensions:{value:d||void 0,enumerable:Boolean(d)}}),o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,$t):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}u(qt),$t.prototype=Object.create(Error.prototype,{constructor:{value:$t},name:{value:"GraphQLError"},toString:{value:function(){return Qt(this)}}});var Jt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;function Xt(e){var t=Yt(e);if(t)throw t;return e}function Yt(e,t){return"string"!=typeof e&&d(0,"Expected string"),e.length>1&&"_"===e[0]&&"_"===e[1]?new $t('Name "'.concat(e,'" must not begin with "__", which is reserved by ')+"GraphQL introspection.",t):Jt.test(e)?void 0:new $t('Names must match /^[_a-zA-Z][_a-zA-Z0-9]*$/ but "'.concat(e,'" does not.'),t)}function Kt(e,t){return e===t||(F(e)&&F(t)?Kt(e.ofType,t.ofType):!(!C(e)||!C(t))&&Kt(e.ofType,t.ofType))}function Wt(e,t,r){return t===r||(F(r)?!!F(t)&&Wt(e,t.ofType,r.ofType):F(t)?Wt(e,t.ofType,r):C(r)?!!C(t)&&Wt(e,t.ofType,r.ofType):!C(t)&&!!(J(r)&&x(t)&&e.isPossibleType(r,t)))}function Zt(e,t,r){return t===r||(J(t)?J(r)?e.getPossibleTypes(t).some(function(t){return e.isPossibleType(r,t)}):e.isPossibleType(t,r):!!J(r)&&e.isPossibleType(r,t))}function er(e){if(Bt(e),e.__validationErrors)return e.__validationErrors;var t=new rr(e);!function(e){var t=e.schema,r=t.getQueryType();r?x(r)||e.reportError("Query root type must be Object type, it cannot be ".concat(f(r),"."),nr(t,r,"query")):e.reportError("Query root type must be provided.",t.astNode);var n=t.getMutationType();n&&!x(n)&&e.reportError("Mutation root type must be Object type if provided, it cannot be "+"".concat(f(n),"."),nr(t,n,"mutation"));var i=t.getSubscriptionType();i&&!x(i)&&e.reportError("Subscription root type must be Object type if provided, it cannot be "+"".concat(f(i),"."),nr(t,i,"subscription"))}(t),function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=e.schema.getDirectives()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(Pe(a)){ir(e,a);var s=Object.create(null),u=!0,c=!1,l=void 0;try{for(var d,h=a.args[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var p=d.value,y=p.name;ir(e,p),s[y]?e.reportError("Argument @".concat(a.name,"(").concat(y,":) can only be defined once."),_r(a,y)):(s[y]=!0,q(p.type)||e.reportError("The type of @".concat(a.name,"(").concat(y,":) must be Input Type ")+"but got: ".concat(f(p.type),"."),wr(a,y)))}}catch(e){c=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw l}}}else e.reportError("Expected directive but got: ".concat(f(a),"."),a&&a.astNode)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}}(t),function(e){var t=e.schema.getTypeMap(),r=!0,n=!1,o=void 0;try{for(var a,s=i(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;ne(u)?(Ct(u)||ir(e,u),x(u)?(or(e,u),ar(e,u)):I(u)?or(e,u):j(u)?ur(e,u):R(u)?cr(e,u):D(u)&&lr(e,u)):e.reportError("Expected GraphQL named type but got: ".concat(f(u),"."),u&&u.astNode)}}catch(e){n=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}(t);var r=t.getErrors();return e.__validationErrors=r,r}function tr(e){var t=er(e);if(0!==t.length)throw new Error(t.map(function(e){return e.message}).join("\n\n"))}var rr=function(){function e(e){this._errors=[],this.schema=e}var t=e.prototype;return t.reportError=function(e,t){var r=(Array.isArray(t)?t:[t]).filter(Boolean);this.addError(new $t(e,r))},t.addError=function(e){this._errors.push(e)},t.getErrors=function(){return this._errors},e}();function nr(e,t,r){var n=dr(e,function(e){return e.operationTypes}),i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(c.operation===r)return c.type}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return t.astNode}function ir(e,t){if(-1===e.schema.__allowedLegacyNames.indexOf(t.name)){var r=Yt(t.name,t.astNode||void 0);r&&e.addError(r)}}function or(e,t){var r=i(t.getFields());0===r.length&&e.reportError("Type ".concat(t.name," must define one or more fields."),fr(t));var n=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;ir(e,c),V(c.type)||e.reportError("The type of ".concat(t.name,".").concat(c.name," must be Output Type ")+"but got: ".concat(f(c.type),"."),mr(t,c.name));var l=Object.create(null),d=!0,h=!1,p=void 0;try{for(var y,m=c.args[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var v=y.value,b=v.name;ir(e,v),l[b]&&e.reportError("Field argument ".concat(t.name,".").concat(c.name,"(").concat(b,":) can only ")+"be defined once.",br(t,c.name,b)),l[b]=!0,q(v.type)||e.reportError("The type of ".concat(t.name,".").concat(c.name,"(").concat(b,":) must be Input ")+"Type but got: ".concat(f(v.type),"."),gr(t,c.name,b))}}catch(e){h=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(h)throw p}}}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}}function ar(e,t){var r=Object.create(null),n=!0,i=!1,o=void 0;try{for(var a,s=t.getInterfaces()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;I(u)?r[u.name]?e.reportError("Type ".concat(t.name," can only implement ").concat(u.name," once."),pr(t,u)):(r[u.name]=!0,sr(e,t,u)):e.reportError("Type ".concat(f(t)," must only implement Interface types, ")+"it cannot implement ".concat(f(u),"."),hr(t,u))}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}function sr(e,t,r){var i=t.getFields(),a=r.getFields(),s=!0,u=!1,c=void 0;try{for(var l,d=o(a)[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var h=l.value,p=h[0],y=h[1],m=i[p];if(m){Wt(e.schema,m.type,y.type)||e.reportError("Interface field ".concat(r.name,".").concat(p," expects type ")+"".concat(f(y.type)," but ").concat(t.name,".").concat(p," ")+"is type ".concat(f(m.type),"."),[mr(r,p),mr(t,p)]);var v=!0,b=!1,g=void 0;try{for(var _,w=function(){var i=_.value,o=i.name,a=n(m.args,function(e){return e.name===o});if(!a)return e.reportError("Interface field argument ".concat(r.name,".").concat(p,"(").concat(o,":) ")+"expected but ".concat(t.name,".").concat(p," does not provide it."),[vr(r,p,o),yr(t,p)]),"continue";Kt(i.type,a.type)||e.reportError("Interface field argument ".concat(r.name,".").concat(p,"(").concat(o,":) ")+"expects type ".concat(f(i.type)," but ")+"".concat(t.name,".").concat(p,"(").concat(o,":) is type ")+"".concat(f(a.type),"."),[gr(r,p,o),gr(t,p,o)])},E=y.args[Symbol.iterator]();!(v=(_=E.next()).done);v=!0)w()}catch(e){b=!0,g=e}finally{try{v||null==E.return||E.return()}finally{if(b)throw g}}var S=!0,T=!1,O=void 0;try{for(var x,A=function(){var i=x.value,o=i.name;!n(y.args,function(e){return e.name===o})&&fe(i)&&e.reportError("Object field ".concat(t.name,".").concat(p," includes required ")+"argument ".concat(o," that is missing from the Interface field ")+"".concat(r.name,".").concat(p,"."),[vr(t,p,o),yr(r,p)])},I=m.args[Symbol.iterator]();!(S=(x=I.next()).done);S=!0)A()}catch(e){T=!0,O=e}finally{try{S||null==I.return||I.return()}finally{if(T)throw O}}}else e.reportError("Interface field ".concat(r.name,".").concat(p," expected but ")+"".concat(t.name," does not provide it."),[yr(r,p)].concat(fr(t)))}}catch(e){u=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}function ur(e,t){var r=t.getTypes();0===r.length&&e.reportError("Union type ".concat(t.name," must define one or more member types."),fr(t));var n=Object.create(null),i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c.name]?e.reportError("Union type ".concat(t.name," can only include type ")+"".concat(c.name," once."),Er(t,c.name)):(n[c.name]=!0,x(c)||e.reportError("Union type ".concat(t.name," can only include Object types, ")+"it cannot include ".concat(f(c),"."),Er(t,String(c))))}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}function cr(e,t){var r=t.getValues();0===r.length&&e.reportError("Enum type ".concat(t.name," must define one or more values."),fr(t));var n=!0,i=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=u.name;ir(e,u),"true"!==c&&"false"!==c&&"null"!==c||e.reportError("Enum type ".concat(t.name," cannot include value: ").concat(c,"."),u.astNode)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}function lr(e,t){var r=i(t.getFields());0===r.length&&e.reportError("Input Object type ".concat(t.name," must define one or more fields."),fr(t));var n=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;ir(e,c),q(c.type)||e.reportError("The type of ".concat(t.name,".").concat(c.name," must be Input Type ")+"but got: ".concat(f(c.type),"."),c.astNode&&c.astNode.type)}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}}function fr(e){var t=e.astNode,r=e.extensionASTNodes;return t?r?[t].concat(r):[t]:r||[]}function dr(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=fr(e)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(u){var c=t(u);c&&(r=r.concat(c))}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}function hr(e,t){return pr(e,t)[0]}function pr(e,t){return dr(e,function(e){return e.interfaces}).filter(function(e){return e.name.value===t.name})}function yr(e,t){return n(dr(e,function(e){return e.fields}),function(e){return e.name.value===t})}function mr(e,t){var r=yr(e,t);return r&&r.type}function vr(e,t,r){return br(e,t,r)[0]}function br(e,t,r){var n=[],i=yr(e,t);if(i&&i.arguments){var o=!0,a=!1,s=void 0;try{for(var u,c=i.arguments[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;l.name.value===r&&n.push(l)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}return n}function gr(e,t,r){var n=vr(e,t,r);return n&&n.type}function _r(e,t){return dr(e,function(e){return e.arguments}).filter(function(e){return e.name.value===t})}function wr(e,t){var r=_r(e,t)[0];return r&&r.type}function Er(e,t){return dr(e,function(e){return e.types}).filter(function(e){return e.name.value===t})}var Sr=function(e,t,r){this.body=e,this.name=t||"GraphQL request",this.locationOffset=r||{line:1,column:1},this.locationOffset.line>0||d(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||d(0,"column in locationOffset is 1-indexed and must be positive")};function Tr(e,t,r){return new $t("Syntax Error: ".concat(r),void 0,e,[t])}function Or(e){for(var t=e.split(/\r\n|[\n\r]/g),r=null,n=1;n<t.length;n++){var i=t[n],o=xr(i);if(o<i.length&&(null===r||o<r)&&0===(r=o))break}if(r)for(var a=1;a<t.length;a++)t[a]=t[a].slice(r);for(;t.length>0&&Ar(t[0]);)t.shift();for(;t.length>0&&Ar(t[t.length-1]);)t.pop();return t.join("\n")}function xr(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function Ar(e){return xr(e)===e.length}function Ir(e,t){var r=new Mr(kr.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:r,token:r,line:1,lineStart:0,advance:Nr,lookahead:jr}}function Nr(){return this.lastToken=this.token,this.token=this.lookahead()}function jr(){var e=this.token;if(e.kind!==kr.EOF)do{e=e.next||(e.next=Lr(this,e))}while(e.kind===kr.COMMENT);return e}u(Sr);var kr=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Rr(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}var Pr=String.prototype.charCodeAt,Dr=String.prototype.slice;function Mr(e,t,r,n,i,o,a){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=a,this.prev=o,this.next=null}function Cr(e){return isNaN(e)?kr.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Lr(e,t){var r=e.source,n=r.body,i=n.length,o=function(e,t,r){var n=e.length,i=t;for(;i<n;){var o=Pr.call(e,i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++r.line,r.lineStart=i;else{if(13!==o)break;10===Pr.call(e,i+1)?i+=2:++i,++r.line,r.lineStart=i}}return i}(n,t.end,e),a=e.line,s=1+o-e.lineStart;if(o>=i)return new Mr(kr.EOF,i,i,a,s,t);var u=Pr.call(n,o);switch(u){case 33:return new Mr(kr.BANG,o,o+1,a,s,t);case 35:return function(e,t,r,n,i){var o,a=e.body,s=t;do{o=Pr.call(a,++s)}while(null!==o&&(o>31||9===o));return new Mr(kr.COMMENT,t,s,r,n,i,Dr.call(a,t+1,s))}(r,o,a,s,t);case 36:return new Mr(kr.DOLLAR,o,o+1,a,s,t);case 38:return new Mr(kr.AMP,o,o+1,a,s,t);case 40:return new Mr(kr.PAREN_L,o,o+1,a,s,t);case 41:return new Mr(kr.PAREN_R,o,o+1,a,s,t);case 46:if(46===Pr.call(n,o+1)&&46===Pr.call(n,o+2))return new Mr(kr.SPREAD,o,o+3,a,s,t);break;case 58:return new Mr(kr.COLON,o,o+1,a,s,t);case 61:return new Mr(kr.EQUALS,o,o+1,a,s,t);case 64:return new Mr(kr.AT,o,o+1,a,s,t);case 91:return new Mr(kr.BRACKET_L,o,o+1,a,s,t);case 93:return new Mr(kr.BRACKET_R,o,o+1,a,s,t);case 123:return new Mr(kr.BRACE_L,o,o+1,a,s,t);case 124:return new Mr(kr.PIPE,o,o+1,a,s,t);case 125:return new Mr(kr.BRACE_R,o,o+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,r,n,i){var o=e.body,a=o.length,s=t+1,u=0;for(;s!==a&&null!==(u=Pr.call(o,s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new Mr(kr.NAME,t,s,r,n,i,Dr.call(o,t,s))}(r,o,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,r,n,i,o){var a=e.body,s=r,u=t,c=!1;45===s&&(s=Pr.call(a,++u));if(48===s){if((s=Pr.call(a,++u))>=48&&s<=57)throw Tr(e,u,"Invalid number, unexpected digit after 0: ".concat(Cr(s),"."))}else u=Fr(e,u,s),s=Pr.call(a,u);46===s&&(c=!0,s=Pr.call(a,++u),u=Fr(e,u,s),s=Pr.call(a,u));69!==s&&101!==s||(c=!0,43!==(s=Pr.call(a,++u))&&45!==s||(s=Pr.call(a,++u)),u=Fr(e,u,s));return new Mr(c?kr.FLOAT:kr.INT,t,u,n,i,o,Dr.call(a,t,u))}(r,o,u,a,s,t);case 34:return 34===Pr.call(n,o+1)&&34===Pr.call(n,o+2)?function(e,t,r,n,i,o){var a=e.body,s=t+3,u=s,c=0,l="";for(;s<a.length&&null!==(c=Pr.call(a,s));){if(34===c&&34===Pr.call(a,s+1)&&34===Pr.call(a,s+2))return l+=Dr.call(a,u,s),new Mr(kr.BLOCK_STRING,t,s+3,r,n,i,Or(l));if(c<32&&9!==c&&10!==c&&13!==c)throw Tr(e,s,"Invalid character within String: ".concat(Cr(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===Pr.call(a,s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===Pr.call(a,s+1)&&34===Pr.call(a,s+2)&&34===Pr.call(a,s+3)?(l+=Dr.call(a,u,s)+'"""',u=s+=4):++s}throw Tr(e,s,"Unterminated string.")}(r,o,a,s,t,e):function(e,t,r,n,i){var o=e.body,a=t+1,s=a,u=0,c="";for(;a<o.length&&null!==(u=Pr.call(o,a))&&10!==u&&13!==u;){if(34===u)return c+=Dr.call(o,s,a),new Mr(kr.STRING,t,a+1,r,n,i,c);if(u<32&&9!==u)throw Tr(e,a,"Invalid character within String: ".concat(Cr(u),"."));if(++a,92===u){switch(c+=Dr.call(o,s,a-1),u=Pr.call(o,a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=Br(Pr.call(o,a+1),Pr.call(o,a+2),Pr.call(o,a+3),Pr.call(o,a+4));if(l<0)throw Tr(e,a,"Invalid character escape sequence: "+"\\u".concat(o.slice(a+1,a+5),"."));c+=String.fromCharCode(l),a+=4;break;default:throw Tr(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}s=++a}}throw Tr(e,a,"Unterminated string.")}(r,o,a,s,t)}throw Tr(r,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(Cr(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(Cr(e),".")}(u))}function Fr(e,t,r){var n=e.body,i=t,o=r;if(o>=48&&o<=57){do{o=Pr.call(n,++i)}while(o>=48&&o<=57);return i}throw Tr(e,i,"Invalid number, expected digit but got: ".concat(Cr(o),"."))}function Br(e,t,r,n){return qr(e)<<12|qr(t)<<8|qr(r)<<4|qr(n)}function qr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ur(e,t){var r="string"==typeof e?new Sr(e):e;if(!(r instanceof Sr))throw new TypeError("Must provide Source. Received: ".concat(f(r)));return function(e){var t=e.token;return{kind:y.DOCUMENT,definitions:Cn(e,kr.SOF,Gr,kr.EOF),loc:In(e,t)}}(Ir(r,t||{}))}function Vr(e,t){var r=Ir("string"==typeof e?new Sr(e):e,t||{});Rn(r,kr.SOF);var n=on(r,!1);return Rn(r,kr.EOF),n}function zr(e,t){var r=Ir("string"==typeof e?new Sr(e):e,t||{});Rn(r,kr.SOF);var n=dn(r);return Rn(r,kr.EOF),n}function Qr(e){var t=Rn(e,kr.NAME);return{kind:y.NAME,value:t.value,loc:In(e,t)}}function Gr(e){if(jn(e,kr.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":case"fragment":return Hr(e);case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return pn(e);case"extend":return function(e){var t=e.lookahead();if(t.kind===kr.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Dn(e,"extend"),Dn(e,"schema");var r=ln(e,!0),n=jn(e,kr.BRACE_L)?Cn(e,kr.BRACE_L,vn,kr.BRACE_R):[];if(0===r.length&&0===n.length)throw Mn(e);return{kind:y.SCHEMA_EXTENSION,directives:r,operationTypes:n,loc:In(e,t)}}(e);case"scalar":return function(e){var t=e.token;Dn(e,"extend"),Dn(e,"scalar");var r=Qr(e),n=ln(e,!0);if(0===n.length)throw Mn(e);return{kind:y.SCALAR_TYPE_EXTENSION,name:r,directives:n,loc:In(e,t)}}(e);case"type":return function(e){var t=e.token;Dn(e,"extend"),Dn(e,"type");var r=Qr(e),n=bn(e),i=ln(e,!0),o=gn(e);if(0===n.length&&0===i.length&&0===o.length)throw Mn(e);return{kind:y.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:o,loc:In(e,t)}}(e);case"interface":return function(e){var t=e.token;Dn(e,"extend"),Dn(e,"interface");var r=Qr(e),n=ln(e,!0),i=gn(e);if(0===n.length&&0===i.length)throw Mn(e);return{kind:y.INTERFACE_TYPE_EXTENSION,name:r,directives:n,fields:i,loc:In(e,t)}}(e);case"union":return function(e){var t=e.token;Dn(e,"extend"),Dn(e,"union");var r=Qr(e),n=ln(e,!0),i=Sn(e);if(0===n.length&&0===i.length)throw Mn(e);return{kind:y.UNION_TYPE_EXTENSION,name:r,directives:n,types:i,loc:In(e,t)}}(e);case"enum":return function(e){var t=e.token;Dn(e,"extend"),Dn(e,"enum");var r=Qr(e),n=ln(e,!0),i=Tn(e);if(0===n.length&&0===i.length)throw Mn(e);return{kind:y.ENUM_TYPE_EXTENSION,name:r,directives:n,values:i,loc:In(e,t)}}(e);case"input":return function(e){var t=e.token;Dn(e,"extend"),Dn(e,"input");var r=Qr(e),n=ln(e,!0),i=xn(e);if(0===n.length&&0===i.length)throw Mn(e);return{kind:y.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:i,loc:In(e,t)}}(e)}throw Mn(e,t)}(e)}else{if(jn(e,kr.BRACE_L))return Hr(e);if(yn(e))return pn(e)}throw Mn(e)}function Hr(e){if(jn(e,kr.NAME))switch(e.token.value){case"query":case"mutation":case"subscription":return $r(e);case"fragment":return function(e){var t=e.token;if(Dn(e,"fragment"),e.options.experimentalFragmentVariables)return{kind:y.FRAGMENT_DEFINITION,name:nn(e),variableDefinitions:Xr(e),typeCondition:(Dn(e,"on"),hn(e)),directives:ln(e,!1),selectionSet:Wr(e),loc:In(e,t)};return{kind:y.FRAGMENT_DEFINITION,name:nn(e),typeCondition:(Dn(e,"on"),hn(e)),directives:ln(e,!1),selectionSet:Wr(e),loc:In(e,t)}}(e)}else if(jn(e,kr.BRACE_L))return $r(e);throw Mn(e)}function $r(e){var t=e.token;if(jn(e,kr.BRACE_L))return{kind:y.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:Wr(e),loc:In(e,t)};var r,n=Jr(e);return jn(e,kr.NAME)&&(r=Qr(e)),{kind:y.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:Xr(e),directives:ln(e,!1),selectionSet:Wr(e),loc:In(e,t)}}function Jr(e){var t=Rn(e,kr.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw Mn(e,t)}function Xr(e){return jn(e,kr.PAREN_L)?Cn(e,kr.PAREN_L,Yr,kr.PAREN_R):[]}function Yr(e){var t=e.token;return{kind:y.VARIABLE_DEFINITION,variable:Kr(e),type:(Rn(e,kr.COLON),dn(e)),defaultValue:kn(e,kr.EQUALS)?on(e,!0):void 0,directives:ln(e,!0),loc:In(e,t)}}function Kr(e){var t=e.token;return Rn(e,kr.DOLLAR),{kind:y.VARIABLE,name:Qr(e),loc:In(e,t)}}function Wr(e){var t=e.token;return{kind:y.SELECTION_SET,selections:Cn(e,kr.BRACE_L,Zr,kr.BRACE_R),loc:In(e,t)}}function Zr(e){return jn(e,kr.SPREAD)?function(e){var t=e.token;Rn(e,kr.SPREAD);var r=Pn(e,"on");if(!r&&jn(e,kr.NAME))return{kind:y.FRAGMENT_SPREAD,name:nn(e),directives:ln(e,!1),loc:In(e,t)};return{kind:y.INLINE_FRAGMENT,typeCondition:r?hn(e):void 0,directives:ln(e,!1),selectionSet:Wr(e),loc:In(e,t)}}(e):function(e){var t,r,n=e.token,i=Qr(e);kn(e,kr.COLON)?(t=i,r=Qr(e)):r=i;return{kind:y.FIELD,alias:t,name:r,arguments:en(e,!1),directives:ln(e,!1),selectionSet:jn(e,kr.BRACE_L)?Wr(e):void 0,loc:In(e,n)}}(e)}function en(e,t){var r=t?rn:tn;return jn(e,kr.PAREN_L)?Cn(e,kr.PAREN_L,r,kr.PAREN_R):[]}function tn(e){var t=e.token;return{kind:y.ARGUMENT,name:Qr(e),value:(Rn(e,kr.COLON),on(e,!1)),loc:In(e,t)}}function rn(e){var t=e.token;return{kind:y.ARGUMENT,name:Qr(e),value:(Rn(e,kr.COLON),sn(e)),loc:In(e,t)}}function nn(e){if("on"===e.token.value)throw Mn(e);return Qr(e)}function on(e,t){var r=e.token;switch(r.kind){case kr.BRACKET_L:return function(e,t){var r=e.token,n=t?sn:un;return{kind:y.LIST,values:function(e,t,r,n){Rn(e,t);var i=[];for(;!kn(e,n);)i.push(r(e));return i}(e,kr.BRACKET_L,n,kr.BRACKET_R),loc:In(e,r)}}(e,t);case kr.BRACE_L:return function(e,t){var r=e.token;Rn(e,kr.BRACE_L);var n=[];for(;!kn(e,kr.BRACE_R);)n.push(cn(e,t));return{kind:y.OBJECT,fields:n,loc:In(e,r)}}(e,t);case kr.INT:return e.advance(),{kind:y.INT,value:r.value,loc:In(e,r)};case kr.FLOAT:return e.advance(),{kind:y.FLOAT,value:r.value,loc:In(e,r)};case kr.STRING:case kr.BLOCK_STRING:return an(e);case kr.NAME:return"true"===r.value||"false"===r.value?(e.advance(),{kind:y.BOOLEAN,value:"true"===r.value,loc:In(e,r)}):"null"===r.value?(e.advance(),{kind:y.NULL,loc:In(e,r)}):(e.advance(),{kind:y.ENUM,value:r.value,loc:In(e,r)});case kr.DOLLAR:if(!t)return Kr(e)}throw Mn(e)}function an(e){var t=e.token;return e.advance(),{kind:y.STRING,value:t.value,block:t.kind===kr.BLOCK_STRING,loc:In(e,t)}}function sn(e){return on(e,!0)}function un(e){return on(e,!1)}function cn(e,t){var r=e.token;return{kind:y.OBJECT_FIELD,name:Qr(e),value:(Rn(e,kr.COLON),on(e,t)),loc:In(e,r)}}function ln(e,t){for(var r=[];jn(e,kr.AT);)r.push(fn(e,t));return r}function fn(e,t){var r=e.token;return Rn(e,kr.AT),{kind:y.DIRECTIVE,name:Qr(e),arguments:en(e,t),loc:In(e,r)}}function dn(e){var t,r=e.token;return kn(e,kr.BRACKET_L)?(t=dn(e),Rn(e,kr.BRACKET_R),t={kind:y.LIST_TYPE,type:t,loc:In(e,r)}):t=hn(e),kn(e,kr.BANG)?{kind:y.NON_NULL_TYPE,type:t,loc:In(e,r)}:t}function hn(e){var t=e.token;return{kind:y.NAMED_TYPE,name:Qr(e),loc:In(e,t)}}function pn(e){var t=yn(e)?e.lookahead():e.token;if(t.kind===kr.NAME)switch(t.value){case"schema":return function(e){var t=e.token;Dn(e,"schema");var r=ln(e,!0),n=Cn(e,kr.BRACE_L,vn,kr.BRACE_R);return{kind:y.SCHEMA_DEFINITION,directives:r,operationTypes:n,loc:In(e,t)}}(e);case"scalar":return function(e){var t=e.token,r=mn(e);Dn(e,"scalar");var n=Qr(e),i=ln(e,!0);return{kind:y.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:i,loc:In(e,t)}}(e);case"type":return function(e){var t=e.token,r=mn(e);Dn(e,"type");var n=Qr(e),i=bn(e),o=ln(e,!0),a=gn(e);return{kind:y.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:o,fields:a,loc:In(e,t)}}(e);case"interface":return function(e){var t=e.token,r=mn(e);Dn(e,"interface");var n=Qr(e),i=ln(e,!0),o=gn(e);return{kind:y.INTERFACE_TYPE_DEFINITION,description:r,name:n,directives:i,fields:o,loc:In(e,t)}}(e);case"union":return function(e){var t=e.token,r=mn(e);Dn(e,"union");var n=Qr(e),i=ln(e,!0),o=Sn(e);return{kind:y.UNION_TYPE_DEFINITION,description:r,name:n,directives:i,types:o,loc:In(e,t)}}(e);case"enum":return function(e){var t=e.token,r=mn(e);Dn(e,"enum");var n=Qr(e),i=ln(e,!0),o=Tn(e);return{kind:y.ENUM_TYPE_DEFINITION,description:r,name:n,directives:i,values:o,loc:In(e,t)}}(e);case"input":return function(e){var t=e.token,r=mn(e);Dn(e,"input");var n=Qr(e),i=ln(e,!0),o=xn(e);return{kind:y.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:i,fields:o,loc:In(e,t)}}(e);case"directive":return function(e){var t=e.token,r=mn(e);Dn(e,"directive"),Rn(e,kr.AT);var n=Qr(e),i=wn(e);Dn(e,"on");var o=function(e){kn(e,kr.PIPE);var t=[];do{t.push(An(e))}while(kn(e,kr.PIPE));return t}(e);return{kind:y.DIRECTIVE_DEFINITION,description:r,name:n,arguments:i,locations:o,loc:In(e,t)}}(e)}throw Mn(e,t)}function yn(e){return jn(e,kr.STRING)||jn(e,kr.BLOCK_STRING)}function mn(e){if(yn(e))return an(e)}function vn(e){var t=e.token,r=Jr(e);Rn(e,kr.COLON);var n=hn(e);return{kind:y.OPERATION_TYPE_DEFINITION,operation:r,type:n,loc:In(e,t)}}function bn(e){var t=[];if(Pn(e,"implements")){kn(e,kr.AMP);do{t.push(hn(e))}while(kn(e,kr.AMP)||e.options.allowLegacySDLImplementsInterfaces&&jn(e,kr.NAME))}return t}function gn(e){return e.options.allowLegacySDLEmptyFields&&jn(e,kr.BRACE_L)&&e.lookahead().kind===kr.BRACE_R?(e.advance(),e.advance(),[]):jn(e,kr.BRACE_L)?Cn(e,kr.BRACE_L,_n,kr.BRACE_R):[]}function _n(e){var t=e.token,r=mn(e),n=Qr(e),i=wn(e);Rn(e,kr.COLON);var o=dn(e),a=ln(e,!0);return{kind:y.FIELD_DEFINITION,description:r,name:n,arguments:i,type:o,directives:a,loc:In(e,t)}}function wn(e){return jn(e,kr.PAREN_L)?Cn(e,kr.PAREN_L,En,kr.PAREN_R):[]}function En(e){var t=e.token,r=mn(e),n=Qr(e);Rn(e,kr.COLON);var i,o=dn(e);kn(e,kr.EQUALS)&&(i=sn(e));var a=ln(e,!0);return{kind:y.INPUT_VALUE_DEFINITION,description:r,name:n,type:o,defaultValue:i,directives:a,loc:In(e,t)}}function Sn(e){var t=[];if(kn(e,kr.EQUALS)){kn(e,kr.PIPE);do{t.push(hn(e))}while(kn(e,kr.PIPE))}return t}function Tn(e){return jn(e,kr.BRACE_L)?Cn(e,kr.BRACE_L,On,kr.BRACE_R):[]}function On(e){var t=e.token,r=mn(e),n=Qr(e),i=ln(e,!0);return{kind:y.ENUM_VALUE_DEFINITION,description:r,name:n,directives:i,loc:In(e,t)}}function xn(e){return jn(e,kr.BRACE_L)?Cn(e,kr.BRACE_L,En,kr.BRACE_R):[]}function An(e){var t=e.token,r=Qr(e);if(ke.hasOwnProperty(r.value))return r;throw Mn(e,t)}function In(e,t){if(!e.options.noLocation)return new Nn(t,e.lastToken,e.source)}function Nn(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}function jn(e,t){return e.token.kind===t}function kn(e,t){return e.token.kind===t&&(e.advance(),!0)}function Rn(e,t){var r=e.token;if(r.kind===t)return e.advance(),r;throw Tr(e.source,r.start,"Expected ".concat(t,", found ").concat(Rr(r)))}function Pn(e,t){var r=e.token;return r.kind===kr.NAME&&r.value===t&&(e.advance(),!0)}function Dn(e,t){if(!Pn(e,t))throw Tr(e.source,e.token.start,'Expected "'.concat(t,'", found ').concat(Rr(e.token)))}function Mn(e,t){var r=t||e.token;return Tr(e.source,r.start,"Unexpected ".concat(Rr(r)))}function Cn(e,t,r,n){Rn(e,t);for(var i=[r(e)];!kn(e,n);)i.push(r(e));return i}function Ln(e,t){var r;if(t.kind===y.LIST_TYPE)return(r=Ln(e,t.type))&&Y(r);if(t.kind===y.NON_NULL_TYPE)return(r=Ln(e,t.type))&&K(r);if(t.kind===y.NAMED_TYPE)return e.getType(t.name.value);throw new Error("Unexpected type kind: ".concat(t.kind,"."))}s(Mr,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}),s(Nn,function(){return{start:this.start,end:this.end}});var Fn=function(){function e(e,t,r){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=t||Bn,r&&(q(r)&&this._inputTypeStack.push(r),H(r)&&this._parentTypeStack.push(r),V(r)&&this._typeStack.push(r))}var t=e.prototype;return t.getType=function(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]},t.getParentType=function(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]},t.getInputType=function(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]},t.getParentInputType=function(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]},t.getFieldDef=function(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]},t.getDefaultValue=function(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]},t.getDirective=function(){return this._directive},t.getArgument=function(){return this._argument},t.getEnumValue=function(){return this._enumValue},t.enter=function(e){var t=this._schema;switch(e.kind){case y.SELECTION_SET:var r=oe(this.getType());this._parentTypeStack.push(H(r)?r:void 0);break;case y.FIELD:var i,o,a=this.getParentType();a&&(i=this._getFieldDef(t,a,e))&&(o=i.type),this._fieldDefStack.push(i),this._typeStack.push(V(o)?o:void 0);break;case y.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case y.OPERATION_DEFINITION:var s;"query"===e.operation?s=t.getQueryType():"mutation"===e.operation?s=t.getMutationType():"subscription"===e.operation&&(s=t.getSubscriptionType()),this._typeStack.push(x(s)?s:void 0);break;case y.INLINE_FRAGMENT:case y.FRAGMENT_DEFINITION:var u=e.typeCondition,c=u?Ln(t,u):oe(this.getType());this._typeStack.push(V(c)?c:void 0);break;case y.VARIABLE_DEFINITION:var l=Ln(t,e.type);this._inputTypeStack.push(q(l)?l:void 0);break;case y.ARGUMENT:var f,d,h=this.getDirective()||this.getFieldDef();h&&(f=n(h.args,function(t){return t.name===e.name.value}))&&(d=f.type),this._argument=f,this._defaultValueStack.push(f?f.defaultValue:void 0),this._inputTypeStack.push(q(d)?d:void 0);break;case y.LIST:var p=re(this.getInputType()),m=C(p)?p.ofType:p;this._defaultValueStack.push(void 0),this._inputTypeStack.push(q(m)?m:void 0);break;case y.OBJECT_FIELD:var v,b,g=oe(this.getInputType());D(g)&&(b=g.getFields()[e.name.value])&&(v=b.type),this._defaultValueStack.push(b?b.defaultValue:void 0),this._inputTypeStack.push(q(v)?v:void 0);break;case y.ENUM:var _,w=oe(this.getInputType());R(w)&&(_=w.getValue(e.value)),this._enumValue=_}},t.leave=function(e){switch(e.kind){case y.SELECTION_SET:this._parentTypeStack.pop();break;case y.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case y.DIRECTIVE:this._directive=null;break;case y.OPERATION_DEFINITION:case y.INLINE_FRAGMENT:case y.FRAGMENT_DEFINITION:this._typeStack.pop();break;case y.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case y.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case y.LIST:case y.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case y.ENUM:this._enumValue=null}},e}();function Bn(e,t,r){var n=r.name.value;return n===Rt.name&&e.getQueryType()===t?Rt:n===Pt.name&&e.getQueryType()===t?Pt:n===Dt.name&&H(t)?Dt:x(t)||I(t)?t.getFields()[n]:void 0}function qn(e){return Un(e)||Gn(e)||$n(e)}function Un(e){return e.kind===y.OPERATION_DEFINITION||e.kind===y.FRAGMENT_DEFINITION}function Vn(e){return e.kind===y.FIELD||e.kind===y.FRAGMENT_SPREAD||e.kind===y.INLINE_FRAGMENT}function zn(e){return e.kind===y.VARIABLE||e.kind===y.INT||e.kind===y.FLOAT||e.kind===y.STRING||e.kind===y.BOOLEAN||e.kind===y.NULL||e.kind===y.ENUM||e.kind===y.LIST||e.kind===y.OBJECT}function Qn(e){return e.kind===y.NAMED_TYPE||e.kind===y.LIST_TYPE||e.kind===y.NON_NULL_TYPE}function Gn(e){return e.kind===y.SCHEMA_DEFINITION||Hn(e)||e.kind===y.DIRECTIVE_DEFINITION}function Hn(e){return e.kind===y.SCALAR_TYPE_DEFINITION||e.kind===y.OBJECT_TYPE_DEFINITION||e.kind===y.INTERFACE_TYPE_DEFINITION||e.kind===y.UNION_TYPE_DEFINITION||e.kind===y.ENUM_TYPE_DEFINITION||e.kind===y.INPUT_OBJECT_TYPE_DEFINITION}function $n(e){return e.kind===y.SCHEMA_EXTENSION||Jn(e)}function Jn(e){return e.kind===y.SCALAR_TYPE_EXTENSION||e.kind===y.OBJECT_TYPE_EXTENSION||e.kind===y.INTERFACE_TYPE_EXTENSION||e.kind===y.UNION_TYPE_EXTENSION||e.kind===y.ENUM_TYPE_EXTENSION||e.kind===y.INPUT_OBJECT_TYPE_EXTENSION}function Xn(e){return"The ".concat(e," definition is not executable.")}function Yn(e){var t=Object.create(null);return{OperationDefinition:function(r){var n=r.name;return n&&(t[n.value]?e.reportError(new $t(function(e){return'There can be only one operation named "'.concat(e,'".')}(n.value),[t[n.value],n])):t[n.value]=n),!1},FragmentDefinition:function(){return!1}}}function Kn(e){var t=0;return{Document:function(e){t=e.definitions.filter(function(e){return e.kind===y.OPERATION_DEFINITION}).length},OperationDefinition:function(r){!r.name&&t>1&&e.reportError(new $t("This anonymous operation must be the only defined operation.",[r]))}}}function Wn(e){return{OperationDefinition:function(t){"subscription"===t.operation&&1!==t.selectionSet.selections.length&&e.reportError(new $t(function(e){return(e?'Subscription "'.concat(e,'" '):"Anonymous Subscription ")+"must select only one top level field."}(t.name&&t.name.value),t.selectionSet.selections.slice(1)))}}}function Zn(e,t){for(var r=Object.create(null),n=t.length,i=e.length/2,o=0;o<n;o++){var a=ei(e,t[o]);a<=Math.max(i,t[o].length/2,1)&&(r[t[o]]=a)}return Object.keys(r).sort(function(e,t){return r[e]-r[t]})}function ei(e,t){if(e===t)return 0;var r,n,i=[],o=e.toLowerCase(),a=t.toLowerCase(),s=o.length,u=a.length;if(o===a)return 1;for(r=0;r<=s;r++)i[r]=[r];for(n=1;n<=u;n++)i[0][n]=n;for(r=1;r<=s;r++)for(n=1;n<=u;n++){var c=o[r-1]===a[n-1]?0:1;i[r][n]=Math.min(i[r-1][n]+1,i[r][n-1]+1,i[r-1][n-1]+c),r>1&&n>1&&o[r-1]===a[n-2]&&o[r-2]===a[n-1]&&(i[r][n]=Math.min(i[r][n],i[r-2][n-2]+c))}return i[s][u]}var ti=5;function ri(e){if(0===e.length&&d(0),1===e.length)return e[0];if(2===e.length)return e[0]+" or "+e[1];var t=e.slice(0,ti),r=t.pop();return t.join(", ")+", or "+r}function ni(e){return ri(e.map(function(e){return'"'.concat(e,'"')}))}function ii(e){var t=e.getSchema(),r=t?t.getTypeMap():Object.create(null),n=Object.create(null),i=!0,o=!1,a=void 0;try{for(var s,u=e.getDocument().definitions[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;Hn(c)&&(n[c.name.value]=!0)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var l=Object.keys(r).concat(Object.keys(n));return{NamedType:function(t,i,o,a,s){var u=t.name.value;if(!r[u]&&!n[u]){var c=function(e){return Boolean(e&&!Array.isArray(e)&&(Gn(e)||$n(e)))}(s[2]||o);if(c&&function(e){return-1!==oi.indexOf(e)}(u))return;var f=Zn(u,c?oi.concat(l):l);e.reportError(new $t(function(e,t){var r='Unknown type "'.concat(e,'".');return t.length&&(r+=" Did you mean ".concat(ni(t),"?")),r}(u,f),t))}}}}var oi=Ne.map(function(e){return e.name});function ai(e){return{InlineFragment:function(t){var r=t.typeCondition;if(r){var n=Ln(e.getSchema(),r);n&&!H(n)&&e.reportError(new $t(function(e){return'Fragment cannot condition on non composite type "'.concat(e,'".')}(pt(r)),[r]))}},FragmentDefinition:function(t){var r=Ln(e.getSchema(),t.typeCondition);r&&!H(r)&&e.reportError(new $t(function(e,t){return'Fragment "'.concat(e,'" cannot condition on non composite ')+'type "'.concat(t,'".')}(t.name.value,pt(t.typeCondition)),[t.typeCondition]))}}}function si(e){return{VariableDefinition:function(t){var r=Ln(e.getSchema(),t.type);if(r&&!q(r)){var n=t.variable.name.value;e.reportError(new $t(function(e,t){return'Variable "$'.concat(e,'" cannot be non-input type "').concat(t,'".')}(n,pt(t.type)),[t.type]))}}}}function ui(e){return{Field:function(t){var r=e.getType(),n=t.selectionSet;r&&(Q(oe(r))?n&&e.reportError(new $t(function(e,t){return'Field "'.concat(e,'" must not have a selection since ')+'type "'.concat(t,'" has no subfields.')}(t.name.value,f(r)),[n])):n||e.reportError(new $t(function(e,t){return'Field "'.concat(e,'" of type "').concat(t,'" must have a ')+'selection of subfields. Did you mean "'.concat(e,' { ... }"?')}(t.name.value,f(r)),[t])))}}}function ci(e){return{Field:function(t){var r=e.getParentType();if(r&&!e.getFieldDef()){var n=e.getSchema(),i=t.name.value,o=function(e,t,r){if(J(t)){var n=[],i=Object.create(null),o=!0,a=!1,s=void 0;try{for(var u,c=e.getPossibleTypes(t)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(l.getFields()[r]){n.push(l.name);var f=!0,d=!1,h=void 0;try{for(var p,y=l.getInterfaces()[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;m.getFields()[r]&&(i[m.name]=(i[m.name]||0)+1)}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}var v=Object.keys(i).sort(function(e,t){return i[t]-i[e]});return v.concat(n)}return[]}(n,r,i),a=0!==o.length?[]:function(e,t,r){if(x(t)||I(t)){var n=Object.keys(t.getFields());return Zn(r,n)}return[]}(0,r,i);e.reportError(new $t(function(e,t,r,n){var i='Cannot query field "'.concat(e,'" on type "').concat(t,'".');if(0!==r.length){var o=ni(r);i+=" Did you mean to use an inline fragment on ".concat(o,"?")}else 0!==n.length&&(i+=" Did you mean ".concat(ni(n),"?"));return i}(i,r.name,o,a),[t]))}}}}function li(e){var t=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(r){var n=r.name.value;return t[n]?e.reportError(new $t(function(e){return'There can be only one fragment named "'.concat(e,'".')}(n),[t[n],r.name])):t[n]=r.name,!1}}}function fi(e){return{FragmentSpread:function(t){var r=t.name.value;e.getFragment(r)||e.reportError(new $t(function(e){return'Unknown fragment "'.concat(e,'".')}(r),[t.name]))}}}function di(e){return'Fragment "'.concat(e,'" is never used.')}function hi(e){var t=[],r=[];return{OperationDefinition:function(e){return t.push(e),!1},FragmentDefinition:function(e){return r.push(e),!1},Document:{leave:function(){for(var n=Object.create(null),i=0;i<t.length;i++){var o=t[i],a=!0,s=!1,u=void 0;try{for(var c,l=e.getRecursivelyReferencedFragments(o)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){n[c.value.name.value]=!0}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}for(var f=0;f<r.length;f++){var d=r[f],h=d.name.value;!0!==n[h]&&e.reportError(new $t(di(h),[d]))}}}}}function pi(e){return{InlineFragment:function(t){var r=e.getType(),n=e.getParentType();H(r)&&H(n)&&!Zt(e.getSchema(),r,n)&&e.reportError(new $t(function(e,t){return"Fragment cannot be spread here as objects of "+'type "'.concat(e,'" can never be of type "').concat(t,'".')}(f(n),f(r)),[t]))},FragmentSpread:function(t){var r=t.name.value,n=function(e,t){var r=e.getFragment(t);if(r){var n=Ln(e.getSchema(),r.typeCondition);if(H(n))return n}}(e,r),i=e.getParentType();n&&i&&!Zt(e.getSchema(),n,i)&&e.reportError(new $t(function(e,t,r){return'Fragment "'.concat(e,'" cannot be spread here as objects of ')+'type "'.concat(t,'" can never be of type "').concat(r,'".')}(r,f(i),f(n)),[t]))}}}function yi(e,t){var r=t.length?" via "+t.join(", "):"";return'Cannot spread fragment "'.concat(e,'" within itself').concat(r,".")}function mi(e){var t=Object.create(null),r=[],n=Object.create(null);return{OperationDefinition:function(){return!1},FragmentDefinition:function(i){return function i(o){if(t[o.name.value])return;var a=o.name.value;t[a]=!0;var s=e.getFragmentSpreads(o.selectionSet);if(0===s.length)return;n[a]=r.length;for(var u=0;u<s.length;u++){var c=s[u],l=c.name.value,f=n[l];if(r.push(c),void 0===f){var d=e.getFragment(l);d&&i(d)}else{var h=r.slice(f),p=h.slice(0,-1).map(function(e){return e.name.value});e.reportError(new $t(yi(l,p),h))}r.pop()}n[a]=void 0}(i),!1}}}function vi(e){var t=Object.create(null);return{OperationDefinition:function(){t=Object.create(null)},VariableDefinition:function(r){var n=r.variable.name.value;t[n]?e.reportError(new $t(function(e){return'There can be only one variable named "'.concat(e,'".')}(n),[t[n],r.variable.name])):t[n]=r.variable.name}}}function bi(e,t){return t?'Variable "$'.concat(e,'" is not defined by operation "').concat(t,'".'):'Variable "$'.concat(e,'" is not defined.')}function gi(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(r){var n=e.getRecursiveVariableUsages(r),i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value.node,l=c.name.value;!0!==t[l]&&e.reportError(new $t(bi(l,r.name&&r.name.value),[c,r]))}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}},VariableDefinition:function(e){t[e.variable.name.value]=!0}}}function _i(e,t){return t?'Variable "$'.concat(e,'" is never used in operation "').concat(t,'".'):'Variable "$'.concat(e,'" is never used.')}function wi(e){var t=[];return{OperationDefinition:{enter:function(){t=[]},leave:function(r){var n=Object.create(null),i=e.getRecursiveVariableUsages(r),o=r.name?r.name.value:null,a=!0,s=!1,u=void 0;try{for(var c,l=i[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){n[c.value.node.name.value]=!0}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}for(var f=0;f<t.length;f++){var d=t[f],h=d.variable.name.value;!0!==n[h]&&e.reportError(new $t(_i(h,o),[d]))}}},VariableDefinition:function(e){t.push(e)}}}function Ei(e){var t=Object.create(null),r=e.getSchema(),n=r?r.getDirectives():qe,i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t[c.name]=c.locations}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var l=e.getDocument().definitions,f=!0,d=!1,h=void 0;try{for(var p,m=l[Symbol.iterator]();!(f=(p=m.next()).done);f=!0){var v=p.value;v.kind===y.DIRECTIVE_DEFINITION&&(t[v.name.value]=v.locations.map(function(e){return e.value}))}}catch(e){d=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(d)throw h}}return{Directive:function(r,n,i,o,a){var s=r.name.value,u=t[s];if(u){var c=function(e){var t=e[e.length-1];if(!Array.isArray(t))switch(t.kind){case y.OPERATION_DEFINITION:switch(t.operation){case"query":return ke.QUERY;case"mutation":return ke.MUTATION;case"subscription":return ke.SUBSCRIPTION}break;case y.FIELD:return ke.FIELD;case y.FRAGMENT_SPREAD:return ke.FRAGMENT_SPREAD;case y.INLINE_FRAGMENT:return ke.INLINE_FRAGMENT;case y.FRAGMENT_DEFINITION:return ke.FRAGMENT_DEFINITION;case y.VARIABLE_DEFINITION:return ke.VARIABLE_DEFINITION;case y.SCHEMA_DEFINITION:case y.SCHEMA_EXTENSION:return ke.SCHEMA;case y.SCALAR_TYPE_DEFINITION:case y.SCALAR_TYPE_EXTENSION:return ke.SCALAR;case y.OBJECT_TYPE_DEFINITION:case y.OBJECT_TYPE_EXTENSION:return ke.OBJECT;case y.FIELD_DEFINITION:return ke.FIELD_DEFINITION;case y.INTERFACE_TYPE_DEFINITION:case y.INTERFACE_TYPE_EXTENSION:return ke.INTERFACE;case y.UNION_TYPE_DEFINITION:case y.UNION_TYPE_EXTENSION:return ke.UNION;case y.ENUM_TYPE_DEFINITION:case y.ENUM_TYPE_EXTENSION:return ke.ENUM;case y.ENUM_VALUE_DEFINITION:return ke.ENUM_VALUE;case y.INPUT_OBJECT_TYPE_DEFINITION:case y.INPUT_OBJECT_TYPE_EXTENSION:return ke.INPUT_OBJECT;case y.INPUT_VALUE_DEFINITION:var r=e[e.length-3];return r.kind===y.INPUT_OBJECT_TYPE_DEFINITION?ke.INPUT_FIELD_DEFINITION:ke.ARGUMENT_DEFINITION}}(a);c&&-1===u.indexOf(c)&&e.reportError(new $t(function(e,t){return'Directive "'.concat(e,'" may not be used on ').concat(t,".")}(s,c),[r]))}else e.reportError(new $t(function(e){return'Unknown directive "'.concat(e,'".')}(s),[r]))}}}function Si(e){return'The directive "'.concat(e,'" can only be used once at ')+"this location."}function Ti(e){return{enter:function(t){var r=t.directives;if(r){var n=Object.create(null),i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=c.name.value;n[l]?e.reportError(new $t(Si(l),[n[l],c])):n[l]=c}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}}}}function Oi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xi(e,t,r){var n='Unknown argument "'.concat(e,'" on directive "@').concat(t,'".');return r.length&&(n+=" Did you mean ".concat(ni(r),"?")),n}function Ai(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Oi(e,t,r[t])})}return e}({},Ii(e),{Argument:function(t){var r=e.getArgument(),n=e.getFieldDef(),i=e.getParentType();if(!r&&n&&i){var o=t.name.value,a=n.args.map(function(e){return e.name});e.reportError(new $t(function(e,t,r,n){var i='Unknown argument "'.concat(e,'" on field "').concat(t,'" of ')+'type "'.concat(r,'".');return n.length&&(i+=" Did you mean ".concat(ni(n),"?")),i}(o,n.name,i.name,Zn(o,a)),t))}}})}function Ii(e){var t=Object.create(null),r=e.getSchema(),n=r?r.getDirectives():qe,i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t[c.name]=c.args.map(function(e){return e.name})}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var l=e.getDocument().definitions,f=!0,d=!1,h=void 0;try{for(var p,m=l[Symbol.iterator]();!(f=(p=m.next()).done);f=!0){var v=p.value;v.kind===y.DIRECTIVE_DEFINITION&&(t[v.name.value]=v.arguments?v.arguments.map(function(e){return e.name.value}):[])}}catch(e){d=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(d)throw h}}return{Directive:function(r){var n=r.name.value,i=t[n];if(r.arguments&&i){var o=!0,a=!1,s=void 0;try{for(var u,c=r.arguments[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,f=l.name.value;if(-1===i.indexOf(f)){var d=Zn(f,i);e.reportError(new $t(xi(f,n,d),l))}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}return!1}}}function Ni(e){var t=Object.create(null);return{Field:function(){t=Object.create(null)},Directive:function(){t=Object.create(null)},Argument:function(r){var n=r.name.value;return t[n]?e.reportError(new $t(function(e){return'There can be only one argument named "'.concat(e,'".')}(n),[t[n],r.name])):t[n]=r.name,!1}}}function ji(e,t,r){return"Expected type ".concat(e,", found ").concat(t)+(r?"; ".concat(r):".")}function ki(e,t,r){return"Field ".concat(e,".").concat(t," of required type ")+"".concat(r," was not provided.")}function Ri(e){return{NullValue:function(t){var r=e.getInputType();F(r)&&e.reportError(new $t(ji(f(r),pt(t)),t))},ListValue:function(t){if(!C(re(e.getParentInputType())))return Pi(e,t),!1},ObjectValue:function(t){var r=oe(e.getInputType());if(!D(r))return Pi(e,t),!1;var n=h(t.fields,function(e){return e.name.value}),o=!0,a=!1,s=void 0;try{for(var u,c=i(r.getFields())[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(!n[l.name]&&me(l)){var d=f(l.type);e.reportError(new $t(ki(r.name,l.name,d),t))}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}},ObjectField:function(t){var r=oe(e.getParentInputType());if(!e.getInputType()&&D(r)){var n=Zn(t.name.value,Object.keys(r.getFields())),i=0!==n.length?"Did you mean ".concat(ri(n),"?"):void 0;e.reportError(new $t(function(e,t,r){return'Field "'.concat(t,'" is not defined by type ').concat(e)+(r?"; ".concat(r):".")}(r.name,t.name.value,i),t))}},EnumValue:function(t){var r=oe(e.getInputType());R(r)?r.getValue(t.value)||e.reportError(new $t(ji(r.name,pt(t),Di(r,t)),t)):Pi(e,t)},IntValue:function(t){return Pi(e,t)},FloatValue:function(t){return Pi(e,t)},StringValue:function(t){return Pi(e,t)},BooleanValue:function(t){return Pi(e,t)}}}function Pi(e,t){var r=e.getInputType();if(r){var n=oe(r);if(T(n))try{v(n.parseLiteral(t,void 0))&&e.reportError(new $t(ji(f(r),pt(t)),t))}catch(n){e.reportError(new $t(ji(f(r),pt(t),n.message),t,void 0,void 0,void 0,n))}else e.reportError(new $t(ji(f(r),pt(t),Di(n,t)),t))}}function Di(e,t){if(R(e)){var r=Zn(pt(t),e.getValues().map(function(e){return e.name}));if(0!==r.length)return"Did you mean the enum value ".concat(ri(r),"?")}}function Mi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ci(e,t,r){return'Field "'.concat(e,'" argument "').concat(t,'" of type ')+'"'.concat(r,'" is required but not provided.')}function Li(e,t,r){return'Directive "@'.concat(e,'" argument "').concat(t,'" of type ')+'"'.concat(r,'" is required but not provided.')}function Fi(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Mi(e,t,r[t])})}return e}({},Bi(e),{Field:{leave:function(t){var r=e.getFieldDef();if(!r)return!1;var n=h(t.arguments||[],function(e){return e.name.value}),i=!0,o=!1,a=void 0;try{for(var s,u=r.args[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;!n[c.name]&&fe(c)&&e.reportError(new $t(Ci(r.name,c.name,f(c.type)),[t]))}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}}})}function Bi(e){var t=Object.create(null),r=e.getSchema(),n=r?r.getDirectives():qe,i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t[c.name]=h(c.args.filter(fe),function(e){return e.name})}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}var l=e.getDocument().definitions,d=!0,p=!1,m=void 0;try{for(var v,b=l[Symbol.iterator]();!(d=(v=b.next()).done);d=!0){var g=v.value;g.kind===y.DIRECTIVE_DEFINITION&&(t[g.name.value]=h(g.arguments?g.arguments.filter(qi):[],function(e){return e.name.value}))}}catch(e){p=!0,m=e}finally{try{d||null==b.return||b.return()}finally{if(p)throw m}}return{Directive:{leave:function(r){var n=r.name.value,i=t[n];if(i)for(var o=h(r.arguments||[],function(e){return e.name.value}),a=Object.keys(i),s=0;s<a.length;s++){var u=a[s];if(!o[u]){var c=i[u].type;e.reportError(new $t(Li(n,u,E(c)?f(c):pt(c)),r))}}}}}}function qi(e){return e.type.kind===y.NON_NULL_TYPE&&null==e.defaultValue}function Ui(e,t,r){return'Variable "$'.concat(e,'" of type "').concat(t,'" used in ')+'position expecting type "'.concat(r,'".')}function Vi(e){var t=Object.create(null);return{OperationDefinition:{enter:function(){t=Object.create(null)},leave:function(r){var n=e.getRecursiveVariableUsages(r),i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=c.node,d=c.type,h=c.defaultValue,p=l.name.value,y=t[p];if(y&&d){var m=e.getSchema(),v=Ln(m,y.type);v&&!zi(m,v,y.defaultValue,d,h)&&e.reportError(new $t(Ui(p,f(v),f(d)),[y,l]))}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}},VariableDefinition:function(e){t[e.variable.name.value]=e}}}function zi(e,t,r,n,i){return F(n)&&!F(t)?!!(r&&r.kind!==y.NULL||void 0!==i)&&Wt(e,t,n.ofType):Wt(e,t,n)}function Qi(e,t){return'Fields "'.concat(e,'" conflict because ').concat(function e(t){if(Array.isArray(t))return t.map(function(t){var r=t[0],n=t[1];return'subfields "'.concat(r,'" conflict because ').concat(e(n))}).join(" and ");return t}(t),". ")+"Use different aliases on the fields to fetch both if this was intentional."}function Gi(e){var t=new Zi,r=new Map;return{SelectionSet:function(n){for(var i=function(e,t,r,n,i){var a=[],s=Yi(e,t,n,i),u=s[0],c=s[1];if(function(e,t,r,n,i){var a=!0,s=!1,u=void 0;try{for(var c,l=o(i)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=f[0],h=f[1];if(h.length>1)for(var p=0;p<h.length;p++)for(var y=p+1;y<h.length;y++){var m=Xi(e,r,n,!1,d,h[p],h[y]);m&&t.push(m)}}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}(e,a,t,r,u),0!==c.length)for(var l=Object.create(null),f=0;f<c.length;f++){Hi(e,a,t,l,r,!1,u,c[f]);for(var d=f+1;d<c.length;d++)$i(e,a,t,r,!1,c[f],c[d])}return a}(e,r,t,e.getParentType(),n),a=0;a<i.length;a++){var s=i[a],u=s[0],c=u[0],l=u[1],f=s[1],d=s[2];e.reportError(new $t(Qi(c,l),f.concat(d)))}}}}function Hi(e,t,r,n,i,o,a,s){if(!n[s]){n[s]=!0;var u=e.getFragment(s);if(u){var c=Ki(e,r,u),l=c[0],f=c[1];if(a!==l){Ji(e,t,r,i,o,a,l);for(var d=0;d<f.length;d++)Hi(e,t,r,n,i,o,a,f[d])}}}}function $i(e,t,r,n,i,o,a){if(o!==a&&!n.has(o,a,i)){n.add(o,a,i);var s=e.getFragment(o),u=e.getFragment(a);if(s&&u){var c=Ki(e,r,s),l=c[0],f=c[1],d=Ki(e,r,u),h=d[0],p=d[1];Ji(e,t,r,n,i,l,h);for(var y=0;y<p.length;y++)$i(e,t,r,n,i,o,p[y]);for(var m=0;m<f.length;m++)$i(e,t,r,n,i,f[m],a)}}}function Ji(e,t,r,n,i,o,a){for(var s=Object.keys(o),u=0;u<s.length;u++){var c=s[u],l=a[c];if(l)for(var f=o[c],d=0;d<f.length;d++)for(var h=0;h<l.length;h++){var p=Xi(e,r,n,i,c,f[d],l[h]);p&&t.push(p)}}}function Xi(e,t,r,i,o,a,s){var u=a[0],c=a[1],l=a[2],d=s[0],h=s[1],p=s[2],y=i||u!==d&&x(u)&&x(d),m=l&&l.type,v=p&&p.type;if(!y){var b=c.name.value,g=h.name.value;if(b!==g)return[[o,"".concat(b," and ").concat(g," are different fields")],[c],[h]];if(!function(e,t){if(e.length!==t.length)return!1;return e.every(function(e){var r=n(t,function(t){return t.name.value===e.name.value});return!!r&&function(e,t){return!e&&!t||pt(e)===pt(t)}(e.value,r.value)})}(c.arguments||[],h.arguments||[]))return[[o,"they have differing arguments"],[c],[h]]}if(m&&v&&function e(t,r){if(C(t))return!C(r)||e(t.ofType,r.ofType);if(C(r))return!0;if(F(t))return!F(r)||e(t.ofType,r.ofType);if(F(r))return!0;if(Q(t)||Q(r))return t!==r;return!1}(m,v))return[[o,"they return conflicting types ".concat(f(m)," and ").concat(f(v))],[c],[h]];var _=c.selectionSet,w=h.selectionSet;return _&&w?function(e,t,r,n){if(e.length>0)return[[t,e.map(function(e){var t=e[0];return t})],e.reduce(function(e,t){var r=t[1];return e.concat(r)},[r]),e.reduce(function(e,t){var r=t[2];return e.concat(r)},[n])]}(function(e,t,r,n,i,o,a,s){var u=[],c=Yi(e,t,i,o),l=c[0],f=c[1],d=Yi(e,t,a,s),h=d[0],p=d[1];if(Ji(e,u,t,r,n,l,h),0!==p.length)for(var y=Object.create(null),m=0;m<p.length;m++)Hi(e,u,t,y,r,n,l,p[m]);if(0!==f.length)for(var v=Object.create(null),b=0;b<f.length;b++)Hi(e,u,t,v,r,n,h,f[b]);for(var g=0;g<f.length;g++)for(var _=0;_<p.length;_++)$i(e,u,t,r,n,f[g],p[_]);return u}(e,t,r,y,oe(m),_,oe(v),w),o,c,h):void 0}function Yi(e,t,r,n){var i=t.get(n);if(!i){var o=Object.create(null),a=Object.create(null);!function e(t,r,n,i,o){for(var a=0;a<n.selections.length;a++){var s=n.selections[a];switch(s.kind){case y.FIELD:var u=s.name.value,c=void 0;(x(r)||I(r))&&(c=r.getFields()[u]);var l=s.alias?s.alias.value:u;i[l]||(i[l]=[]),i[l].push([r,s,c]);break;case y.FRAGMENT_SPREAD:o[s.name.value]=!0;break;case y.INLINE_FRAGMENT:var f=s.typeCondition,d=f?Ln(t.getSchema(),f):r;e(t,d,s.selectionSet,i,o)}}}(e,r,n,o,a),i=[o,Object.keys(a)],t.set(n,i)}return i}function Ki(e,t,r){var n=t.get(r.selectionSet);return n||Yi(e,t,Ln(e.getSchema(),r.typeCondition),r.selectionSet)}var Wi,Zi=function(){function e(){this._data=Object.create(null)}var t=e.prototype;return t.has=function(e,t,r){var n=this._data[e],i=n&&n[t];return void 0!==i&&(!1!==r||!1===i)},t.add=function(e,t,r){eo(this._data,e,t,r),eo(this._data,t,e,r)},e}();function eo(e,t,r,n){var i=e[t];i||(i=Object.create(null),e[t]=i),i[r]=n}function to(e){var t=[],r=Object.create(null);return{ObjectValue:{enter:function(){t.push(r),r=Object.create(null)},leave:function(){r=t.pop()}},ObjectField:function(t){var n=t.name.value;return r[n]?e.reportError(new $t(function(e){return'There can be only one input field named "'.concat(e,'".')}(n),[r[n],t.name])):r[n]=t.name,!1}}}function ro(e){return"There can be only one ".concat(e," type in schema.")}function no(e){return"Type for ".concat(e," already defined in the schema. ")+"It cannot be redefined."}function io(e,t){return'Enum value "'.concat(e,".").concat(t,'" can only be defined once.')}function oo(e,t){return'Enum value "'.concat(e,".").concat(t,'" already exists in the schema. ')+"It cannot also be defined in this type extension."}function ao(e,t){return'Field "'.concat(e,".").concat(t,'" can only be defined once.')}function so(e,t){return'Field "'.concat(e,".").concat(t,'" already exists in the schema. ')+"It cannot also be defined in this type extension."}function uo(e,t){return!!(x(e)||I(e)||D(e))&&e.getFields()[t]}function co(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lo(e,t){return"Cannot extend non-".concat(t,' type "').concat(e,'".')}var fo=(co(Wi={},y.SCALAR_TYPE_DEFINITION,y.SCALAR_TYPE_EXTENSION),co(Wi,y.OBJECT_TYPE_DEFINITION,y.OBJECT_TYPE_EXTENSION),co(Wi,y.INTERFACE_TYPE_DEFINITION,y.INTERFACE_TYPE_EXTENSION),co(Wi,y.UNION_TYPE_DEFINITION,y.UNION_TYPE_EXTENSION),co(Wi,y.ENUM_TYPE_DEFINITION,y.ENUM_TYPE_EXTENSION),co(Wi,y.INPUT_OBJECT_TYPE_DEFINITION,y.INPUT_OBJECT_TYPE_EXTENSION),Wi);function ho(e){switch(e){case y.SCALAR_TYPE_EXTENSION:return"scalar";case y.OBJECT_TYPE_EXTENSION:return"object";case y.INTERFACE_TYPE_EXTENSION:return"interface";case y.UNION_TYPE_EXTENSION:return"union";case y.ENUM_TYPE_EXTENSION:return"enum";case y.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:return"unknown type"}}var po=[function(e){return{Document:function(t){var r=!0,n=!1,i=void 0;try{for(var o,a=t.definitions[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;Un(s)||e.reportError(new $t(Xn(s.kind===y.SCHEMA_DEFINITION||s.kind===y.SCHEMA_EXTENSION?"schema":s.name.value),[s]))}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return!1}}},Yn,Kn,Wn,ii,ai,si,ui,ci,li,fi,hi,pi,mi,vi,gi,wi,Ei,Ti,Ai,Ni,Ri,Fi,Vi,Gi,to],yo=[function(e){var t=e.getSchema(),r=t&&(t.astNode||t.getQueryType()||t.getMutationType()||t.getSubscriptionType()),n=0;return{SchemaDefinition:function(t){r?e.reportError(new $t("Cannot define a new schema within a schema extension.",t)):(n>0&&e.reportError(new $t("Must provide only one schema definition.",t)),++n)}}},function(e){var t=e.getSchema(),r=Object.create(null),n=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:i,SchemaExtension:i};function i(t){if(t.operationTypes){var i=!0,o=!1,a=void 0;try{for(var s,u=(t.operationTypes||[])[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=c.operation,f=r[l];n[l]?e.reportError(new $t(no(l),c)):f?e.reportError(new $t(ro(l),[f,c])):r[l]=c}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}return!1}},function(e){var t=Object.create(null),r=e.getSchema();return{ScalarTypeDefinition:n,ObjectTypeDefinition:n,InterfaceTypeDefinition:n,UnionTypeDefinition:n,EnumTypeDefinition:n,InputObjectTypeDefinition:n};function n(n){var i=n.name.value;if(!r||!r.getType(i))return t[i]?e.reportError(new $t(function(e){return'There can be only one type named "'.concat(e,'".')}(i),[t[i],n.name])):t[i]=n.name,!1;e.reportError(new $t(function(e){return'Type "'.concat(e,'" already exists in the schema. ')+"It cannot also be defined in this type definition."}(i),n.name))}},function(e){var t=e.getSchema(),r=t?t.getTypeMap():Object.create(null),n=Object.create(null);return{EnumTypeDefinition:i,EnumTypeExtension:i};function i(t){var i=t.name.value;n[i]||(n[i]=Object.create(null));var o=n[i];if(t.values){var a=!0,s=!1,u=void 0;try{for(var c,l=t.values[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=f.name.value,h=r[i];R(h)&&h.getValue(d)?e.reportError(new $t(oo(i,d),f.name)):o[d]?e.reportError(new $t(io(i,d),[o[d],f.name])):o[d]=f.name}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}return!1}},function(e){var t=e.getSchema(),r=t?t.getTypeMap():Object.create(null),n=Object.create(null);return{InputObjectTypeDefinition:i,InputObjectTypeExtension:i,InterfaceTypeDefinition:i,InterfaceTypeExtension:i,ObjectTypeDefinition:i,ObjectTypeExtension:i};function i(t){var i=t.name.value;n[i]||(n[i]=Object.create(null));var o=n[i];if(t.fields){var a=!0,s=!1,u=void 0;try{for(var c,l=t.fields[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=f.name.value;uo(r[i],d)?e.reportError(new $t(so(i,d),f.name)):o[d]?e.reportError(new $t(ao(i,d),[o[d],f.name])):o[d]=f.name}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}return!1}},function(e){var t=Object.create(null),r=e.getSchema();return{DirectiveDefinition:function(n){var i=n.name.value;if(!r||!r.getDirective(i))return t[i]?e.reportError(new $t(function(e){return'There can be only one directive named "'.concat(e,'".')}(i),[t[i],n.name])):t[i]=n.name,!1;e.reportError(new $t(function(e){return'Directive "'.concat(e,'" already exists in the schema. ')+"It cannot be redefined."}(i),n.name))}}},ii,Ei,Ti,function(e){var t=e.getSchema(),r=Object.create(null),n=!0,i=!1,o=void 0;try{for(var a,s=e.getDocument().definitions[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;Hn(u)&&(r[u.name.value]=u)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return{ScalarTypeExtension:c,ObjectTypeExtension:c,InterfaceTypeExtension:c,UnionTypeExtension:c,EnumTypeExtension:c,InputObjectTypeExtension:c};function c(n){var i=n.name.value,o=r[i],a=t&&t.getType(i);if(o){var s=fo[o.kind];s!==n.kind&&e.reportError(new $t(lo(i,ho(s)),[o,n]))}else if(a){var u=function(e){return T(e)?y.SCALAR_TYPE_EXTENSION:x(e)?y.OBJECT_TYPE_EXTENSION:I(e)?y.INTERFACE_TYPE_EXTENSION:j(e)?y.UNION_TYPE_EXTENSION:R(e)?y.ENUM_TYPE_EXTENSION:D(e)?y.INPUT_OBJECT_TYPE_EXTENSION:void 0}(a);u!==n.kind&&e.reportError(new $t(lo(i,ho(u)),n))}else{var c=Object.keys(r);t&&(c=c.concat(Object.keys(t.getTypeMap())));var l=Zn(i,c);e.reportError(new $t(function(e,t){var r='Cannot extend type "'.concat(e,'" because it does not defined.');return t.length&&(r+=" Did you mean ".concat(ni(t),"?")),r}(i,l),n.name))}}},Ii,Ni,to,Bi];function mo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var vo=function(){function e(e){this._ast=e,this._errors=[],this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map}var t=e.prototype;return t.reportError=function(e){this._errors.push(e)},t.getErrors=function(){return this._errors},t.getDocument=function(){return this._ast},t.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===y.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},Object.create(null))),t[e]},t.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var r=[e];0!==r.length;)for(var n=r.pop(),i=0;i<n.selections.length;i++){var o=n.selections[i];o.kind===y.FRAGMENT_SPREAD?t.push(o):o.selectionSet&&r.push(o.selectionSet)}this._fragmentSpreads.set(e,t)}return t},t.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var r=Object.create(null),n=[e.selectionSet];0!==n.length;)for(var i=n.pop(),o=this.getFragmentSpreads(i),a=0;a<o.length;a++){var s=o[a].name.value;if(!0!==r[s]){r[s]=!0;var u=this.getFragment(s);u&&(t.push(u),n.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e}(),bo=function(e){function t(t,r){var n;return(n=e.call(this,t)||this)._schema=r,n}return mo(t,e),t.prototype.getSchema=function(){return this._schema},t}(vo),go=function(e){function t(t,r,n){var i;return(i=e.call(this,r)||this)._schema=t,i._typeInfo=n,i._variableUsages=new Map,i._recursiveVariableUsages=new Map,i}mo(t,e);var r=t.prototype;return r.getSchema=function(){return this._schema},r.getVariableUsages=function(e){var t=this._variableUsages.get(e);if(!t){var r=[],n=new Fn(this._schema);ct(e,dt(n,{VariableDefinition:function(){return!1},Variable:function(e){r.push({node:e,type:n.getInputType(),defaultValue:n.getDefaultValue()})}})),t=r,this._variableUsages.set(e,t)}return t},r.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var r=this.getRecursivelyReferencedFragments(e),n=0;n<r.length;n++)Array.prototype.push.apply(t,this.getVariableUsages(r[n]));this._recursiveVariableUsages.set(e,t)}return t},r.getType=function(){return this._typeInfo.getType()},r.getParentType=function(){return this._typeInfo.getParentType()},r.getInputType=function(){return this._typeInfo.getInputType()},r.getParentInputType=function(){return this._typeInfo.getParentInputType()},r.getFieldDef=function(){return this._typeInfo.getFieldDef()},r.getDirective=function(){return this._typeInfo.getDirective()},r.getArgument=function(){return this._typeInfo.getArgument()},t}(vo);function _o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:po,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Fn(e);t||d(0,"Must provide document"),tr(e);var i=new go(e,t,n);return ct(t,dt(n,ft(r.map(function(e){return e(i)})))),i.getErrors()}function wo(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yo,n=new bo(e,t);return ct(e,ft(r.map(function(e){return e(n)}))),n.getErrors()}function Eo(e,t,r){return e&&Array.isArray(e.path)?e:new $t(e&&e.message,e&&e.nodes||t,e&&e.source,e&&e.positions,r,e)}function So(e){return Boolean(e&&"function"==typeof e.then)}function To(e,t){switch(t.operation){case"query":var r=e.getQueryType();if(!r)throw new $t("Schema does not define the required query root type.",[t]);return r;case"mutation":var n=e.getMutationType();if(!n)throw new $t("Schema is not configured for mutations.",[t]);return n;case"subscription":var i=e.getSubscriptionType();if(!i)throw new $t("Schema is not configured for subscriptions.",[t]);return i;default:throw new $t("Can only have query, mutation and subscription operations.",[t])}}function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t,r,n){if(F(t))return null==e?Io([ko("Expected non-nullable type ".concat(f(t)," not to be null"),r,n)]):xo(e,t.ofType,r,n);if(null==e)return Ao(null);if(T(t))try{var o=t.parseValue(e);return v(o)?Io([ko("Expected type ".concat(t.name),r,n)]):Ao(o)}catch(e){return Io([ko("Expected type ".concat(t.name),r,n,e.message,e)])}if(R(t)){if("string"==typeof e){var a=t.getValue(e);if(a)return Ao(a.value)}var s=Zn(String(e),t.getValues().map(function(e){return e.name})),u=0!==s.length?"did you mean ".concat(ri(s),"?"):void 0;return Io([ko("Expected type ".concat(t.name),r,n,u)])}if(C(t)){var c=t.ofType;if(He(e)){var l,d=[];return Ye(e,function(e,t){var i=xo(e,c,r,jo(n,t));i.errors?l=No(l,i.errors):l||d.push(i.value)}),l?Io(l):Ao(d)}var h=xo(e,c,r);return h.errors?h:Ao([h.value])}if(D(t)){if("object"!==Oo(e))return Io([ko("Expected type ".concat(t.name," to be an object"),r,n)]);var p,y={},m=t.getFields(),b=!0,g=!1,_=void 0;try{for(var w,E=i(m)[Symbol.iterator]();!(b=(w=E.next()).done);b=!0){var S=w.value,O=e[S.name];if(v(O))v(S.defaultValue)?F(S.type)&&(p=No(p,ko("Field ".concat(Ro(jo(n,S.name))," of required ")+"type ".concat(f(S.type)," was not provided"),r))):y[S.name]=S.defaultValue;else{var x=xo(O,S.type,r,jo(n,S.name));x.errors?p=No(p,x.errors):p||(y[S.name]=x.value)}}}catch(e){g=!0,_=e}finally{try{b||null==E.return||E.return()}finally{if(g)throw _}}for(var A=Object.keys(e),I=0;I<A.length;I++){var N=A[I];if(!m[N]){var j=Zn(N,Object.keys(m)),k=0!==j.length?"did you mean ".concat(ri(j),"?"):void 0;p=No(p,ko('Field "'.concat(N,'" is not defined by type ').concat(t.name),r,n,k))}}return p?Io(p):Ao(y)}throw new Error("Unexpected type: ".concat(t,"."))}function Ao(e){return{errors:void 0,value:e}}function Io(e){return{errors:e,value:void 0}}function No(e,t){return(e||[]).concat(t)}function jo(e,t){return{prev:e,key:t}}function ko(e,t,r,n,i){var o=Ro(r);return new $t(e+(o?" at "+o:"")+(n?"; "+n:"."),t,void 0,void 0,void 0,i)}function Ro(e){for(var t="",r=e;r;)t=("string"==typeof r.key?"."+r.key:"["+String(r.key)+"]")+t,r=r.prev;return t?"value"+t:""}function Po(e,t,r){if(e){if(F(t)){if(e.kind===y.NULL)return;return Po(e,t.ofType,r)}if(e.kind===y.NULL)return null;if(e.kind===y.VARIABLE){var n=e.name.value;if(!r||v(r[n]))return;var o=r[n];if(null===o&&F(t))return;return o}if(C(t)){var a=t.ofType;if(e.kind===y.LIST){for(var s=[],u=e.values,c=0;c<u.length;c++)if(Do(u[c],r)){if(F(a))return;s.push(null)}else{var l=Po(u[c],a,r);if(v(l))return;s.push(l)}return s}var f=Po(e,a,r);if(v(f))return;return[f]}if(D(t)){if(e.kind!==y.OBJECT)return;for(var d=Object.create(null),p=h(e.fields,function(e){return e.name.value}),m=i(t.getFields()),b=0;b<m.length;b++){var g=m[b],_=p[g.name];if(_&&!Do(_.value,r)){var w=Po(_.value,g.type,r);if(v(w))return;d[g.name]=w}else if(void 0!==g.defaultValue)d[g.name]=g.defaultValue;else if(F(g.type))return}return d}if(R(t)){if(e.kind!==y.ENUM)return;var E=t.getValue(e.value);if(!E)return;return E.value}if(T(t)){var S;try{S=t.parseLiteral(e,r)}catch(e){return}if(v(S))return;return S}throw new Error("Unknown type: ".concat(t,"."))}}function Do(e,t){return e.kind===y.VARIABLE&&(!t||v(t[e.name.value]))}function Mo(e,t,r){var n={},i=e.args,o=t.arguments;if(!i||!o)return n;for(var a=h(o,function(e){return e.name.value}),s=0;s<i.length;s++){var u=i[s],c=u.name,l=u.type,p=a[c],m=void 0,v=void 0;if(p&&p.value.kind===y.VARIABLE){var b=p.value.name.value;m=r&&Lo(r,b),v=r&&null===r[b]}else m=null!=p,v=p&&p.value.kind===y.NULL;if(m||void 0===u.defaultValue){if((!m||v)&&F(l)){if(v)throw new $t('Argument "'.concat(c,'" of non-null type "').concat(f(l),'" ')+"must not be null.",[p.value]);if(p&&p.value.kind===y.VARIABLE){var g=p.value.name.value;throw new $t('Argument "'.concat(c,'" of required type "').concat(f(l),'" ')+'was provided the variable "$'.concat(g,'" ')+"which was not provided a runtime value.",[p.value])}throw new $t('Argument "'.concat(c,'" of required type "').concat(f(l),'" ')+"was not provided.",[t])}if(m)if(p.value.kind===y.NULL)n[c]=null;else if(p.value.kind===y.VARIABLE){var _=p.value.name.value;r||d(0,"Must exist for hasValue to be true."),n[c]=r[_]}else{var w=p.value,E=Po(w,l,r);if(void 0===E)throw new $t('Argument "'.concat(c,'" has invalid value ').concat(pt(w),"."),[p.value]);n[c]=E}}else n[c]=u.defaultValue}return n}function Co(e,t,r){var i=t.directives&&n(t.directives,function(t){return t.name.value===e.name});if(i)return Mo(e,i,r)}function Lo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bo(e,t,r,n,i,o,a){return 1===arguments.length?qo(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):qo(e,t,r,n,i,o,a)}function qo(e,t,r,n,i,o,a){zo(e,t,i);var s=Qo(e,t,r,n,i,o,a);return Array.isArray(s)?{errors:s}:function e(t,r){if(So(r))return r.then(function(r){return e(t,r)});return 0===t.errors.length?{data:r}:{errors:t.errors,data:r}}(s,function(e,t,r){var n=To(e.schema,t),i=Ho(e,n,t.selectionSet,Object.create(null),Object.create(null)),o=void 0;try{var a="mutation"===t.operation?function(e,t,r,n,i){return function(e,t,r){return e.reduce(function(e,r){return So(e)?e.then(function(e){return t(e,r)}):t(e,r)},r)}(Object.keys(i),function(o,a){var s=i[a],u=Vo(n,a),c=Yo(e,t,r,s,u);return void 0===c?o:So(c)?c.then(function(e){return o[a]=e,o}):(o[a]=c,o)},Object.create(null))}(e,n,r,o,i):Go(e,n,r,o,i);return So(a)?a.then(void 0,function(t){return e.errors.push(t),Promise.resolve(null)}):a}catch(t){return e.errors.push(t),null}}(s,s.operation,r))}function Uo(e){for(var t=[],r=e;r;)t.push(r.key),r=r.prev;return t.reverse()}function Vo(e,t){return{prev:e,key:t}}function zo(e,t,r){t||d(0,"Must provide document"),tr(e),r&&"object"!==Fo(r)&&d(0,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}function Qo(e,t,r,n,i,o,a){for(var s,u,c=[],l=!1,h=Object.create(null),p=0;p<t.definitions.length;p++){var m=t.definitions[p];switch(m.kind){case y.OPERATION_DEFINITION:!o&&s?l=!0:(!o||m.name&&m.name.value===o)&&(s=m);break;case y.FRAGMENT_DEFINITION:h[m.name.value]=m}}if(s?l&&c.push(new $t("Must provide operation name if query contains multiple operations.")):o?c.push(new $t('Unknown operation named "'.concat(o,'".'))):c.push(new $t("Must provide an operation.")),s){var v=function(e,t,r){for(var n=[],i={},o=0;o<t.length;o++){var a=t[o],s=a.variable.name.value,u=Ln(e,a.type);if(q(u)){var c=Lo(r,s),l=c?r[s]:void 0;if(!c&&a.defaultValue)i[s]=Po(a.defaultValue,u);else if(c&&null!==l||!F(u)){if(c)if(null===l)i[s]=null;else{var d=xo(l,u,a),h=d.errors;if(h){var p=!0,y=!1,m=void 0;try{for(var v,b=h[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var g=v.value;g.message='Variable "$'.concat(s,'" got invalid value ').concat(f(l),"; ")+g.message}}catch(e){y=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(y)throw m}}n.push.apply(n,h)}else i[s]=d.value}}else n.push(new $t(c?'Variable "$'.concat(s,'" of non-null type ')+'"'.concat(f(u),'" must not be null.'):'Variable "$'.concat(s,'" of required type ')+'"'.concat(f(u),'" was not provided.'),[a]))}else n.push(new $t('Variable "$'.concat(s,'" expected value of type ')+'"'.concat(pt(a.type),'" which cannot be used as an input type.'),[a.type]))}return 0===n.length?{errors:void 0,coerced:i}:{errors:n,coerced:void 0}}(e,s.variableDefinitions||[],i||{});v.errors?c.push.apply(c,v.errors):u=v.coerced}return 0!==c.length?c:(s||d(0,"Has operation if no errors."),u||d(0,"Has variables if no errors."),{schema:e,fragments:h,rootValue:r,contextValue:n,operation:s,variableValues:u,fieldResolver:a||ua,errors:c})}function Go(e,t,r,n,i){for(var o=Object.create(null),a=!1,s=0,u=Object.keys(i);s<u.length;++s){var c=u[s],l=Yo(e,t,r,i[c],Vo(n,c));void 0!==l&&(o[c]=l,!a&&So(l)&&(a=!0))}return a?function(e){var t=Object.keys(e),r=t.map(function(t){return e[t]});return Promise.all(r).then(function(e){return e.reduce(function(e,r,n){return e[t[n]]=r,e},Object.create(null))})}(o):o}function Ho(e,t,r,n,i){for(var o=0;o<r.selections.length;o++){var a=r.selections[o];switch(a.kind){case y.FIELD:if(!$o(e,a))continue;var s=Xo(a);n[s]||(n[s]=[]),n[s].push(a);break;case y.INLINE_FRAGMENT:if(!$o(e,a)||!Jo(e,a,t))continue;Ho(e,t,a.selectionSet,n,i);break;case y.FRAGMENT_SPREAD:var u=a.name.value;if(i[u]||!$o(e,a))continue;i[u]=!0;var c=e.fragments[u];if(!c||!Jo(e,c,t))continue;Ho(e,t,c.selectionSet,n,i)}}return n}function $o(e,t){var r=Co(Le,t,e.variableValues);if(r&&!0===r.if)return!1;var n=Co(Ce,t,e.variableValues);return!n||!1!==n.if}function Jo(e,t,r){var n=t.typeCondition;if(!n)return!0;var i=Ln(e.schema,n);return i===r||!!J(i)&&e.schema.isPossibleType(i,r)}function Xo(e){return e.alias?e.alias.value:e.name.value}function Yo(e,t,r,n,i){var o=n[0].name.value,a=ca(e.schema,t,o);if(a){var s=a.resolve||e.fieldResolver,u=Ko(e,a,n,t,i),c=Wo(e,a,n,s,r,u);return ea(e,a.type,n,u,i,c)}}function Ko(e,t,r,n,i){return{fieldName:t.name,fieldNodes:r,returnType:t.type,parentType:n,path:i,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}function Wo(e,t,r,n,i,o){try{var a=n(i,Mo(t,r[0],e.variableValues),e.contextValue,o);return So(a)?a.then(void 0,Zo):a}catch(e){return Zo(e)}}function Zo(e){return e instanceof Error?e:new Error(e||void 0)}function ea(e,t,r,n,i,o){try{var a;return So(a=So(o)?o.then(function(o){return ra(e,t,r,n,i,o)}):ra(e,t,r,n,i,o))?a.then(void 0,function(n){return ta(n,r,i,t,e)}):a}catch(n){return ta(n,r,i,t,e)}}function ta(e,t,r,n,i){var o=Eo(Zo(e),t,Uo(r));if(F(n))throw o;return i.errors.push(o),null}function ra(e,t,r,n,i,o){if(o instanceof Error)throw o;if(F(t)){var a=ra(e,t.ofType,r,n,i,o);if(null===a)throw new Error("Cannot return null for non-nullable field ".concat(n.parentType.name,".").concat(n.fieldName,"."));return a}if(nt(o))return null;if(C(t))return function(e,t,r,n,i,o){He(o)||d(0,"Expected Iterable, but did not find one for field ".concat(n.parentType.name,".").concat(n.fieldName,"."));var a=t.ofType,s=!1,u=[];return Ye(o,function(t,o){var c=Vo(i,o),l=ea(e,a,r,n,c,t);!s&&So(l)&&(s=!0),u.push(l)}),s?Promise.all(u):u}(e,t,r,n,i,o);if(Q(t))return function(e,t){e.serialize||d(0,"Missing serialize method on type");var r=e.serialize(t);if(v(r))throw new Error('Expected a value of type "'.concat(f(e),'" but ')+"received: ".concat(f(t)));return r}(t,o);if(J(t))return function(e,t,r,n,i,o){var a=t.resolveType?t.resolveType(o,e.contextValue,n):function(e,t,r,n){if(null!==e&&"object"===Fo(e)&&"string"==typeof e.__typename)return e.__typename;for(var i=r.schema.getPossibleTypes(n),o=[],a=0;a<i.length;a++){var s=i[a];if(s.isTypeOf){var u=s.isTypeOf(e,t,r);if(So(u))o[a]=u;else if(u)return s}}if(o.length)return Promise.all(o).then(function(e){for(var t=0;t<e.length;t++)if(e[t])return i[t]})}(o,e.contextValue,n,t);if(So(a))return a.then(function(a){return ia(e,na(a,e,t,r,n,o),r,n,i,o)});return ia(e,na(a,e,t,r,n,o),r,n,i,o)}(e,t,r,n,i,o);if(x(t))return ia(e,t,r,n,i,o);throw new Error('Cannot complete value of unexpected type "'.concat(f(t),'".'))}function na(e,t,r,n,i,o){var a="string"==typeof e?t.schema.getType(e):e;if(!x(a))throw new $t("Abstract type ".concat(r.name," must resolve to an Object type at ")+"runtime for field ".concat(i.parentType.name,".").concat(i.fieldName," with ")+"value ".concat(f(o),', received "').concat(f(a),'". ')+"Either the ".concat(r.name,' type should provide a "resolveType" ')+'function or each possible type should provide an "isTypeOf" function.',n);if(!t.schema.isPossibleType(r,a))throw new $t('Runtime Object type "'.concat(a.name,'" is not a possible type ')+'for "'.concat(r.name,'".'),n);return a}function ia(e,t,r,n,i,o){if(t.isTypeOf){var a=t.isTypeOf(o,e.contextValue,n);if(So(a))return a.then(function(n){if(!n)throw oa(t,o,r);return aa(e,t,r,i,o)});if(!a)throw oa(t,o,r)}return aa(e,t,r,i,o)}function oa(e,t,r){return new $t('Expected value of type "'.concat(e.name,'" but got: ').concat(f(t),"."),r)}function aa(e,t,r,n,i){return Go(e,t,i,n,sa(e,t,r))}var sa=function(e){var t;return function(r,n,i){t||(t=new WeakMap);var o,a=t.get(r);if(a){if(o=a.get(n)){var s=o.get(i);if(void 0!==s)return s}}else a=new WeakMap,t.set(r,a);o||(o=new WeakMap,a.set(n,o));var u=e.apply(this,arguments);return o.set(i,u),u}}(function(e,t,r){for(var n=Object.create(null),i=Object.create(null),o=0;o<r.length;o++){var a=r[o].selectionSet;a&&(n=Ho(e,t,a,n,i))}return n});var ua=function(e,t,r,n){if("object"===Fo(e)||"function"==typeof e){var i=e[n.fieldName];return"function"==typeof i?e[n.fieldName](t,r,n):i}};function ca(e,t,r){return r===Rt.name&&e.getQueryType()===t?Rt:r===Pt.name&&e.getQueryType()===t?Pt:r===Dt.name?Dt:t.getFields()[r]}function la(e,t,r,n,i,o,a){var s=arguments;return new Promise(function(u){return u(1===s.length?da(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):da(e,t,r,n,i,o,a))})}function fa(e,t,r,n,i,o,a){var s=1===arguments.length?da(e.schema,e.source,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver):da(e,t,r,n,i,o,a);if(s.then)throw new Error("GraphQL execution failed to complete synchronously.");return s}function da(e,t,r,n,i,o,a){var s,u=er(e);if(u.length>0)return{errors:u};try{s=Ur(t)}catch(e){return{errors:[e]}}var c=_o(e,s);return c.length>0?{errors:c}:Bo(e,s,r,n,i,o,a)}function ha(e,t,r){var n,i,o,a=et(e);function s(e){return e.done?e:pa(e.value,t).then(ya,i)}if("function"==typeof a.return&&(n=a.return,i=function(e){var t=function(){return Promise.reject(e)};return n.call(a).then(t,t)}),r){var u=r;o=function(e){return pa(e,u).then(ya,i)}}return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({next:function(){return a.next().then(s,o)},return:function(){return n?n.call(a).then(s,o):Promise.resolve({value:void 0,done:!0})},throw:function(e){return"function"==typeof a.throw?a.throw(e).then(s,o):Promise.reject(e).catch(i)}},We,function(){return this})}function pa(e,t){return new Promise(function(r){return r(t(e))})}function ya(e){return{value:e,done:!1}}function ma(e,t,r,n,i,o,a,s){return 1===arguments.length?ba(e.schema,e.document,e.rootValue,e.contextValue,e.variableValues,e.operationName,e.fieldResolver,e.subscribeFieldResolver):ba(e,t,r,n,i,o,a,s)}function va(e){if(e instanceof $t)return{errors:[e]};throw e}function ba(e,t,r,n,i,o,a,s){var u=function(r){return Bo(e,t,r,n,i,o,a)};return ga(e,t,r,n,i,o,s).then(function(e){return Ze(e)?ha(e,u,va):e},va)}function ga(e,t,r,n,i,o,a){zo(e,t,i);try{var s=Qo(e,t,r,n,i,o,a);if(Array.isArray(s))return Promise.resolve({errors:s});var u=To(e,s.operation),c=Ho(s,u,s.operation.selectionSet,Object.create(null),Object.create(null)),l=Object.keys(c)[0],d=c[l],h=d[0].name.value,p=ca(e,u,h);if(!p)throw new $t('The subscription field "'.concat(h,'" is not defined.'),d);var y=p.subscribe||s.fieldResolver,m=Vo(void 0,l),v=Ko(s,p,d,u,m),b=Wo(s,p,d,y,r,v);return Promise.resolve(b).then(function(e){if(e instanceof Error)throw Eo(e,d,Uo(m));if(Ze(e))return e;throw new Error("Subscription field must return Async Iterable. Received: "+f(e))})}catch(e){return Promise.reject(e)}}function _a(e){e||d(0,"Received null or undefined error.");var t=e.message||"An unknown error occurred.",r=e.locations,n=e.path,i=e.extensions;return i?{message:t,locations:r,path:n,extensions:i}:{message:t,locations:r,path:n}}function wa(e){var t=!(e&&!1===e.descriptions);return"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          ".concat(t?"description":"","\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      ").concat(t?"description":"","\n      fields(includeDeprecated: true) {\n        name\n        ").concat(t?"description":"","\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        ").concat(t?"description":"","\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      ").concat(t?"description":"","\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ")}var Ea=wa();function Sa(e,t){for(var r=null,n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.kind===y.OPERATION_DEFINITION)if(t){if(i.name&&i.name.value===t)return i}else{if(r)return null;r=i}}return r}function Ta(e,t){var r=Bo(e,Ur(wa(t)));return(r.then||r.errors||!r.data)&&d(0),r.data}function Oa(e,t){var r=e.__schema,n=h(r.types,function(e){return e.name}),i=h(Ne.concat(Mt),function(e){return e.name});function o(e){if(e.kind===jt.LIST){var t=e.ofType;if(!t)throw new Error("Decorated type deeper than introspection query.");return Y(o(t))}if(e.kind===jt.NON_NULL){var r=e.ofType;if(!r)throw new Error("Decorated type deeper than introspection query.");return K(te(o(r)))}if(!e.name)throw new Error("Unknown type reference: "+f(e));return a(e.name)}function a(e){if(i[e])return i[e];var t=n[e];if(!t)throw new Error("Invalid or incomplete schema, unknown type: ".concat(e,". Ensure ")+"that a full introspection query is used in order to build a client schema.");var r=function(e){if(e&&e.name&&e.kind)switch(e.kind){case jt.SCALAR:return function(e){return new se({name:e.name,description:e.description,serialize:function(e){return e}})}(e);case jt.OBJECT:return function(e){if(!e.interfaces)throw new Error("Introspection result missing interfaces: "+f(e));return new ue({name:e.name,description:e.description,interfaces:function(){return e.interfaces.map(u)},fields:function(){return c(e)}})}(e);case jt.INTERFACE:return function(e){return new de({name:e.name,description:e.description,fields:function(){return c(e)}})}(e);case jt.UNION:return function(e){if(!e.possibleTypes)throw new Error("Introspection result missing possibleTypes: "+f(e));return new he({name:e.name,description:e.description,types:function(){return e.possibleTypes.map(s)}})}(e);case jt.ENUM:return function(e){if(!e.enumValues)throw new Error("Introspection result missing enumValues: "+f(e));return new pe({name:e.name,description:e.description,values:m(e.enumValues,function(e){return e.name},function(e){return{description:e.description,deprecationReason:e.deprecationReason}})})}(e);case jt.INPUT_OBJECT:return function(e){if(!e.inputFields)throw new Error("Introspection result missing inputFields: "+f(e));return new ye({name:e.name,description:e.description,fields:function(){return l(e.inputFields)}})}(e)}throw new Error("Invalid or incomplete introspection result. Ensure that a full introspection query is used in order to build a client schema:"+f(e))}(t);return i[e]=r,r}function s(e){return A(o(e))}function u(e){return N(o(e))}function c(e){if(!e.fields)throw new Error("Introspection result missing fields: "+f(e));return m(e.fields,function(e){return e.name},function(e){if(!e.args)throw new Error("Introspection result missing field args: "+f(e));return{description:e.description,deprecationReason:e.deprecationReason,type:function(e){var t=o(e);return V(t)||d(0,"Introspection must provide output type for fields, but received: "+f(t)+"."),t}(e.type),args:l(e.args)}})}function l(e){return m(e,function(e){return e.name},p)}function p(e){var t=function(e){var t=o(e);return q(t)||d(0,"Introspection must provide input type for arguments, but received: "+f(t)+"."),t}(e.type),r=e.defaultValue?Po(Vr(e.defaultValue),t):void 0;return{description:e.description,type:t,defaultValue:r}}var y=r.types.map(function(e){return a(e.name)}),v=r.queryType?s(r.queryType):null,b=r.mutationType?s(r.mutationType):null,g=r.subscriptionType?s(r.subscriptionType):null,_=r.directives?r.directives.map(function(e){if(!e.args)throw new Error("Introspection result missing directive args: "+f(e));if(!e.locations)throw new Error("Introspection result missing directive locations: "+f(e));return new Me({name:e.name,description:e.description,locations:e.locations.slice(),args:l(e.args)})}):[];return new qt({query:v,mutation:b,subscription:g,types:y,directives:_,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})}function xa(e,t){var r;e&&e.kind===y.DOCUMENT||d(0,"Must provide valid Document AST"),t&&(t.assumeValid||t.assumeValidSDL)||function(e){var t=wo(e);if(0!==t.length)throw new Error(t.map(function(e){return e.message}).join("\n\n"))}(e);var n=Object.create(null),o=[],a=!0,s=!1,u=void 0;try{for(var c,l=e.definitions[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;f.kind===y.SCHEMA_DEFINITION?r=f:Hn(f)?n[f.name.value]=f:f.kind===y.DIRECTIVE_DEFINITION&&o.push(f)}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}var h=r?function(e){var t={},r=!0,n=!1,i=void 0;try{for(var o,a=e.operationTypes[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t[s.operation]=s.type}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t}(r):{query:n.Query,mutation:n.Mutation,subscription:n.Subscription},p=new Aa(n,t,function(e){throw new Error('Type "'.concat(e,'" not found in document.'))}),m=o.map(function(e){return p.buildDirective(e)});return m.some(function(e){return"skip"===e.name})||m.push(Le),m.some(function(e){return"include"===e.name})||m.push(Ce),m.some(function(e){return"deprecated"===e.name})||m.push(Be),new qt({query:h.query?p.buildType(h.query):null,mutation:h.mutation?p.buildType(h.mutation):null,subscription:h.subscription?p.buildType(h.subscription):null,types:i(n).map(function(e){return p.buildType(e)}),directives:m,astNode:r,assumeValid:t&&t.assumeValid,allowedLegacyNames:t&&t.allowedLegacyNames})}var Aa=function(){function e(e,t,r){this._typeDefinitionsMap=e,this._options=t,this._resolveType=r,this._cache=h(Ne.concat(Mt),function(e){return e.name})}var t=e.prototype;return t.buildType=function(e){var t=e.name.value;if(!this._cache[t])if(e.kind===y.NAMED_TYPE){var r=this._typeDefinitionsMap[t];this._cache[t]=r?this._makeSchemaDef(r):this._resolveType(e.name.value)}else this._cache[t]=this._makeSchemaDef(e);return this._cache[t]},t._buildWrappedType=function(e){return e.kind===y.LIST_TYPE?Y(this._buildWrappedType(e.type)):e.kind===y.NON_NULL_TYPE?K(this._buildWrappedType(e.type)):this.buildType(e)},t.buildDirective=function(e){var t=this,r=e.locations.map(function(e){return e.value});return new Me({name:e.name.value,description:ja(e,this._options),locations:r,args:Ia(e.arguments||[],function(e){return t.buildArg(e)}),astNode:e})},t.buildField=function(e){var t=this;return{type:this._buildWrappedType(e.type),description:ja(e,this._options),args:Ia(e.arguments||[],function(e){return t.buildArg(e)}),deprecationReason:Na(e),astNode:e}},t.buildArg=function(e){var t=this._buildWrappedType(e.type);return{type:t,description:ja(e,this._options),defaultValue:Po(e.defaultValue,t),astNode:e}},t.buildInputField=function(e){var t=this._buildWrappedType(e.type);return{type:t,description:ja(e,this._options),defaultValue:Po(e.defaultValue,t),astNode:e}},t.buildEnumValue=function(e){return{description:ja(e,this._options),deprecationReason:Na(e),astNode:e}},t._makeSchemaDef=function(e){switch(e.kind){case y.OBJECT_TYPE_DEFINITION:return this._makeTypeDef(e);case y.INTERFACE_TYPE_DEFINITION:return this._makeInterfaceDef(e);case y.ENUM_TYPE_DEFINITION:return this._makeEnumDef(e);case y.UNION_TYPE_DEFINITION:return this._makeUnionDef(e);case y.SCALAR_TYPE_DEFINITION:return this._makeScalarDef(e);case y.INPUT_OBJECT_TYPE_DEFINITION:return this._makeInputObjectDef(e);default:throw new Error('Type kind "'.concat(e.kind,'" not supported.'))}},t._makeTypeDef=function(e){var t=this,r=e.interfaces,n=e.fields,i=r&&r.length>0?function(){return r.map(function(e){return t.buildType(e)})}:[],o=n&&n.length>0?function(){return Ia(n,function(e){return t.buildField(e)})}:Object.create(null);return new ue({name:e.name.value,description:ja(e,this._options),interfaces:i,fields:o,astNode:e})},t._makeInterfaceDef=function(e){var t=this,r=e.fields,n=r&&r.length>0?function(){return Ia(r,function(e){return t.buildField(e)})}:Object.create(null);return new de({name:e.name.value,description:ja(e,this._options),fields:n,astNode:e})},t._makeEnumDef=function(e){var t=this,r=e.values||[];return new pe({name:e.name.value,description:ja(e,this._options),values:Ia(r,function(e){return t.buildEnumValue(e)}),astNode:e})},t._makeUnionDef=function(e){var t=this,r=e.types,n=r&&r.length>0?function(){return r.map(function(e){return t.buildType(e)})}:[];return new he({name:e.name.value,description:ja(e,this._options),types:n,astNode:e})},t._makeScalarDef=function(e){return new se({name:e.name.value,description:ja(e,this._options),astNode:e,serialize:function(e){return e}})},t._makeInputObjectDef=function(e){var t=this,r=e.fields;return new ye({name:e.name.value,description:ja(e,this._options),fields:r?function(){return Ia(r,function(e){return t.buildInputField(e)})}:Object.create(null),astNode:e})},e}();function Ia(e,t){return m(e,function(e){return e.name.value},t)}function Na(e){var t=Co(Be,e);return t&&t.reason}function ja(e,t){if(e.description)return e.description.value;if(t&&t.commentDescriptions){var r=function(e){var t=e.loc;if(!t)return;var r=[],n=t.startToken.prev;for(;n&&n.kind===kr.COMMENT&&n.next&&n.prev&&n.line+1===n.next.line&&n.line!==n.prev.line;){var i=String(n.value);r.push(i),n=n.prev}return r.reverse().join("\n")}(e);if(void 0!==r)return Or("\n"+r)}}function ka(e,t){return xa(Ur(e,t),t)}function Ra(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pa(e,t,r){Bt(e),t&&t.kind===y.DOCUMENT||d(0,"Must provide valid Document AST"),r&&(r.assumeValid||r.assumeValidSDL)||function(e,t){var r=wo(e,t);if(0!==r.length)throw new Error(r.map(function(e){return e.message}).join("\n\n"))}(t,e);var n,o=Object.create(null),a=Object.create(null),s=[],u=[],c=!0,l=!1,f=void 0;try{for(var h,v=t.definitions[Symbol.iterator]();!(c=(h=v.next()).done);c=!0){var b=h.value;if(b.kind===y.SCHEMA_DEFINITION)n=b;else if(b.kind===y.SCHEMA_EXTENSION)u.push(b);else if(Hn(b)){o[b.name.value]=b}else if(Jn(b)){var g=b.name.value,_=a[g];a[g]=_?_.concat([b]):[b]}else b.kind===y.DIRECTIVE_DEFINITION&&s.push(b)}}catch(e){l=!0,f=e}finally{try{c||null==v.return||v.return()}finally{if(l)throw f}}if(0===Object.keys(a).length&&0===Object.keys(o).length&&0===s.length&&0===u.length&&!n)return e;var w=new Aa(o,r,function(t){var r=e.getType(t);return r||d(0,'Unknown type: "'.concat(t,'".')),re(r)}),E=Object.create(null),S={query:te(e.getQueryType()),mutation:te(e.getMutationType()),subscription:te(e.getSubscriptionType())};if(n){var O=!0,A=!1,N=void 0;try{for(var k,P=n.operationTypes[Symbol.iterator]();!(O=(k=P.next()).done);O=!0){var M=k.value,L=M.operation,B=M.type;S[L]=w.buildType(B)}}catch(e){A=!0,N=e}finally{try{O||null==P.return||P.return()}finally{if(A)throw N}}}for(var q=0;q<u.length;q++){var U=u[q];if(U.operationTypes){var V=!0,z=!1,Q=void 0;try{for(var G,H=U.operationTypes[Symbol.iterator]();!(V=(G=H.next()).done);V=!0){var $=G.value,J=$.operation,X=$.type;S[J]=w.buildType(X)}}catch(e){z=!0,Q=e}finally{try{V||null==H.return||H.return()}finally{if(z)throw Q}}}}var W=u?e.extensionASTNodes?e.extensionASTNodes.concat(u):u:e.extensionASTNodes,Z=[].concat(i(e.getTypeMap()).map(function(e){return re(e)}),i(o).map(function(e){return w.buildType(e)})),ee=e.__allowedLegacyNames.concat(r&&r.allowedLegacyNames||[]);return new qt(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Ra(e,t,r[t])})}return e}({},S,{types:Z,directives:function(){var t=e.getDirectives().map(ne);return t||d(0,"schema must have default directives"),t.concat(s.map(function(e){return w.buildDirective(e)}))}(),astNode:e.astNode,extensionASTNodes:W,allowedLegacyNames:ee}));function te(e){return e?re(e):null}function re(e){if(Ct(e)||je(e))return e;var t=e.name;return E[t]||(T(e)?E[t]=function(e){var t=e.name,r=a[t]?e.extensionASTNodes?e.extensionASTNodes.concat(a[t]):a[t]:e.extensionASTNodes;return new se({name:t,description:e.description,astNode:e.astNode,extensionASTNodes:r,serialize:e.serialize,parseValue:e.parseValue,parseLiteral:e.parseLiteral})}(e):x(e)?E[t]=function(e){var t=e.name,r=a[t]?e.extensionASTNodes?e.extensionASTNodes.concat(a[t]):a[t]:e.extensionASTNodes;return new ue({name:t,description:e.description,interfaces:function(){return function(e){var t=e.getInterfaces().map(re),r=a[e.name];if(r){var n=!0,i=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=!0,f=!1,d=void 0;try{for(var h,p=c.interfaces[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value;t.push(w.buildType(y))}}catch(e){f=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}}return t}(e)},fields:function(){return oe(e)},astNode:e.astNode,extensionASTNodes:r,isTypeOf:e.isTypeOf})}(e):I(e)?E[t]=function(e){var t=e.name,r=a[t]?e.extensionASTNodes?e.extensionASTNodes.concat(a[t]):a[t]:e.extensionASTNodes;return new de({name:e.name,description:e.description,fields:function(){return oe(e)},astNode:e.astNode,extensionASTNodes:r,resolveType:e.resolveType})}(e):j(e)?E[t]=function(e){var t=e.name,r=a[t]?e.extensionASTNodes?e.extensionASTNodes.concat(a[t]):a[t]:e.extensionASTNodes;return new he({name:t,description:e.description,types:function(){return function(e){var t=e.getTypes().map(re),r=a[e.name];if(r){var n=!0,i=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=!0,f=!1,d=void 0;try{for(var h,p=c.types[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value;t.push(w.buildType(y))}}catch(e){f=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}}return t}(e)},astNode:e.astNode,resolveType:e.resolveType,extensionASTNodes:r})}(e):R(e)?E[t]=function(e){var t=e.name,r=a[t]?e.extensionASTNodes?e.extensionASTNodes.concat(a[t]):a[t]:e.extensionASTNodes;return new pe({name:t,description:e.description,values:function(e){var t=Object.create(null),r=!0,n=!1,i=void 0;try{for(var o,s=e.getValues()[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;t[u.name]={description:u.description,value:u.value,deprecationReason:u.deprecationReason,astNode:u.astNode}}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}var c=a[e.name];if(c){var l=!0,f=!1,d=void 0;try{for(var h,p=c[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value,m=!0,v=!1,b=void 0;try{for(var g,_=y.values[Symbol.iterator]();!(m=(g=_.next()).done);m=!0){var E=g.value;t[E.name.value]=w.buildEnumValue(E)}}catch(e){v=!0,b=e}finally{try{m||null==_.return||_.return()}finally{if(v)throw b}}}}catch(e){f=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(f)throw d}}}return t}(e),astNode:e.astNode,extensionASTNodes:r})}(e):D(e)&&(E[t]=function(e){var t=e.name,r=a[t]?e.extensionASTNodes?e.extensionASTNodes.concat(a[t]):a[t]:e.extensionASTNodes;return new ye({name:t,description:e.description,fields:function(){return function(e){var t=p(e.getFields(),function(e){return{description:e.description,type:ae(e.type),defaultValue:e.defaultValue,astNode:e.astNode}}),r=a[e.name];if(r){var n=!0,i=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=!0,f=!1,d=void 0;try{for(var h,y=c.fields[Symbol.iterator]();!(l=(h=y.next()).done);l=!0){var m=h.value;t[m.name.value]=w.buildInputField(m)}}catch(e){f=!0,d=e}finally{try{l||null==y.return||y.return()}finally{if(f)throw d}}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}}return t}(e)},astNode:e.astNode,extensionASTNodes:r})}(e))),E[t]}function ne(e){return new Me({name:e.name,description:e.description,locations:e.locations,args:ie(e.args),astNode:e.astNode})}function ie(e){return m(e,function(e){return e.name},function(e){return{type:ae(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}})}function oe(e){var t=p(e.getFields(),function(e){return{description:e.description,deprecationReason:e.deprecationReason,type:ae(e.type),args:ie(e.args),astNode:e.astNode,resolve:e.resolve}}),r=a[e.name];if(r){var n=!0,i=!1,o=void 0;try{for(var s,u=r[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=!0,f=!1,d=void 0;try{for(var h,y=c.fields[Symbol.iterator]();!(l=(h=y.next()).done);l=!0){var m=h.value;t[m.name.value]=w.buildField(m)}}catch(e){f=!0,d=e}finally{try{l||null==y.return||y.return()}finally{if(f)throw d}}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}}return t}function ae(e){return C(e)?Y(ae(e.ofType)):F(e)?K(ae(e.ofType)):re(e)}}function Da(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ma(e){var t=Object.create(null),r=function(e){return e&&u(e)};return new qt({types:s(i(e.getTypeMap())),directives:La(e.getDirectives()).map(function(e){return new Me({name:e.name,description:e.description,locations:Fa(e.locations,function(e){return e}),args:n(e.args),astNode:e.astNode})}),query:r(e.getQueryType()),mutation:r(e.getMutationType()),subscription:r(e.getSubscriptionType()),astNode:e.astNode});function n(e){return m(La(e),function(e){return e.name},function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Da(e,t,r[t])})}return e}({},e,{type:a(e.type)})})}function o(e){return Ca(e,function(e){return{type:a(e.type),args:n(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}})}function a(e){return C(e)?new Y(a(e.ofType)):F(e)?new K(a(e.ofType)):u(e)}function s(e){return La(e).map(u)}function u(e){if(je(e)||Ct(e))return e;var r=t[e.name];return r||(r=function(e){if(T(e))return e;if(x(e))return new ue({name:e.name,interfaces:function(){return s(e.getInterfaces())},fields:function(){return o(e.getFields())},isTypeOf:e.isTypeOf,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if(I(e))return new de({name:e.name,fields:function(){return o(e.getFields())},resolveType:e.resolveType,description:e.description,astNode:e.astNode,extensionASTNodes:e.extensionASTNodes});if(j(e))return new he({name:e.name,types:function(){return s(e.getTypes())},resolveType:e.resolveType,description:e.description,astNode:e.astNode});if(R(e))return new pe({name:e.name,values:m(La(e.getValues()),function(e){return e.name},function(e){return{value:e.value,deprecationReason:e.deprecationReason,description:e.description,astNode:e.astNode}}),description:e.description,astNode:e.astNode});if(D(e))return new ye({name:e.name,fields:function(){return function(e){return Ca(e,function(e){return{type:a(e.type),defaultValue:e.defaultValue,description:e.description,astNode:e.astNode}})}(e.getFields())},description:e.description,astNode:e.astNode});throw new Error('Unknown type: "'.concat(e,'"'))}(e),t[e.name]=r),r}}function Ca(e,t){for(var r=Object.create(null),n=Fa(Object.keys(e),function(e){return e}),i=0;i<n.length;i++){var o=n[i],a=e[o];r[o]=t?t(a):a}return r}function La(e){return Fa(e,function(e){return e.name})}function Fa(e,t){return e.slice().sort(function(e,r){var n=t(e),i=t(r);return n.localeCompare(i)})}function Ba(e,t){return Va(e,function(e){return!Ue(e)},Ua,t)}function qa(e,t){return Va(e,Ue,Ct,t)}function Ua(e){return!je(e)&&!Ct(e)}function Va(e,t,r,n){var o=e.getDirectives().filter(t),a=e.getTypeMap(),s=i(a).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(r);return[function(e){if(function(e){var t=e.getQueryType();if(t&&"Query"!==t.name)return!1;var r=e.getMutationType();if(r&&"Mutation"!==r.name)return!1;var n=e.getSubscriptionType();if(n&&"Subscription"!==n.name)return!1;return!0}(e))return;var t=[],r=e.getQueryType();r&&t.push("  query: ".concat(r.name));var n=e.getMutationType();n&&t.push("  mutation: ".concat(n.name));var i=e.getSubscriptionType();i&&t.push("  subscription: ".concat(i.name));return"schema {\n".concat(t.join("\n"),"\n}")}(e)].concat(o.map(function(e){return function(e,t){return Ja(t,e)+"directive @"+e.name+Ga(t,e.args)+" on "+e.locations.join(" | ")}(e,n)}),s.map(function(e){return za(e,n)})).filter(Boolean).join("\n\n")+"\n"}function za(e,t){if(T(e))return function(e,t){return Ja(t,e)+"scalar ".concat(e.name)}(e,t);if(x(e))return function(e,t){var r=e.getInterfaces(),n=r.length?" implements "+r.map(function(e){return e.name}).join(" & "):"";return Ja(t,e)+"type ".concat(e.name).concat(n," {\n")+Qa(t,e)+"\n}"}(e,t);if(I(e))return function(e,t){return Ja(t,e)+"interface ".concat(e.name," {\n")+Qa(t,e)+"\n}"}(e,t);if(j(e))return function(e,t){return Ja(t,e)+"union ".concat(e.name," = ").concat(e.getTypes().join(" | "))}(e,t);if(R(e))return function(e,t){return Ja(t,e)+"enum ".concat(e.name," {\n")+function(e,t){return e.map(function(e,r){return Ja(t,e,"  ",!r)+"  "+e.name+$a(e)}).join("\n")}(e.getValues(),t)+"\n}"}(e,t);if(D(e))return function(e,t){var r=i(e.getFields());return Ja(t,e)+"input ".concat(e.name," {\n")+r.map(function(e,r){return Ja(t,e,"  ",!r)+"  "+Ha(e)}).join("\n")+"\n}"}(e,t);throw new Error("Unknown type: ".concat(e,"."))}function Qa(e,t){return i(t.getFields()).map(function(t,r){return Ja(e,t,"  ",!r)+"  "+t.name+Ga(e,t.args,"  ")+": "+String(t.type)+$a(t)}).join("\n")}function Ga(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return 0===t.length?"":t.every(function(e){return!e.description})?"("+t.map(Ha).join(", ")+")":"(\n"+t.map(function(t,n){return Ja(e,t,"  "+r,!n)+"  "+r+Ha(t)}).join("\n")+"\n"+r+")"}function Ha(e){var t=e.name+": "+String(e.type);return v(e.defaultValue)||(t+=" = ".concat(pt(ot(e.defaultValue,e.type)))),t}function $a(e){if(!e.isDeprecated)return"";var t=e.deprecationReason;return nt(t)||""===t||t===Fe?" @deprecated":" @deprecated(reason: "+pt(ot(t,xe))+")"}function Ja(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t.description)return"";var i=function(e,t){for(var r=[],n=e.split("\n"),i=0;i<n.length;i++)if(""===n[i])r.push(n[i]);else for(var o=Ya(n[i],t),a=0;a<o.length;a++)r.push(o[a]);return r}(t.description,120-r.length);if(e&&e.commentDescriptions)return function(e,t,r){for(var n=t&&!r?"\n":"",i=0;i<e.length;i++)""===e[i]?n+=t+"#\n":n+=t+"# "+e[i]+"\n";return n}(i,r,n);var o=r&&!n?"\n"+r+'"""':r+'"""';if(1===i.length&&i[0].length<70&&'"'!==i[0][i[0].length-1])return o+Xa(i[0])+'"""\n';var a=" "===i[0][0]||"\t"===i[0][0];a||(o+="\n");for(var s=0;s<i.length;s++)0===s&&a||(o+=r),o+=Xa(i[s])+"\n";return o+=r+'"""\n'}function Xa(e){return e.replace(/"""/g,'\\"""')}function Ya(e,t){if(e.length<t+5)return[e];var r=e.split(new RegExp("((?: |^).{15,".concat(t-40,"}(?= |$))")));if(r.length<4)return[e];for(var n=[r[0]+r[1]+r[2]],i=3;i<r.length;i+=2)n.push(r[i].slice(1)+r[i+1]);return n}function Ka(e,t){var r=xo(e,t).errors;return r?r.map(function(e){return e.message}):[]}function Wa(e,t){var r=new qt({}),n={kind:y.DOCUMENT,definitions:[]},i=new Fn(r,void 0,e),o=new go(r,n,i);return ct(t,dt(i,Ri(o))),o.getErrors()}function Za(e){for(var t=[],r=0;r<e.length;r++)for(var n=e[r].definitions,i=0;i<n.length;i++)t.push(n[i]);return{kind:"Document",definitions:t}}function es(e){var t,r=[],n=Object.create(null),i=new Map,o=Object.create(null),a=0;ct(e,{OperationDefinition:function(e){t=ts(e),r.push(e),i.set(e,a++)},FragmentDefinition:function(e){t=e.name.value,n[t]=e,i.set(e,a++)},FragmentSpread:function(e){var r=e.name.value;(o[t]||(o[t]=Object.create(null)))[r]=!0}});for(var s=Object.create(null),u=0;u<r.length;u++){var c=r[u],l=ts(c),f=Object.create(null);rs(f,o,l);for(var d=[c],h=Object.keys(f),p=0;p<h.length;p++){var y=h[p];d.push(n[y])}d.sort(function(e,t){return(i.get(e)||0)-(i.get(t)||0)}),s[l]={kind:"Document",definitions:d}}return s}function ts(e){return e.name?e.name.value:""}function rs(e,t,r){var n=t[r];if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];e[a]||(e[a]=!0,rs(e,t,a))}}var ns={FIELD_CHANGED_KIND:"FIELD_CHANGED_KIND",FIELD_REMOVED:"FIELD_REMOVED",TYPE_CHANGED_KIND:"TYPE_CHANGED_KIND",TYPE_REMOVED:"TYPE_REMOVED",TYPE_REMOVED_FROM_UNION:"TYPE_REMOVED_FROM_UNION",VALUE_REMOVED_FROM_ENUM:"VALUE_REMOVED_FROM_ENUM",ARG_REMOVED:"ARG_REMOVED",ARG_CHANGED_KIND:"ARG_CHANGED_KIND",REQUIRED_ARG_ADDED:"REQUIRED_ARG_ADDED",REQUIRED_INPUT_FIELD_ADDED:"REQUIRED_INPUT_FIELD_ADDED",INTERFACE_REMOVED_FROM_OBJECT:"INTERFACE_REMOVED_FROM_OBJECT",DIRECTIVE_REMOVED:"DIRECTIVE_REMOVED",DIRECTIVE_ARG_REMOVED:"DIRECTIVE_ARG_REMOVED",DIRECTIVE_LOCATION_REMOVED:"DIRECTIVE_LOCATION_REMOVED",REQUIRED_DIRECTIVE_ARG_ADDED:"REQUIRED_DIRECTIVE_ARG_ADDED"},is={ARG_DEFAULT_VALUE_CHANGE:"ARG_DEFAULT_VALUE_CHANGE",VALUE_ADDED_TO_ENUM:"VALUE_ADDED_TO_ENUM",INTERFACE_ADDED_TO_OBJECT:"INTERFACE_ADDED_TO_OBJECT",TYPE_ADDED_TO_UNION:"TYPE_ADDED_TO_UNION",OPTIONAL_INPUT_FIELD_ADDED:"OPTIONAL_INPUT_FIELD_ADDED",OPTIONAL_ARG_ADDED:"OPTIONAL_ARG_ADDED"};function os(e,t){return[].concat(function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(r),a=0;a<o.length;a++){var s=o[a];n[s]||i.push({type:ns.TYPE_REMOVED,description:"".concat(s," was removed.")})}return i}(e,t),function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(r),a=0;a<o.length;a++){var s=o[a];if(n[s]){var u=r[s],c=n[s];u.constructor!==c.constructor&&i.push({type:ns.TYPE_CHANGED_KIND,description:"".concat(s," changed from ")+"".concat(us(u)," to ").concat(us(c),".")})}}return i}(e,t),function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],u=r[s],c=n[s];if((x(u)||I(u))&&(x(c)||I(c))&&c.constructor===u.constructor)for(var l=u.getFields(),f=c.getFields(),d=Object.keys(l),h=0;h<d.length;h++){var p=d[h];if(p in f){var y=l[p].type,m=f[p].type,v=ls(y,m);if(!v){var b=ne(y)?y.name:y.toString(),g=ne(m)?m.name:m.toString();i.push({type:ns.FIELD_CHANGED_KIND,description:"".concat(s,".").concat(p," changed type from ")+"".concat(b," to ").concat(g,".")})}}else i.push({type:ns.FIELD_REMOVED,description:"".concat(s,".").concat(p," was removed.")})}}return i}(e,t),cs(e,t).breakingChanges,function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],u=r[s],c=n[s];if(j(u)&&j(c)){var l=Object.create(null),f=!0,d=!1,h=void 0;try{for(var p,y=c.getTypes()[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;l[m.name]=!0}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}var v=!0,b=!1,g=void 0;try{for(var _,w=u.getTypes()[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){var E=_.value;l[E.name]||i.push({type:ns.TYPE_REMOVED_FROM_UNION,description:"".concat(E.name," was removed from union type ").concat(s,".")})}}catch(e){b=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(b)throw g}}}}return i}(e,t),function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],u=r[s],c=n[s];if(R(u)&&R(c)){var l=Object.create(null),f=!0,d=!1,h=void 0;try{for(var p,y=c.getValues()[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;l[m.name]=!0}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}var v=!0,b=!1,g=void 0;try{for(var _,w=u.getValues()[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){var E=_.value;l[E.name]||i.push({type:ns.VALUE_REMOVED_FROM_ENUM,description:"".concat(E.name," was removed from enum type ").concat(s,".")})}}catch(e){b=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(b)throw g}}}}return i}(e,t),ss(e,t).breakingChanges,function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],u=r[s],c=n[s];if(x(u)&&x(c)){var l=u.getInterfaces(),f=c.getInterfaces(),d=!0,h=!1,p=void 0;try{for(var y,m=function(){var e=y.value;f.some(function(t){return t.name===e.name})||i.push({type:ns.INTERFACE_REMOVED_FROM_OBJECT,description:"".concat(s," no longer implements interface ")+"".concat(e.name,".")})},v=l[Symbol.iterator]();!(d=(y=v.next()).done);d=!0)m()}catch(e){h=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}}}return i}(e,t),function(e,t){var r=[],n=ys(t),i=!0,o=!1,a=void 0;try{for(var s,u=e.getDirectives()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c.name]||r.push({type:ns.DIRECTIVE_REMOVED,description:"".concat(c.name," was removed")})}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t),function(e,t){var r=[],n=ys(e),i=!0,o=!1,a=void 0;try{for(var s,u=t.getDirectives()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=n[c.name];if(l){var f=!0,d=!1,h=void 0;try{for(var p,y=ds(l,c)[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;r.push({type:ns.DIRECTIVE_ARG_REMOVED,description:"".concat(m.name," was removed from ").concat(c.name)})}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t),function(e,t){var r=[],n=ys(e),i=!0,o=!1,a=void 0;try{for(var s,u=t.getDirectives()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=n[c.name];if(l){var f=!0,d=!1,h=void 0;try{for(var p,y=hs(l,c)[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;fe(m)&&r.push({type:ns.REQUIRED_DIRECTIVE_ARG_ADDED,description:"A required arg ".concat(m.name," on directive ")+"".concat(c.name," was added")})}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t),function(e,t){var r=[],n=ys(e),i=!0,o=!1,a=void 0;try{for(var s,u=t.getDirectives()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=n[c.name];if(l){var f=!0,d=!1,h=void 0;try{for(var p,y=ps(l,c)[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;r.push({type:ns.DIRECTIVE_LOCATION_REMOVED,description:"".concat(m," was removed from ").concat(c.name)})}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}(e,t))}function as(e,t){return[].concat(ss(e,t).dangerousChanges,function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(r),a=0;a<o.length;a++){var s=o[a],u=r[s],c=n[s];if(R(u)&&R(c)){var l=Object.create(null),f=!0,d=!1,h=void 0;try{for(var p,y=u.getValues()[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;l[m.name]=!0}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}var v=!0,b=!1,g=void 0;try{for(var _,w=c.getValues()[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){var E=_.value;l[E.name]||i.push({type:is.VALUE_ADDED_TO_ENUM,description:"".concat(E.name," was added to enum type ").concat(s,".")})}}catch(e){b=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(b)throw g}}}}return i}(e,t),function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],u=r[s],c=n[s];if(x(u)&&x(c)){var l=u.getInterfaces(),f=c.getInterfaces(),d=!0,h=!1,p=void 0;try{for(var y,m=function(){var e=y.value;l.some(function(t){return t.name===e.name})||i.push({type:is.INTERFACE_ADDED_TO_OBJECT,description:"".concat(e.name," added to interfaces implemented ")+"by ".concat(s,".")})},v=f[Symbol.iterator]();!(d=(y=v.next()).done);d=!0)m()}catch(e){h=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}}}return i}(e,t),function(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],u=r[s],c=n[s];if(j(u)&&j(c)){var l=Object.create(null),f=!0,d=!1,h=void 0;try{for(var p,y=u.getTypes()[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var m=p.value;l[m.name]=!0}}catch(e){d=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw h}}var v=!0,b=!1,g=void 0;try{for(var _,w=c.getTypes()[Symbol.iterator]();!(v=(_=w.next()).done);v=!0){var E=_.value;l[E.name]||i.push({type:is.TYPE_ADDED_TO_UNION,description:"".concat(E.name," was added to union type ").concat(s,".")})}}catch(e){b=!0,g=e}finally{try{v||null==w.return||w.return()}finally{if(b)throw g}}}}return i}(e,t),cs(e,t).dangerousChanges)}function ss(e,t){for(var r=e.getTypeMap(),i=t.getTypeMap(),o=[],a=[],s=Object.keys(r),u=0;u<s.length;u++){var c=s[u],l=r[c],f=i[c];if((x(l)||I(l))&&(x(f)||I(f))&&f.constructor===l.constructor)for(var d=l.getFields(),h=f.getFields(),p=Object.keys(d),y=0;y<p.length;y++){var m=p[y];if(h[m]){var v=!0,b=!1,g=void 0;try{for(var _,w=function(){var e=_.value,t=h[m].args,r=n(t,function(t){return t.name===e.name});r?fs(e.type,r.type)?void 0!==e.defaultValue&&e.defaultValue!==r.defaultValue&&a.push({type:is.ARG_DEFAULT_VALUE_CHANGE,description:"".concat(l.name,".").concat(m," arg ")+"".concat(e.name," has changed defaultValue")}):o.push({type:ns.ARG_CHANGED_KIND,description:"".concat(l.name,".").concat(m," arg ")+"".concat(e.name," has changed type from ")+"".concat(e.type.toString()," to ").concat(r.type.toString())}):o.push({type:ns.ARG_REMOVED,description:"".concat(l.name,".").concat(m," arg ")+"".concat(e.name," was removed")})},E=d[m].args[Symbol.iterator]();!(v=(_=E.next()).done);v=!0)w()}catch(e){b=!0,g=e}finally{try{v||null==E.return||E.return()}finally{if(b)throw g}}var S=!0,T=!1,O=void 0;try{for(var A,N=function(){var e=A.value,t=d[m].args;if(!n(t,function(t){return t.name===e.name})){var r=e.name;fe(e)?o.push({type:ns.REQUIRED_ARG_ADDED,description:"A required arg ".concat(r," on ")+"".concat(c,".").concat(m," was added")}):a.push({type:is.OPTIONAL_ARG_ADDED,description:"An optional arg ".concat(r," on ")+"".concat(c,".").concat(m," was added")})}},j=h[m].args[Symbol.iterator]();!(S=(A=j.next()).done);S=!0)N()}catch(e){T=!0,O=e}finally{try{S||null==j.return||j.return()}finally{if(T)throw O}}}}}return{breakingChanges:o,dangerousChanges:a}}function us(e){if(T(e))return"a Scalar type";if(x(e))return"an Object type";if(I(e))return"an Interface type";if(j(e))return"a Union type";if(R(e))return"an Enum type";if(D(e))return"an Input type";throw new TypeError("Unknown type "+e.constructor.name)}function cs(e,t){for(var r=e.getTypeMap(),n=t.getTypeMap(),i=[],o=[],a=Object.keys(r),s=0;s<a.length;s++){var u=a[s],c=r[u],l=n[u];if(D(c)&&D(l)){for(var f=c.getFields(),d=l.getFields(),h=Object.keys(f),p=0;p<h.length;p++){var y=h[p];if(y in d){var m=f[y].type,v=d[y].type;if(!fs(m,v)){var b=ne(m)?m.name:m.toString(),g=ne(v)?v.name:v.toString();i.push({type:ns.FIELD_CHANGED_KIND,description:"".concat(u,".").concat(y," changed type from ")+"".concat(b," to ").concat(g,".")})}}else i.push({type:ns.FIELD_REMOVED,description:"".concat(u,".").concat(y," was removed.")})}for(var _=Object.keys(d),w=0;w<_.length;w++){var E=_[w];E in f||(me(d[E])?i.push({type:ns.REQUIRED_INPUT_FIELD_ADDED,description:"A required field ".concat(E," on ")+"input type ".concat(u," was added.")}):o.push({type:is.OPTIONAL_INPUT_FIELD_ADDED,description:"An optional field ".concat(E," on ")+"input type ".concat(u," was added.")}))}}}return{breakingChanges:i,dangerousChanges:o}}function ls(e,t){return ne(e)?ne(t)&&e.name===t.name||F(t)&&ls(e,t.ofType):C(e)?C(t)&&ls(e.ofType,t.ofType)||F(t)&&ls(e,t.ofType):!!F(e)&&(F(t)&&ls(e.ofType,t.ofType))}function fs(e,t){return ne(e)?ne(t)&&e.name===t.name:C(e)?C(t)&&fs(e.ofType,t.ofType):!!F(e)&&(F(t)&&fs(e.ofType,t.ofType)||!F(t)&&fs(e.ofType,t))}function ds(e,t){var r=[],n=ms(t),i=!0,o=!1,a=void 0;try{for(var s,u=e.args[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c.name]||r.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}function hs(e,t){var r=[],n=ms(e),i=!0,o=!1,a=void 0;try{for(var s,u=t.args[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n[c.name]||r.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}function ps(e,t){var r=[],n=new Set(t.locations),i=!0,o=!1,a=void 0;try{for(var s,u=e.locations[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;n.has(c)||r.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r}function ys(e){return h(e.getDirectives(),function(e){return e.name})}function ms(e){return h(e.args,function(e){return e.name})}function vs(e,t){var r=[],n=new Fn(e);return ct(t,dt(n,{Field:function(e){var t=n.getFieldDef();if(t&&t.isDeprecated){var i=n.getParentType();if(i){var o=t.deprecationReason;r.push(new $t("The field ".concat(i.name,".").concat(t.name," is deprecated.")+(o?" "+o:""),[e]))}}},EnumValue:function(e){var t=n.getEnumValue();if(t&&t.isDeprecated){var i=oe(n.getInputType());if(i){var o=t.deprecationReason;r.push(new $t("The enum value ".concat(i.name,".").concat(t.name," is deprecated.")+(o?" "+o:""),[e]))}}}})),r}r.d(t,"graphql",function(){return la}),r.d(t,"graphqlSync",function(){return fa}),r.d(t,"GraphQLSchema",function(){return qt}),r.d(t,"GraphQLScalarType",function(){return se}),r.d(t,"GraphQLObjectType",function(){return ue}),r.d(t,"GraphQLInterfaceType",function(){return de}),r.d(t,"GraphQLUnionType",function(){return he}),r.d(t,"GraphQLEnumType",function(){return pe}),r.d(t,"GraphQLInputObjectType",function(){return ye}),r.d(t,"GraphQLList",function(){return Y}),r.d(t,"GraphQLNonNull",function(){return K}),r.d(t,"GraphQLDirective",function(){return Me}),r.d(t,"TypeKind",function(){return jt}),r.d(t,"specifiedScalarTypes",function(){return Ne}),r.d(t,"GraphQLInt",function(){return Se}),r.d(t,"GraphQLFloat",function(){return Te}),r.d(t,"GraphQLString",function(){return xe}),r.d(t,"GraphQLBoolean",function(){return Ae}),r.d(t,"GraphQLID",function(){return Ie}),r.d(t,"specifiedDirectives",function(){return qe}),r.d(t,"GraphQLIncludeDirective",function(){return Ce}),r.d(t,"GraphQLSkipDirective",function(){return Le}),r.d(t,"GraphQLDeprecatedDirective",function(){return Be}),r.d(t,"DEFAULT_DEPRECATION_REASON",function(){return Fe}),r.d(t,"SchemaMetaFieldDef",function(){return Rt}),r.d(t,"TypeMetaFieldDef",function(){return Pt}),r.d(t,"TypeNameMetaFieldDef",function(){return Dt}),r.d(t,"introspectionTypes",function(){return Mt}),r.d(t,"__Schema",function(){return St}),r.d(t,"__Directive",function(){return Tt}),r.d(t,"__DirectiveLocation",function(){return Ot}),r.d(t,"__Type",function(){return xt}),r.d(t,"__Field",function(){return At}),r.d(t,"__InputValue",function(){return It}),r.d(t,"__EnumValue",function(){return Nt}),r.d(t,"__TypeKind",function(){return kt}),r.d(t,"isSchema",function(){return Ft}),r.d(t,"isDirective",function(){return Pe}),r.d(t,"isType",function(){return E}),r.d(t,"isScalarType",function(){return T}),r.d(t,"isObjectType",function(){return x}),r.d(t,"isInterfaceType",function(){return I}),r.d(t,"isUnionType",function(){return j}),r.d(t,"isEnumType",function(){return R}),r.d(t,"isInputObjectType",function(){return D}),r.d(t,"isListType",function(){return C}),r.d(t,"isNonNullType",function(){return F}),r.d(t,"isInputType",function(){return q}),r.d(t,"isOutputType",function(){return V}),r.d(t,"isLeafType",function(){return Q}),r.d(t,"isCompositeType",function(){return H}),r.d(t,"isAbstractType",function(){return J}),r.d(t,"isWrappingType",function(){return W}),r.d(t,"isNullableType",function(){return ee}),r.d(t,"isNamedType",function(){return ne}),r.d(t,"isRequiredArgument",function(){return fe}),r.d(t,"isRequiredInputField",function(){return me}),r.d(t,"isSpecifiedScalarType",function(){return je}),r.d(t,"isIntrospectionType",function(){return Ct}),r.d(t,"isSpecifiedDirective",function(){return Ue}),r.d(t,"assertSchema",function(){return Bt}),r.d(t,"assertDirective",function(){return De}),r.d(t,"assertType",function(){return S}),r.d(t,"assertScalarType",function(){return O}),r.d(t,"assertObjectType",function(){return A}),r.d(t,"assertInterfaceType",function(){return N}),r.d(t,"assertUnionType",function(){return k}),r.d(t,"assertEnumType",function(){return P}),r.d(t,"assertInputObjectType",function(){return M}),r.d(t,"assertListType",function(){return L}),r.d(t,"assertNonNullType",function(){return B}),r.d(t,"assertInputType",function(){return U}),r.d(t,"assertOutputType",function(){return z}),r.d(t,"assertLeafType",function(){return G}),r.d(t,"assertCompositeType",function(){return $}),r.d(t,"assertAbstractType",function(){return X}),r.d(t,"assertWrappingType",function(){return Z}),r.d(t,"assertNullableType",function(){return te}),r.d(t,"assertNamedType",function(){return ie}),r.d(t,"getNullableType",function(){return re}),r.d(t,"getNamedType",function(){return oe}),r.d(t,"validateSchema",function(){return er}),r.d(t,"assertValidSchema",function(){return tr}),r.d(t,"Source",function(){return Sr}),r.d(t,"getLocation",function(){return zt}),r.d(t,"parse",function(){return Ur}),r.d(t,"parseValue",function(){return Vr}),r.d(t,"parseType",function(){return zr}),r.d(t,"print",function(){return pt}),r.d(t,"visit",function(){return ct}),r.d(t,"visitInParallel",function(){return ft}),r.d(t,"visitWithTypeInfo",function(){return dt}),r.d(t,"getVisitFn",function(){return ht}),r.d(t,"Kind",function(){return y}),r.d(t,"TokenKind",function(){return kr}),r.d(t,"DirectiveLocation",function(){return ke}),r.d(t,"BREAK",function(){return ut}),r.d(t,"isDefinitionNode",function(){return qn}),r.d(t,"isExecutableDefinitionNode",function(){return Un}),r.d(t,"isSelectionNode",function(){return Vn}),r.d(t,"isValueNode",function(){return zn}),r.d(t,"isTypeNode",function(){return Qn}),r.d(t,"isTypeSystemDefinitionNode",function(){return Gn}),r.d(t,"isTypeDefinitionNode",function(){return Hn}),r.d(t,"isTypeSystemExtensionNode",function(){return $n}),r.d(t,"isTypeExtensionNode",function(){return Jn}),r.d(t,"execute",function(){return Bo}),r.d(t,"defaultFieldResolver",function(){return ua}),r.d(t,"responsePathAsArray",function(){return Uo}),r.d(t,"getDirectiveValues",function(){return Co}),r.d(t,"subscribe",function(){return ma}),r.d(t,"createSourceEventStream",function(){return ga}),r.d(t,"validate",function(){return _o}),r.d(t,"ValidationContext",function(){return go}),r.d(t,"specifiedRules",function(){return po}),r.d(t,"FieldsOnCorrectTypeRule",function(){return ci}),r.d(t,"FragmentsOnCompositeTypesRule",function(){return ai}),r.d(t,"KnownArgumentNamesRule",function(){return Ai}),r.d(t,"KnownDirectivesRule",function(){return Ei}),r.d(t,"KnownFragmentNamesRule",function(){return fi}),r.d(t,"KnownTypeNamesRule",function(){return ii}),r.d(t,"LoneAnonymousOperationRule",function(){return Kn}),r.d(t,"NoFragmentCyclesRule",function(){return mi}),r.d(t,"NoUndefinedVariablesRule",function(){return gi}),r.d(t,"NoUnusedFragmentsRule",function(){return hi}),r.d(t,"NoUnusedVariablesRule",function(){return wi}),r.d(t,"OverlappingFieldsCanBeMergedRule",function(){return Gi}),r.d(t,"PossibleFragmentSpreadsRule",function(){return pi}),r.d(t,"ProvidedRequiredArgumentsRule",function(){return Fi}),r.d(t,"ScalarLeafsRule",function(){return ui}),r.d(t,"SingleFieldSubscriptionsRule",function(){return Wn}),r.d(t,"UniqueArgumentNamesRule",function(){return Ni}),r.d(t,"UniqueDirectivesPerLocationRule",function(){return Ti}),r.d(t,"UniqueFragmentNamesRule",function(){return li}),r.d(t,"UniqueInputFieldNamesRule",function(){return to}),r.d(t,"UniqueOperationNamesRule",function(){return Yn}),r.d(t,"UniqueVariableNamesRule",function(){return vi}),r.d(t,"ValuesOfCorrectTypeRule",function(){return Ri}),r.d(t,"VariablesAreInputTypesRule",function(){return si}),r.d(t,"VariablesInAllowedPositionRule",function(){return Vi}),r.d(t,"GraphQLError",function(){return $t}),r.d(t,"formatError",function(){return _a}),r.d(t,"printError",function(){return Qt}),r.d(t,"getIntrospectionQuery",function(){return wa}),r.d(t,"introspectionQuery",function(){return Ea}),r.d(t,"getOperationAST",function(){return Sa}),r.d(t,"getOperationRootType",function(){return To}),r.d(t,"introspectionFromSchema",function(){return Ta}),r.d(t,"buildClientSchema",function(){return Oa}),r.d(t,"buildASTSchema",function(){return xa}),r.d(t,"buildSchema",function(){return ka}),r.d(t,"getDescription",function(){return ja}),r.d(t,"extendSchema",function(){return Pa}),r.d(t,"lexicographicSortSchema",function(){return Ma}),r.d(t,"printSchema",function(){return Ba}),r.d(t,"printIntrospectionSchema",function(){return qa}),r.d(t,"printType",function(){return za}),r.d(t,"typeFromAST",function(){return Ln}),r.d(t,"valueFromAST",function(){return Po}),r.d(t,"valueFromASTUntyped",function(){return b}),r.d(t,"astFromValue",function(){return ot}),r.d(t,"TypeInfo",function(){return Fn}),r.d(t,"coerceValue",function(){return xo}),r.d(t,"isValidJSValue",function(){return Ka}),r.d(t,"isValidLiteralValue",function(){return Wa}),r.d(t,"concatAST",function(){return Za}),r.d(t,"separateOperations",function(){return es}),r.d(t,"isEqualType",function(){return Kt}),r.d(t,"isTypeSubTypeOf",function(){return Wt}),r.d(t,"doTypesOverlap",function(){return Zt}),r.d(t,"assertValidName",function(){return Xt}),r.d(t,"isValidNameError",function(){return Yt}),r.d(t,"findBreakingChanges",function(){return os}),r.d(t,"findDangerousChanges",function(){return as}),r.d(t,"BreakingChangeType",function(){return ns}),r.d(t,"DangerousChangeType",function(){return is}),r.d(t,"findDeprecatedUsages",function(){return vs})},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),o=r(23),a=r.n(o);let s=void 0;const u=new Set,c=(e,t)=>t;function l(e=c){const t=Object(n.useReducer)(e,s,e),r=t[0],i=t[1];return Object(n.useDebugValue)(s),Object(n.useEffect)(()=>(i(s),u.add(i),()=>u.delete(i)),[]),r}a.a.trackSession(e=>{s=e?e.webId:null;for(const e of u)e(s)});const f=(e,t)=>void 0===t?void 0:null!==t;function d(){const e=l(f);return Object(n.useDebugValue)(e),e}const h=(e,t)=>void 0===t?void 0:null===t;function p(){const e=l(h);return Object(n.useDebugValue)(e),e}var y=r(19),m=r.n(y),v=i.a.createContext({});function b(){const e=Object(n.useContext)(v);return Object(n.useDebugValue)(e.timestamp||null),e}var g=r(52),_=r.n(g),w=r(267),E=r.n(w);function S(e){return/^https?:[^"]+$/.test(e)&&(e=`["${e}"]`),e}function T(e,t){const r={};for(const n of t)r[n]=e[n];return r}function O(e){return e.displayName||e.name||"Component"}function x({drop:e=!1,timeBetween:t=10,concurrent:r=(e?1:4)}={}){let n=[],i=0;function o(){i=n.length&&setTimeout(o,t),n.splice(0,r).forEach(async({run:e,resolve:t,reject:r})=>{try{t(await e())}catch(e){r(e)}})}return{schedule:function t(r,a=null){if(!Array.isArray(r))return t([r])[0];const s=[],u=r.map(e=>new Promise((t,r)=>s.push({run:e,resolve:t,reject:r,group:a})));return e?n=s:n.push(...s),i||o(),u},clear:function(e){const t=n.length>0;return n=n.filter(t=>void 0!==e&&t.group!==e),t}}}var A=r(43),I=r.n(A);const N=x();class j{constructor(){_()(this,"pending",{}),_()(this,"cancel",!1)}destroy(){this.pending={},this.cancel=!0,N.clear(this)}async evaluate(e,t,r){r({pending:!0,error:void 0});const n=N.schedule([...Object.entries(e).map(([e,t])=>()=>this.evaluateAsValue(e,t,r)),...Object.entries(t).map(([e,t])=>()=>this.evaluateAsList(e,t,r))],this);try{await Promise.all(n)}catch(e){r({error:e})}const i=await Promise.all(n.map(e=>e.catch(e=>(console.warn("@solid/react-components","Expression evaluation failed.",e),!0))));this.cancel||i.some(e=>!e)||0!==Object.keys(this.pending).length||r({pending:!1})}async evaluateAsValue(e,t,r){const n=this.resolveExpression(e,t,"then");this.pending[e]=n;try{const t=await n;if(this.pending[e]!==n)return!1;r({[e]:t})}finally{this.pending[e]===n&&delete this.pending[e]}return!0}async evaluateAsList(e,t,r){const n=this.resolveExpression(e,t,Symbol.asyncIterator);if(!n)return!0;this.pending[e]=n;const i=[],o=()=>!this.cancel&&r({[e]:[...i]}),a=x({timeBetween:100,drop:!0});try{var s,u=!0,c=!1;try{for(var l,f,d=E()(n);u=(l=await d.next()).done,f=await l.value,!u;u=!0){const t=f;if(this.pending[e]!==n)return!1;i.push(t),a.schedule(o)}}catch(e){c=!0,s=e}finally{try{u||null==d.return||await d.return()}finally{if(c)throw s}}}finally{const t=a.clear();this.pending[e]===n&&(t&&o(),delete this.pending[e])}return!0}resolveExpression(e,t,r){if(!t)return"";const n="string"==typeof t?I.a.resolve(t):t;if(!n||"function"!=typeof n[r])throw new Error(`${e} should be an LDflex path or string but is ${t}`);return n}}const k={result:void 0,pending:!0,error:void 0},R={result:[],pending:!0,error:void 0},P={};function D(e,t=!1){const r=l(),i=b(),o=Object(n.useState)(t?R:k),a=o[0],s=a.result,u=a.pending,c=a.error,f=o[1];return Object(n.useDebugValue)(c||s,M),Object(n.useEffect)(()=>{const r=new j,n={result:e};return r.evaluate(t?P:n,t?n:P,e=>f(t=>m()({},t,e))),()=>r.destroy()},[e,i,r&&"string"==typeof e]),[s,u,c]}function M(e){return Array.isArray(e)?e.map(M):`${e}`}function C(e){const t=D(e,!1)[0];return Object(n.useDebugValue)(t,M),t}function L(e){const t=D(e,!0)[0];return Object(n.useDebugValue)(t,M),t}var F=function(e,t){return r=>{const n=t(r);return n.displayName=`${e}(${O(r)})`,n}}("WithWebId",e=>t=>i.a.createElement(e,m()({},t,{webId:l()})));function B(e,t,r){if(!r){var n=[t,[]];r=n[0],t=n[1]}e=e?[...e]:[],t=t?[...t]:[];const o={pending:!0};for(const t of e)o[t]=void 0;for(const e of t)o[e]=[];class a extends i.a.Component{constructor(...e){super(...e),_()(this,"state",o)}componentDidMount(){this.evaluator=new j,this.update=(e=>this.setState(e)),this.evaluate(e,t)}componentDidUpdate(r){const n=this.props.webId!==r.webId,i=e=>this.props[e]!==r[e]||n&&"string"==typeof this.props[e];this.evaluate(e.filter(i),t.filter(i))}componentWillUnmount(){this.evaluator.destroy()}render(){return i.a.createElement(r,m()({},this.props,this.state))}evaluate(e,t){const r=this.props,n=this.evaluator;(e.length>0||t.length>0)&&n.evaluate(T(r,e),T(r,t),this.update)}}return _()(a,"displayName",`EvaluateExpressions(${O(r)})`),F(a)}function q(e,t){return B([],[e],t)}function U({children:e=null}){return d()?e:null}function V({children:e=null}){return p()?e:null}function z({popup:e,children:t="Log in",className:r="solid auth login"}){return i.a.createElement("button",{className:r,onClick:()=>a.a.popupLogin({popupUri:e})},t)}function Q({children:e="Log out",className:t="solid auth logout"}){return i.a.createElement("button",{className:t,onClick:()=>a.a.logout()},e)}var G=r(32),H=r.n(G);function $(e){let t=e.login,r=e.logout,n=H()(e,["login","logout"]);return d()?i.a.createElement(Q,n,r):i.a.createElement(z,n,t)}function J({src:e,children:t}){const r=D(e),n=r[0],o=r[1],a=r[2];return void 0!==n&&null!==n?`${n}`:o?t||i.a.createElement("span",{className:"solid value pending"}):a?t||i.a.createElement("span",{className:"solid value error","data-error":a.message}):t||i.a.createElement("span",{className:"solid value empty"})}function X(e){let t=e.src,r=e.defaultSrc,n=e.children,o=void 0===n?null:n,a=H()(e,["src","defaultSrc","children"]);return(t=C(t)||r)?i.a.createElement("img",m()({src:t,alt:""},a)):o}function Y({src:e,children:t=null}){return i.a.createElement(J,{src:e&&`${S(e)}.label`},t)}function K(e){let t=e.href,r=e.children,n=H()(e,["href","children"]);return t=C(t)||"",r=r||i.a.createElement(Y,{src:t&&`[${t}]`},`${t}`),t?i.a.createElement("a",m()({href:t},n),r):r}function W({src:e,children:t=null}){return i.a.createElement(J,{src:e&&`${S(e)}.name`},t)}function Z({src:e,offset:t=0,limit:r=1/0,filter:n=(()=>!0),container:o=(e=>i.a.createElement("ul",null,e)),children:a=((e,t)=>i.a.createElement("li",{key:t},`${e}`))}){const s=L(e).filter(n).slice(t,+t+ +r).map(a);return o?o(s):s}const ee="*",te={},re={},ne=new Set;class ie{constructor(e){this.subscriber=e}subscribe(...e){for(let t of e)(t=t.replace(/#.*/,""))in te||(te[t]=new Set,t!==ee?oe(t):ne.forEach(oe)),te[t].add(this.subscriber)}unsubscribe(...e){for(let t of e)(t=t.replace(/#.*/,""))in te&&te[t].delete(this.subscriber)}}function oe(e){const t=new URL(e),r=t.protocol,n=t.host;let i=re[n];if(!i){const e=`${r.replace("http","ws")}//${n}/`;re[n]=i=new WebSocket(e),Object.assign(i,{enqueue:ae,onmessage:se,ready:new Promise(e=>i.onopen=e)})}i.enqueue(`sub ${e}`)}async function ae(e){await this.ready,this.send(e)}function se({data:e}){const t=/^pub +(.+)/.exec(e);if(!t)return;const r=t[1];I.a.clearCache(r);const n={timestamp:new Date,url:r};for(const e of te[r]||[])e(n);for(const e of te[ee]||[])e(n)}a.a.on("request",e=>{ne.has(e)||(ee in te&&oe(e),ne.add(e))});const ue=v.Provider;function ce({subscribe:e="*",children:t=null}){const r=function(...e){const t=Object(n.useState)({}),r=t[0],i=t[1];return Object(n.useDebugValue)(r.timestamp||null),Object(n.useEffect)(()=>{const t=new ie(i);return t.subscribe(...e),()=>t.unsubscribe(...e)},e),r}(..."string"!=typeof e?e:/\S/.test(e)?e.trim().split(/\s+/):[]);return i.a.createElement(ue,{value:r},t)}const le=I.a.context.as;function fe(e){let t=e.activityType,r=void 0===t?`${le}Like`:t,o=e.object,a=void 0===o?`[${window.location.href}]`:o,s=e.children,u=e.shortName,c=void 0===u?/\w*$/.exec(r)[0]:u,l=e.className,f=void 0===l?`solid activity ${c.toLowerCase()}`:l,d=e.activateText,h=void 0===d?c:d,p=e.deactivateText,y=void 0===p?h:p,v=e.activateLabel,b=void 0===v?s?[h," ",s]:h:v,g=e.deactivateLabel,_=void 0===g?s?[y," ",s]:y:g,w=H()(e,["activityType","object","children","shortName","className","activateText","deactivateText","activateLabel","deactivateLabel"]);a=S(a);const E=Object(n.useState)(),T=E[0],O=E[1],x=C(`${a}.findActivity("${r}")`);return void 0===T&&x&&O(!0),f=`${f} ${T?"performed":""}`,i.a.createElement("button",m()({className:f,onClick:async function(){O(!T);try{const e=T?"delete":"create";await I.a.resolve(`${a}.${e}Activity("${r}")`),O(!T)}catch(e){O(T),console.warn("@solid/react-components",e)}}},w),T?_:b)}function de(e,t,r,n){const o=`${le}${e}`;return e=>{let a=e.object,s=e.children,u=void 0===s?a?null:"this page":s,c=e.activateText,l=void 0===c?t:c,f=e.deactivateText,d=void 0===f?u?r:n:f,h=H()(e,["object","children","activateText","deactivateText"]);return i.a.createElement(fe,m()({},h,{activityType:o,object:a,children:u,activateText:l,deactivateText:d}))}}var he=de("Like","Like","You liked","Liked"),pe=de("Dislike","Dislike","You disliked","Disliked"),ye=de("Follow","Follow","You follow","Following"),me=r(13);const ve=Object(me.oneOfType)([me.string,me.object]),be=Object(me.oneOfType)([me.number,me.string]),ge=Object(me.oneOfType)([me.array,me.string,me.element]),_e={children:ge.isRequired},we={src:ve.isRequired,children:ge};function Ee(e,...t){e.propTypes=Object.assign({},...t)}Ee(U,_e),Ee(U,_e),Ee(z,{popup:me.string}),Ee($,z.propTypes),Ee(J,we),Ee(X,we,{defaultSrc:me.string}),Ee(K,{href:ve.isRequired,children:ge}),Ee(Y,we),Ee(W,we),Ee(Z,{src:ve.isRequired,container:me.func,children:me.func,limit:be,offset:be,filter:me.func}),Ee(ce,{subscribe:Object(me.oneOfType)([me.array,me.string])}),r.d(t,"useWebId",function(){return l}),r.d(t,"useLoggedIn",function(){return d}),r.d(t,"useLoggedOut",function(){return p}),r.d(t,"useLDflex",function(){return D}),r.d(t,"useLDflexValue",function(){return C}),r.d(t,"useLDflexList",function(){return L}),r.d(t,"useLiveUpdate",function(){return b}),r.d(t,"withWebId",function(){return F}),r.d(t,"evaluateExpressions",function(){return B}),r.d(t,"evaluateList",function(){return q}),r.d(t,"LoggedIn",function(){return U}),r.d(t,"LoggedOut",function(){return V}),r.d(t,"LoginButton",function(){return z}),r.d(t,"LogoutButton",function(){return Q}),r.d(t,"AuthButton",function(){return $}),r.d(t,"Value",function(){return J}),r.d(t,"Image",function(){return X}),r.d(t,"Link",function(){return K}),r.d(t,"Label",function(){return Y}),r.d(t,"Name",function(){return W}),r.d(t,"List",function(){return Z}),r.d(t,"LiveUpdate",function(){return ce}),r.d(t,"ActivityButton",function(){return fe}),r.d(t,"LikeButton",function(){return he}),r.d(t,"Like",function(){return he}),r.d(t,"DislikeButton",function(){return pe}),r.d(t,"Dislike",function(){return pe}),r.d(t,"FollowButton",function(){return ye}),r.d(t,"Follow",function(){return ye}),r.d(t,"UpdateContext",function(){return v})}]);
//# sourceMappingURL=solid-react.bundle.js.map